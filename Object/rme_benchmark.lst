ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_benchmark.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Source/rme_benchmark.c"
  20              		.global	RME_Stack1
  21              		.section	.bss.RME_Stack1,"aw",%nobits
  22              		.align	2
  25              	RME_Stack1:
  26 0000 00000000 		.space	8192
  26      00000000 
  26      00000000 
  26      00000000 
  26      00000000 
  27              		.global	RME_Stack2
  28              		.section	.bss.RME_Stack2,"aw",%nobits
  29              		.align	2
  32              	RME_Stack2:
  33 0000 00000000 		.space	8192
  33      00000000 
  33      00000000 
  33      00000000 
  33      00000000 
  34              		.global	RME_Stack3
  35              		.section	.bss.RME_Stack3,"aw",%nobits
  36              		.align	2
  39              	RME_Stack3:
  40 0000 00000000 		.space	8192
  40      00000000 
  40      00000000 
  40      00000000 
  40      00000000 
  41              		.global	RME_Stack4
  42              		.section	.bss.RME_Stack4,"aw",%nobits
  43              		.align	2
  46              	RME_Stack4:
  47 0000 00000000 		.space	8192
  47      00000000 
  47      00000000 
  47      00000000 
  47      00000000 
  48              		.global	RME_Stack5
  49              		.section	.bss.RME_Stack5,"aw",%nobits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 2


  50              		.align	2
  53              	RME_Stack5:
  54 0000 00000000 		.space	8192
  54      00000000 
  54      00000000 
  54      00000000 
  54      00000000 
  55              		.global	Time
  56              		.section	.bss.Time,"aw",%nobits
  57              		.align	2
  60              	Time:
  61 0000 00000000 		.space	20000
  61      00000000 
  61      00000000 
  61      00000000 
  61      00000000 
  62              		.global	RME_Bench_Buf
  63              		.section	.bss.RME_Bench_Buf,"aw",%nobits
  64              		.align	2
  67              	RME_Bench_Buf:
  68 0000 00000000 		.space	1024
  68      00000000 
  68      00000000 
  68      00000000 
  68      00000000 
  69              		.section	.text.__USR_Putchar,"ax",%progbits
  70              		.align	2
  71              		.global	__USR_Putchar
  72              		.syntax unified
  73              		.arm
  75              	__USR_Putchar:
  76              	.LFB0:
  77              		.file 2 "Include/benchmark.h"
   1:Include/benchmark.h **** 
   2:Include/benchmark.h **** #include"rme.h"
   3:Include/benchmark.h **** /* Word size */
   4:Include/benchmark.h **** #define RME_WORD_BIT                                RME_POW2(RME_WORD_ORDER)
   5:Include/benchmark.h **** #define RME_WORD_BYTE                               (RME_WORD_BIT>>3)
   6:Include/benchmark.h **** #define RME_WORD_BIT_O1                             (RME_WORD_BYTE)
   7:Include/benchmark.h **** #define RME_WORD_BIT_O2                             (RME_WORD_BYTE*2U)
   8:Include/benchmark.h **** #define RME_WORD_BIT_O3                             (RME_WORD_BYTE*3U)
   9:Include/benchmark.h **** #define RME_WORD_BIT_O4                             (RME_WORD_BYTE*4U)
  10:Include/benchmark.h **** #define RME_WORD_BIT_O5                             (RME_WORD_BYTE*5U)
  11:Include/benchmark.h **** #define RME_WORD_BIT_O6                             (RME_WORD_BYTE*6U)
  12:Include/benchmark.h **** #define RME_WORD_BIT_O7                             (RME_WORD_BYTE*7U)
  13:Include/benchmark.h **** #define RME_WORD_BIT_Q1                             RME_WORD_BIT_O2
  14:Include/benchmark.h **** #define RME_WORD_BIT_Q2                             RME_WORD_BIT_O4
  15:Include/benchmark.h **** #define RME_WORD_BIT_Q3                             RME_WORD_BIT_O6
  16:Include/benchmark.h **** #define RME_WORD_BIT_D1                             RME_WORD_BIT_Q2
  17:Include/benchmark.h **** /* Thread creation */
  18:Include/benchmark.h **** #define RME_THD_SVC(ATTR,IS_HYP,SVC)                (RME_FIELD(ATTR,7U)|RME_FIELD(IS_HYP,6U)|(SVC))
  19:Include/benchmark.h **** /* UART peripheral address */
  20:Include/benchmark.h **** #define RME_A7A_UART_CONTROL      					(*((volatile unsigned int*)(0xE0001000)))
  21:Include/benchmark.h **** #define RME_A7A_UART_MODE         					(*((volatile unsigned int*)(0xE0001004)))
  22:Include/benchmark.h **** #define RME_A7A_UART_BRGEN        					(*((volatile unsigned int*)(0xE0001018)))
  23:Include/benchmark.h **** #define RME_A7A_UART_STATUS       					(*((volatile unsigned int*)(0xE000102C)))
  24:Include/benchmark.h **** #define RME_A7A_UART_FIFO         					(*((volatile unsigned int*)(0xE0001030)))
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 3


  25:Include/benchmark.h **** #define RME_A7A_UART_BRDIV        					(*((volatile unsigned int*)(0xE0001034)))
  26:Include/benchmark.h **** #define RME_A7A_UART_STATUS_TXE   					(1U<<3)
  27:Include/benchmark.h **** //#define RME_DBG_S(STR)                              RME_Str_Print((const signed char*)(STR))
  28:Include/benchmark.h **** /* NULL */
  29:Include/benchmark.h **** #define RME_NULL 									0
  30:Include/benchmark.h **** 
  31:Include/benchmark.h **** #define RME_A7A_PUTCHAR(CHAR) \
  32:Include/benchmark.h **** do \
  33:Include/benchmark.h **** { \
  34:Include/benchmark.h ****     while((RME_A7A_UART_STATUS&RME_A7A_UART_STATUS_TXE)==0); \
  35:Include/benchmark.h **** 	RME_A7A_UART_FIFO=(CHAR); \
  36:Include/benchmark.h **** } \
  37:Include/benchmark.h **** while(0)
  38:Include/benchmark.h **** 
  39:Include/benchmark.h **** /* Define ********************************************************************/
  40:Include/benchmark.h **** /* Types */
  41:Include/benchmark.h **** typedef signed int                          s32;
  42:Include/benchmark.h **** typedef signed short                        s16;
  43:Include/benchmark.h **** typedef signed char                         s8;
  44:Include/benchmark.h **** typedef unsigned int                        u32;
  45:Include/benchmark.h **** typedef unsigned short                      u16;
  46:Include/benchmark.h **** typedef unsigned char                       u8;
  47:Include/benchmark.h **** typedef s32                                 tid_t;
  48:Include/benchmark.h **** typedef u32                       			ptr_t;
  49:Include/benchmark.h **** typedef s32                       			cnt_t;
  50:Include/benchmark.h **** typedef s32 								cid_t;
  51:Include/benchmark.h **** typedef s32                        			ret_t;
  52:Include/benchmark.h **** 
  53:Include/benchmark.h **** #define BENCHMARK_STACK_SIZE 4096
  54:Include/benchmark.h **** /* System service stub */
  55:Include/benchmark.h **** //#define RME_CAP_OP(OP,CAPID,ARG1,ARG2,ARG3) RME_Svc(((OP)<<(sizeof(ptr_t)*4)|(CAPID)),ARG1,ARG2,A
  56:Include/benchmark.h **** #define RME_PARAM_D_MASK                    (((ptr_t)(-1))>>(sizeof(ptr_t)*4))
  57:Include/benchmark.h **** #define RME_PARAM_Q_MASK                    (((ptr_t)(-1))>>(sizeof(ptr_t)*6))
  58:Include/benchmark.h **** #define RME_PARAM_O_MASK                    (((ptr_t)(-1))>>(sizeof(ptr_t)*7))
  59:Include/benchmark.h **** /* The parameter passing - not to be confused with kernel macros. These macros just place the param
  60:Include/benchmark.h **** #define RME_PARAM_D1(X)                     (((X)&RME_PARAM_D_MASK)<<(sizeof(ptr_t)*4))
  61:Include/benchmark.h **** #define RME_PARAM_D0(X)                     ((X)&RME_PARAM_D_MASK)
  62:Include/benchmark.h **** 
  63:Include/benchmark.h **** #define RME_PARAM_Q3(X)                     (((X)&RME_PARAM_Q_MASK)<<(sizeof(ptr_t)*6))
  64:Include/benchmark.h **** #define RME_PARAM_Q2(X)                     (((X)&RME_PARAM_Q_MASK)<<(sizeof(ptr_t)*4))
  65:Include/benchmark.h **** #define RME_PARAM_Q1(X)                     (((X)&RME_PARAM_Q_MASK)<<(sizeof(ptr_t)*2))
  66:Include/benchmark.h **** #define RME_PARAM_Q0(X)                     ((X)&RME_PARAM_Q_MASK)
  67:Include/benchmark.h **** 
  68:Include/benchmark.h **** #define RME_PARAM_O7(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*7))
  69:Include/benchmark.h **** #define RME_PARAM_O6(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*6))
  70:Include/benchmark.h **** #define RME_PARAM_O5(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*5))
  71:Include/benchmark.h **** #define RME_PARAM_O4(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*4))
  72:Include/benchmark.h **** #define RME_PARAM_O3(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*3))
  73:Include/benchmark.h **** #define RME_PARAM_O2(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*2))
  74:Include/benchmark.h **** #define RME_PARAM_O1(X)                     (((X)&RME_PARAM_O_MASK)<<(sizeof(ptr_t)*1))
  75:Include/benchmark.h **** #define RME_PARAM_O0(X)                     ((X)&RME_PARAM_O_MASK)
  76:Include/benchmark.h **** 
  77:Include/benchmark.h **** 
  78:Include/benchmark.h **** /* Bit mask */
  79:Include/benchmark.h **** #define RME_MASK_FULL                               (~((ptr_t)0U))
  80:Include/benchmark.h **** #define RME_MASK_WORD                               (~(RME_MASK_FULL<<RME_WORD_ORDER))
  81:Include/benchmark.h **** #define RME_MASK_WORD_O                             RME_MASK_END(RME_WORD_BIT_O1-1U)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 4


  82:Include/benchmark.h **** #define RME_MASK_WORD_Q                             RME_MASK_END(RME_WORD_BIT_Q1-1U)
  83:Include/benchmark.h **** #define RME_MASK_WORD_D                             RME_MASK_END(RME_WORD_BIT_D1-1U)
  84:Include/benchmark.h **** /* Init thread infinite time marker */
  85:Include/benchmark.h **** #define RME_THD_INIT_TIME                           (RME_MASK_FULL>>1)
  86:Include/benchmark.h **** /* Other thread infinite time marker */
  87:Include/benchmark.h **** #define RME_THD_INF_TIME                            (RME_THD_INIT_TIME-1U)
  88:Include/benchmark.h **** 
  89:Include/benchmark.h **** /* Initial boot capabilities - This should be in accordnace with the kernel settings */
  90:Include/benchmark.h **** /* The capability table of the init process */
  91:Include/benchmark.h **** #define RME_BOOT_INIT_CPT                 		0
  92:Include/benchmark.h **** /* The top-level page table of the init process - always 4GB full range split into 8 pages */
  93:Include/benchmark.h **** #define RME_BOOT_INIT_PGT                 		1
  94:Include/benchmark.h **** /* The init process */
  95:Include/benchmark.h **** #define RME_BOOT_INIT_PRC                 		2
  96:Include/benchmark.h **** /* The init thread */
  97:Include/benchmark.h **** #define RME_BOOT_INIT_THD                 		3
  98:Include/benchmark.h **** /* The initial kernel function capability */
  99:Include/benchmark.h **** #define RME_BOOT_INIT_KFN          				4
 100:Include/benchmark.h **** /* The initial kernel memory capability */
 101:Include/benchmark.h **** #define RME_BOOT_INIT_KOM         				5
 102:Include/benchmark.h **** /* The initial timer endpoint */
 103:Include/benchmark.h **** #define RME_BOOT_INIT_TIMER      				6
 104:Include/benchmark.h **** /* The test objects */
 105:Include/benchmark.h **** #define RME_BOOT_BENCH_THD       				8
 106:Include/benchmark.h **** #define RME_BOOT_BENCH_PGT   				    9
 107:Include/benchmark.h **** #define RME_BOOT_BENCH_PGT_SRAM  				10
 108:Include/benchmark.h **** #define RME_BOOT_BENCH_SEN_THD					14
 109:Include/benchmark.h **** #define RME_BOOT_BENCH_RCV_THD					15
 110:Include/benchmark.h **** #define RME_BOOT_BENCH_THD_MAIN					16
 111:Include/benchmark.h **** #define RME_BOOT_BENCH_PRC                 		17
 112:Include/benchmark.h **** /* The top-level page table of the init process's SRAM */
 113:Include/benchmark.h **** #define RME_BOOT_INIT_PGT_SRAM    				11
 114:Include/benchmark.h **** /* the signal capability */
 115:Include/benchmark.h **** #define RME_BOOT_SIG_BENCH						13
 116:Include/benchmark.h **** /* Power of 2 */
 117:Include/benchmark.h **** #define RME_FIELD(VAL,POW)                      (((ptr_t)(VAL))<<(POW))
 118:Include/benchmark.h **** #define RME_POW2(POW)                           RME_FIELD(1U,POW)
 119:Include/benchmark.h **** /* Page table base address/top-level attributes */
 120:Include/benchmark.h **** #define RME_PGT_BASE(X)                         ((X)&RME_MASK_BEGIN(1U))
 121:Include/benchmark.h **** #define RME_PGT_TOP                             (1U)
 122:Include/benchmark.h **** #define RME_PGT_NOM                             (0U)
 123:Include/benchmark.h **** /* Page table */
 124:Include/benchmark.h **** #define RME_PGT_SVC(NUM_ORDER,SVC)                  (RME_FIELD(NUM_ORDER,RME_WORD_BIT_Q1)|(SVC))
 125:Include/benchmark.h **** /* The order of bits in one CPU machine word */
 126:Include/benchmark.h **** #define RME_WORD_ORDER            				(5U)
 127:Include/benchmark.h **** /* Word size */
 128:Include/benchmark.h **** #define RME_WORD_BIT                            RME_POW2(RME_WORD_ORDER)
 129:Include/benchmark.h **** /* Need to export the memory frontier! */
 130:Include/benchmark.h **** /* Need to export the flags as well ! */
 131:Include/benchmark.h **** /* Export the errno too */
 132:Include/benchmark.h **** #define RME_BOOT_BENCH_KOM_FRONTIER 			0x00008000U
 133:Include/benchmark.h **** /* Bench process page table real address */
 134:Include/benchmark.h **** #define RME_BOOT_BENCH_PGT_RADDR 				0x00060000U
 135:Include/benchmark.h **** /* The kernel-accessible virtual memory address,for this thread's register sets */
 136:Include/benchmark.h **** #define RME_BOOT_HYPER_KOM_VADDR                0x00000000U
 137:Include/benchmark.h **** /* The virtual memory start address for the kernel objects */
 138:Include/benchmark.h **** #define RME_KOM_VA_BASE              0x81000000U
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 5


 139:Include/benchmark.h **** //0x10005000
 140:Include/benchmark.h **** /* The stack safe size */
 141:Include/benchmark.h **** #define RME_STACK_SAFE_SIZE 					16
 142:Include/benchmark.h **** /* Doesn't want to receive the scheduler signal for the thread */
 143:Include/benchmark.h **** #define RME_CID_NULL   							0x8000
 144:Include/benchmark.h **** /* The maximum priority allowed for this thread. Once set, this cannot be changed. */
 145:Include/benchmark.h **** #define RME_THD_PRIO_MAX                        31
 146:Include/benchmark.h **** /*The thread ID*/
 147:Include/benchmark.h **** #define RME_TID_1                               1
 148:Include/benchmark.h **** #define RME_TID_2                               2
 149:Include/benchmark.h **** #define RME_TID_3                               3
 150:Include/benchmark.h **** #define RME_TID_4                               4
 151:Include/benchmark.h **** #define RME_TID_6                               6
 152:Include/benchmark.h **** 
 153:Include/benchmark.h **** #define RME_A7A_SFR(BASE,OFFSET)        (*((volatile ptr_t*)((ptr_t)((BASE)+(OFFSET)))))
 154:Include/benchmark.h **** 
 155:Include/benchmark.h **** /* Private timer and watchdog block base */
 156:Include/benchmark.h **** #define RME_A7A_PTWD_BASE           0xF8F00600
 157:Include/benchmark.h **** /* global timer base */
 158:Include/benchmark.h **** #define RME_A7A_GTWD_BASE           0xF8F00200/* Timer definitions */
 159:Include/benchmark.h **** #define RME_A7A_SYSTICK_VAL        (7670000U/2U)
 160:Include/benchmark.h **** /* global timer count register 0 */
 161:Include/benchmark.h **** #define RME_A7A_GTWD_GTCR0              RME_A7A_SFR(RME_A7A_GTWD_BASE,0x0000)
 162:Include/benchmark.h **** /* global timer count register 1 ,not need to use */
 163:Include/benchmark.h **** #define RME_A7A_GTWD_GTCR1              RME_A7A_SFR(RME_A7A_GTWD_BASE,0x0004)
 164:Include/benchmark.h **** /* global timer control register */
 165:Include/benchmark.h **** #define RME_A7A_GTWD_GTCTLR             RME_A7A_SFR(RME_A7A_GTWD_BASE,0x0008)
 166:Include/benchmark.h **** /* global timer is enabled and the counter increments normally */
 167:Include/benchmark.h **** #define RME_A7A_GTWD_GTCTLR_TIMEN       (1U<<0U)
 168:Include/benchmark.h **** /* Private timer load register */
 169:Include/benchmark.h **** #define RME_A7A_PTWD_PTLR               RME_A7A_SFR(RME_A7A_PTWD_BASE,0x0000)
 170:Include/benchmark.h **** /* Private timer counter register */
 171:Include/benchmark.h **** #define RME_A7A_PTWD_PTCNTR             RME_A7A_SFR(RME_A7A_PTWD_BASE,0x0004)
 172:Include/benchmark.h **** /* Private timer control register */
 173:Include/benchmark.h **** #define RME_A7A_PTWD_PTCTLR             RME_A7A_SFR(RME_A7A_PTWD_BASE,0x0008)
 174:Include/benchmark.h **** #define RME_A7A_PTWD_PTCTLR_PRESC(X)    ((X)<<8U)
 175:Include/benchmark.h **** #define RME_A7A_PTWD_PTCTLR_IRQEN       (1U<<2U)
 176:Include/benchmark.h **** #define RME_A7A_PTWD_PTCTLR_AUTOREL     (1U<<1U)
 177:Include/benchmark.h **** #define RME_A7A_PTWD_PTCTLR_TIMEN       (1U<<0U)
 178:Include/benchmark.h **** /* Private timer interrupt status register */
 179:Include/benchmark.h **** #define RME_A7A_PTWD_PTISR              RME_A7A_SFR(RME_A7A_PTWD_BASE,0x000C)
 180:Include/benchmark.h **** 
 181:Include/benchmark.h **** /* End Define ****************************************************************/
 182:Include/benchmark.h **** 
 183:Include/benchmark.h **** 
 184:Include/benchmark.h **** 
 185:Include/benchmark.h **** /* Private Variables *********************************************************/
 186:Include/benchmark.h **** /* The stack of the threads - enough for 4 threads */
 187:Include/benchmark.h **** ptr_t RME_Stack1[2048];
 188:Include/benchmark.h **** ptr_t RME_Stack2[2048];
 189:Include/benchmark.h **** ptr_t RME_Stack3[2048];
 190:Include/benchmark.h **** ptr_t RME_Stack4[2048];
 191:Include/benchmark.h **** ptr_t RME_Stack5[2048];
 192:Include/benchmark.h **** u16 Time[10000];
 193:Include/benchmark.h **** s8 RME_Bench_Buf[1024];
 194:Include/benchmark.h **** /* End Private Variables *****************************************************/
 195:Include/benchmark.h **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 6


 196:Include/benchmark.h **** /* Function Prototypes *******************************************************/
 197:Include/benchmark.h **** extern ret_t RME_Svc(ptr_t Svc_Capid,ptr_t Param1, ptr_t Param2, ptr_t Param3);
 198:Include/benchmark.h **** /* System service stub */
 199:Include/benchmark.h **** #define RME_SVC(SVC,CID,ARG1,ARG2,ARG3)             RME_Svc(RME_FIELD(SVC,RME_WORD_BIT_D1)|((ptr_t)
 200:Include/benchmark.h **** extern cnt_t RME_Sprint_Uint(s8* Buffer,u32 Arg_Int);
 201:Include/benchmark.h **** extern void RME_Thd_Stub(void);
 202:Include/benchmark.h **** extern void RME_Inv_Stub(void);
 203:Include/benchmark.h **** ptr_t _RME_Stack_Init(ptr_t Stack, ptr_t Stub, ptr_t Param1, ptr_t Param2, ptr_t Param3, ptr_t Para
 204:Include/benchmark.h **** void RME_Benchmark(void);
 205:Include/benchmark.h **** void RME_Same_Prc_Thd_Switch_Test_Thd(ptr_t Param1);
 206:Include/benchmark.h **** void RME_Same_Prc_Thd_Switch_Test(void);
 207:Include/benchmark.h **** /* End Function Prototypes ***************************************************/
 208:Include/benchmark.h **** 
 209:Include/benchmark.h **** /* Register access */
 210:Include/benchmark.h **** #define RME_A7A_REG(X)                          (*((volatile ptr_t*)(X)))
 211:Include/benchmark.h **** 
 212:Include/benchmark.h **** /* Function:__USR_Putchar *****************************************************
 213:Include/benchmark.h **** Description : Output a character to console. In Cortex-M, under most circumstances,
 214:Include/benchmark.h ****               we should use the ITM for such outputs.
 215:Include/benchmark.h **** Input       : char Char - The character to print.
 216:Include/benchmark.h **** Output      : None.
 217:Include/benchmark.h **** Return      : rme_ptr_t - Always 0.
 218:Include/benchmark.h **** ******************************************************************************/
 219:Include/benchmark.h **** ptr_t __USR_Putchar(char Char)
 220:Include/benchmark.h **** {
  78              		.loc 2 220 1
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 8
  81              		@ frame_needed = 1, uses_anonymous_args = 0
  82              		@ link register save eliminated.
  83 0000 04B02DE5 		str	fp, [sp, #-4]!
  84              		.cfi_def_cfa_offset 4
  85              		.cfi_offset 11, -4
  86 0004 00B08DE2 		add	fp, sp, #0
  87              		.cfi_def_cfa_register 11
  88 0008 0CD04DE2 		sub	sp, sp, #12
  89 000c 0030A0E1 		mov	r3, r0
  90 0010 05304BE5 		strb	r3, [fp, #-5]
  91              	.L2:
 221:Include/benchmark.h ****     RME_A7A_PUTCHAR(Char);
  92              		.loc 2 221 5 discriminator 1
  93 0014 2C3001E3 		movw	r3, #4140
  94 0018 00304EE3 		movt	r3, 57344
  95 001c 003093E5 		ldr	r3, [r3]
  96 0020 083003E2 		and	r3, r3, #8
  97 0024 000053E3 		cmp	r3, #0
  98 0028 F9FFFF0A 		beq	.L2
  99              		.loc 2 221 5 is_stmt 0 discriminator 2
 100 002c 303001E3 		movw	r3, #4144
 101 0030 00304EE3 		movt	r3, 57344
 102 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 103 0038 002083E5 		str	r2, [r3]
 222:Include/benchmark.h ****     return 0;
 104              		.loc 2 222 12 is_stmt 1
 105 003c 0030A0E3 		mov	r3, #0
 223:Include/benchmark.h **** }
 106              		.loc 2 223 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 7


 107 0040 0300A0E1 		mov	r0, r3
 108 0044 00D08BE2 		add	sp, fp, #0
 109              		.cfi_def_cfa_register 13
 110              		@ sp needed
 111 0048 04B09DE4 		ldr	fp, [sp], #4
 112              		.cfi_restore 11
 113              		.cfi_def_cfa_offset 0
 114 004c 1EFF2FE1 		bx	lr
 115              		.cfi_endproc
 116              	.LFE0:
 118              		.section	.text.USR_DBG_I,"ax",%progbits
 119              		.align	2
 120              		.global	USR_DBG_I
 121              		.syntax unified
 122              		.arm
 124              	USR_DBG_I:
 125              	.LFB1:
 224:Include/benchmark.h **** /* End Function __USR_Putchar ***************************************************/
 225:Include/benchmark.h **** 
 226:Include/benchmark.h **** 
 227:Include/benchmark.h **** /* Function:USR_DBG_I *****************************************************
 228:Include/benchmark.h **** Description : Print a signed integer on the debugging console. This integer is
 229:Include/benchmark.h ****               printed as decimal with sign.
 230:Include/benchmark.h **** Input       : rme_cnt_t Int - The integer to print.
 231:Include/benchmark.h **** Output      : None.
 232:Include/benchmark.h **** Return      : rme_cnt_t - The length of the string printed.
 233:Include/benchmark.h **** ******************************************************************************/
 234:Include/benchmark.h **** cnt_t USR_DBG_I(cnt_t Int)
 235:Include/benchmark.h **** {
 126              		.loc 2 235 1
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 32
 129              		@ frame_needed = 1, uses_anonymous_args = 0
 130 0000 00482DE9 		push	{fp, lr}
 131              		.cfi_def_cfa_offset 8
 132              		.cfi_offset 11, -8
 133              		.cfi_offset 14, -4
 134 0004 04B08DE2 		add	fp, sp, #4
 135              		.cfi_def_cfa 11, 4
 136 0008 20D04DE2 		sub	sp, sp, #32
 137 000c 20000BE5 		str	r0, [fp, #-32]
 236:Include/benchmark.h ****     cnt_t Num;
 237:Include/benchmark.h ****     cnt_t Abs;
 238:Include/benchmark.h ****     cnt_t Iter;
 239:Include/benchmark.h ****     cnt_t Count;
 240:Include/benchmark.h ****     cnt_t Div;
 241:Include/benchmark.h **** 
 242:Include/benchmark.h ****     /* Exit on zero */
 243:Include/benchmark.h ****     if(Int==0)
 138              		.loc 2 243 7
 139 0010 20301BE5 		ldr	r3, [fp, #-32]
 140 0014 000053E3 		cmp	r3, #0
 141 0018 0300001A 		bne	.L5
 244:Include/benchmark.h ****     {
 245:Include/benchmark.h **** 
 246:Include/benchmark.h **** 
 247:Include/benchmark.h ****         __USR_Putchar('0');
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 8


 142              		.loc 2 247 9
 143 001c 3000A0E3 		mov	r0, #48
 144 0020 FEFFFFEB 		bl	__USR_Putchar
 248:Include/benchmark.h ****         return 1;
 145              		.loc 2 248 16
 146 0024 0130A0E3 		mov	r3, #1
 147 0028 500000EA 		b	.L6
 148              	.L5:
 249:Include/benchmark.h ****     }
 250:Include/benchmark.h ****     else
 251:Include/benchmark.h ****     {
 252:Include/benchmark.h **** 
 253:Include/benchmark.h ****         /* No action required */
 254:Include/benchmark.h ****     }
 255:Include/benchmark.h **** 
 256:Include/benchmark.h **** 
 257:Include/benchmark.h ****     /* Correct all negatives into positives */
 258:Include/benchmark.h ****     if(Int<0)
 149              		.loc 2 258 7
 150 002c 20301BE5 		ldr	r3, [fp, #-32]
 151 0030 000053E3 		cmp	r3, #0
 152 0034 070000AA 		bge	.L7
 259:Include/benchmark.h ****     {
 260:Include/benchmark.h **** 
 261:Include/benchmark.h **** 
 262:Include/benchmark.h ****         __USR_Putchar('-');
 153              		.loc 2 262 9
 154 0038 2D00A0E3 		mov	r0, #45
 155 003c FEFFFFEB 		bl	__USR_Putchar
 263:Include/benchmark.h ****         Abs=-Int;
 156              		.loc 2 263 12
 157 0040 20301BE5 		ldr	r3, [fp, #-32]
 158 0044 003063E2 		rsb	r3, r3, #0
 159 0048 0C300BE5 		str	r3, [fp, #-12]
 264:Include/benchmark.h ****         Num=1;
 160              		.loc 2 264 12
 161 004c 0130A0E3 		mov	r3, #1
 162 0050 08300BE5 		str	r3, [fp, #-8]
 163 0054 030000EA 		b	.L8
 164              	.L7:
 265:Include/benchmark.h ****     }
 266:Include/benchmark.h ****     else
 267:Include/benchmark.h ****     {
 268:Include/benchmark.h **** 
 269:Include/benchmark.h **** 
 270:Include/benchmark.h ****         Abs=Int;
 165              		.loc 2 270 12
 166 0058 20301BE5 		ldr	r3, [fp, #-32]
 167 005c 0C300BE5 		str	r3, [fp, #-12]
 271:Include/benchmark.h ****         Num=0;
 168              		.loc 2 271 12
 169 0060 0030A0E3 		mov	r3, #0
 170 0064 08300BE5 		str	r3, [fp, #-8]
 171              	.L8:
 272:Include/benchmark.h ****     }
 273:Include/benchmark.h **** 
 274:Include/benchmark.h ****     /* How many digits are there? */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 9


 275:Include/benchmark.h ****     Count=0;
 172              		.loc 2 275 10
 173 0068 0030A0E3 		mov	r3, #0
 174 006c 14300BE5 		str	r3, [fp, #-20]
 276:Include/benchmark.h ****     Div=1;
 175              		.loc 2 276 8
 176 0070 0130A0E3 		mov	r3, #1
 177 0074 18300BE5 		str	r3, [fp, #-24]
 277:Include/benchmark.h ****     Iter=Abs;
 178              		.loc 2 277 9
 179 0078 0C301BE5 		ldr	r3, [fp, #-12]
 180 007c 10300BE5 		str	r3, [fp, #-16]
 181              	.L12:
 278:Include/benchmark.h ****     while(1U)
 279:Include/benchmark.h ****     {
 280:Include/benchmark.h ****         Iter/=10;
 182              		.loc 2 280 13
 183 0080 10201BE5 		ldr	r2, [fp, #-16]
 184 0084 673606E3 		movw	r3, #26215
 185 0088 663646E3 		movt	r3, 26214
 186 008c 9312C3E0 		smull	r1, r3, r3, r2
 187 0090 4311A0E1 		asr	r1, r3, #2
 188 0094 C23FA0E1 		asr	r3, r2, #31
 189 0098 033041E0 		sub	r3, r1, r3
 190 009c 10300BE5 		str	r3, [fp, #-16]
 281:Include/benchmark.h ****         Count++;
 191              		.loc 2 281 14
 192 00a0 14301BE5 		ldr	r3, [fp, #-20]
 193 00a4 013083E2 		add	r3, r3, #1
 194 00a8 14300BE5 		str	r3, [fp, #-20]
 282:Include/benchmark.h ****         if(Iter!=0)
 195              		.loc 2 282 11
 196 00ac 10301BE5 		ldr	r3, [fp, #-16]
 197 00b0 000053E3 		cmp	r3, #0
 198 00b4 0600000A 		beq	.L15
 283:Include/benchmark.h ****         {
 284:Include/benchmark.h **** 
 285:Include/benchmark.h **** 
 286:Include/benchmark.h ****             Div*=10;
 199              		.loc 2 286 16
 200 00b8 18201BE5 		ldr	r2, [fp, #-24]
 201 00bc 0230A0E1 		mov	r3, r2
 202 00c0 0331A0E1 		lsl	r3, r3, #2
 203 00c4 023083E0 		add	r3, r3, r2
 204 00c8 8330A0E1 		lsl	r3, r3, #1
 205 00cc 18300BE5 		str	r3, [fp, #-24]
 280:Include/benchmark.h ****         Count++;
 206              		.loc 2 280 13
 207 00d0 EAFFFFEA 		b	.L12
 208              	.L15:
 287:Include/benchmark.h ****         }
 288:Include/benchmark.h ****         else
 289:Include/benchmark.h ****         {
 290:Include/benchmark.h **** 
 291:Include/benchmark.h **** 
 292:Include/benchmark.h ****             break;
 209              		.loc 2 292 13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 10


 210 00d4 00F020E3 		nop
 293:Include/benchmark.h ****         }
 294:Include/benchmark.h ****     }
 295:Include/benchmark.h ****     Num+=Count;
 211              		.loc 2 295 8
 212 00d8 08201BE5 		ldr	r2, [fp, #-8]
 213 00dc 14301BE5 		ldr	r3, [fp, #-20]
 214 00e0 033082E0 		add	r3, r2, r3
 215 00e4 08300BE5 		str	r3, [fp, #-8]
 296:Include/benchmark.h **** 
 297:Include/benchmark.h ****     /* Print the integer */
 298:Include/benchmark.h ****     Iter=Abs;
 216              		.loc 2 298 9
 217 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 218 00ec 10300BE5 		str	r3, [fp, #-16]
 299:Include/benchmark.h **** 
 300:Include/benchmark.h ****     while(Count>0)
 219              		.loc 2 300 10
 220 00f0 1A0000EA 		b	.L13
 221              	.L14:
 301:Include/benchmark.h ****     {
 302:Include/benchmark.h ****         Count--;
 222              		.loc 2 302 14
 223 00f4 14301BE5 		ldr	r3, [fp, #-20]
 224 00f8 013043E2 		sub	r3, r3, #1
 225 00fc 14300BE5 		str	r3, [fp, #-20]
 303:Include/benchmark.h ****         __USR_Putchar((s8)(Iter/Div)+'0');
 226              		.loc 2 303 32
 227 0100 18101BE5 		ldr	r1, [fp, #-24]
 228 0104 10001BE5 		ldr	r0, [fp, #-16]
 229 0108 FEFFFFEB 		bl	__aeabi_idiv
 230 010c 0030A0E1 		mov	r3, r0
 231              		.loc 2 303 23
 232 0110 7330EFE6 		uxtb	r3, r3
 233              		.loc 2 303 37
 234 0114 303083E2 		add	r3, r3, #48
 235 0118 7330EFE6 		uxtb	r3, r3
 236              		.loc 2 303 9
 237 011c 7330AFE6 		sxtb	r3, r3
 238 0120 0300A0E1 		mov	r0, r3
 239 0124 FEFFFFEB 		bl	__USR_Putchar
 304:Include/benchmark.h ****         Iter=Iter%Div;
 240              		.loc 2 304 13
 241 0128 10301BE5 		ldr	r3, [fp, #-16]
 242 012c 18101BE5 		ldr	r1, [fp, #-24]
 243 0130 0300A0E1 		mov	r0, r3
 244 0134 FEFFFFEB 		bl	__aeabi_idivmod
 245 0138 0130A0E1 		mov	r3, r1
 246 013c 10300BE5 		str	r3, [fp, #-16]
 305:Include/benchmark.h ****         Div/=10;
 247              		.loc 2 305 12
 248 0140 18201BE5 		ldr	r2, [fp, #-24]
 249 0144 673606E3 		movw	r3, #26215
 250 0148 663646E3 		movt	r3, 26214
 251 014c 9312C3E0 		smull	r1, r3, r3, r2
 252 0150 4311A0E1 		asr	r1, r3, #2
 253 0154 C23FA0E1 		asr	r3, r2, #31
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 11


 254 0158 033041E0 		sub	r3, r1, r3
 255 015c 18300BE5 		str	r3, [fp, #-24]
 256              	.L13:
 300:Include/benchmark.h ****     {
 257              		.loc 2 300 16
 258 0160 14301BE5 		ldr	r3, [fp, #-20]
 259 0164 000053E3 		cmp	r3, #0
 260 0168 E1FFFFCA 		bgt	.L14
 306:Include/benchmark.h ****     }
 307:Include/benchmark.h **** 
 308:Include/benchmark.h ****     return Num;
 261              		.loc 2 308 12
 262 016c 08301BE5 		ldr	r3, [fp, #-8]
 263              	.L6:
 309:Include/benchmark.h **** }
 264              		.loc 2 309 1
 265 0170 0300A0E1 		mov	r0, r3
 266 0174 04D04BE2 		sub	sp, fp, #4
 267              		.cfi_def_cfa 13, 8
 268              		@ sp needed
 269 0178 0088BDE8 		pop	{fp, pc}
 270              		.cfi_endproc
 271              	.LFE1:
 273              		.section	.text.USR_DBG_H,"ax",%progbits
 274              		.align	2
 275              		.global	USR_DBG_H
 276              		.syntax unified
 277              		.arm
 279              	USR_DBG_H:
 280              	.LFB2:
 310:Include/benchmark.h **** /* End Function:USR_DBG_I ************************************************/
 311:Include/benchmark.h **** 
 312:Include/benchmark.h **** /* Function:USR_DBG_H *****************************************************
 313:Include/benchmark.h **** Description : Print a unsigned integer on the debugging console. This integer is
 314:Include/benchmark.h ****               printed as hexadecimal.
 315:Include/benchmark.h **** Input       : rme_ptr_t Uint - The unsigned integer to print.
 316:Include/benchmark.h **** Output      : None.
 317:Include/benchmark.h **** Return      : rme_cnt_t - The length of the string printed.
 318:Include/benchmark.h **** ******************************************************************************/
 319:Include/benchmark.h **** cnt_t USR_DBG_H(ptr_t Uint)
 320:Include/benchmark.h **** {
 281              		.loc 2 320 1
 282              		.cfi_startproc
 283              		@ args = 0, pretend = 0, frame = 24
 284              		@ frame_needed = 1, uses_anonymous_args = 0
 285 0000 00482DE9 		push	{fp, lr}
 286              		.cfi_def_cfa_offset 8
 287              		.cfi_offset 11, -8
 288              		.cfi_offset 14, -4
 289 0004 04B08DE2 		add	fp, sp, #4
 290              		.cfi_def_cfa 11, 4
 291 0008 18D04DE2 		sub	sp, sp, #24
 292 000c 18000BE5 		str	r0, [fp, #-24]
 321:Include/benchmark.h ****     ptr_t Iter;
 322:Include/benchmark.h ****     ptr_t Count;
 323:Include/benchmark.h ****     ptr_t Num;
 324:Include/benchmark.h **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 12


 325:Include/benchmark.h ****     /* Exit on zero */
 326:Include/benchmark.h ****     if(Uint==0U)
 293              		.loc 2 326 7
 294 0010 18301BE5 		ldr	r3, [fp, #-24]
 295 0014 000053E3 		cmp	r3, #0
 296 0018 0300001A 		bne	.L17
 327:Include/benchmark.h ****     {
 328:Include/benchmark.h ****         __USR_Putchar('0');
 297              		.loc 2 328 9
 298 001c 3000A0E3 		mov	r0, #48
 299 0020 FEFFFFEB 		bl	__USR_Putchar
 329:Include/benchmark.h ****         return 1;
 300              		.loc 2 329 16
 301 0024 0130A0E3 		mov	r3, #1
 302 0028 330000EA 		b	.L18
 303              	.L17:
 330:Include/benchmark.h ****     }
 331:Include/benchmark.h ****     else
 332:Include/benchmark.h ****     {
 333:Include/benchmark.h ****         /* No action required */
 334:Include/benchmark.h ****     }
 335:Include/benchmark.h **** 
 336:Include/benchmark.h ****     /* Filter out all the zeroes */
 337:Include/benchmark.h ****     Count=0U;
 304              		.loc 2 337 10
 305 002c 0030A0E3 		mov	r3, #0
 306 0030 0C300BE5 		str	r3, [fp, #-12]
 338:Include/benchmark.h ****     Iter=Uint;
 307              		.loc 2 338 9
 308 0034 18301BE5 		ldr	r3, [fp, #-24]
 309 0038 08300BE5 		str	r3, [fp, #-8]
 339:Include/benchmark.h ****     while((Iter>>(RME_WORD_BIT-4U))==0U)
 310              		.loc 2 339 10
 311 003c 050000EA 		b	.L19
 312              	.L20:
 340:Include/benchmark.h ****     {
 341:Include/benchmark.h ****         Iter<<=4;
 313              		.loc 2 341 13
 314 0040 08301BE5 		ldr	r3, [fp, #-8]
 315 0044 0332A0E1 		lsl	r3, r3, #4
 316 0048 08300BE5 		str	r3, [fp, #-8]
 342:Include/benchmark.h ****         Count++;
 317              		.loc 2 342 14
 318 004c 0C301BE5 		ldr	r3, [fp, #-12]
 319 0050 013083E2 		add	r3, r3, #1
 320 0054 0C300BE5 		str	r3, [fp, #-12]
 321              	.L19:
 339:Include/benchmark.h ****     while((Iter>>(RME_WORD_BIT-4U))==0U)
 322              		.loc 2 339 16
 323 0058 08301BE5 		ldr	r3, [fp, #-8]
 324 005c 233EA0E1 		lsr	r3, r3, #28
 339:Include/benchmark.h ****     while((Iter>>(RME_WORD_BIT-4U))==0U)
 325              		.loc 2 339 36
 326 0060 000053E3 		cmp	r3, #0
 327 0064 F5FFFF0A 		beq	.L20
 343:Include/benchmark.h ****     }
 344:Include/benchmark.h **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 13


 345:Include/benchmark.h ****     /* Count is the number of pts to print */
 346:Include/benchmark.h ****     Count=RME_POW2(RME_WORD_ORDER-2U)-Count;
 328              		.loc 2 346 10
 329 0068 0C301BE5 		ldr	r3, [fp, #-12]
 330 006c 083063E2 		rsb	r3, r3, #8
 331 0070 0C300BE5 		str	r3, [fp, #-12]
 347:Include/benchmark.h ****     Num=Count;
 332              		.loc 2 347 8
 333 0074 0C301BE5 		ldr	r3, [fp, #-12]
 334 0078 10300BE5 		str	r3, [fp, #-16]
 348:Include/benchmark.h ****     while(Count>0U)
 335              		.loc 2 348 10
 336 007c 1A0000EA 		b	.L21
 337              	.L23:
 349:Include/benchmark.h ****     {
 350:Include/benchmark.h ****         Count--;
 338              		.loc 2 350 14
 339 0080 0C301BE5 		ldr	r3, [fp, #-12]
 340 0084 013043E2 		sub	r3, r3, #1
 341 0088 0C300BE5 		str	r3, [fp, #-12]
 351:Include/benchmark.h ****         Iter=(Uint>>(Count<<2U))&0x0FU;
 342              		.loc 2 351 27
 343 008c 0C301BE5 		ldr	r3, [fp, #-12]
 344 0090 0331A0E1 		lsl	r3, r3, #2
 345              		.loc 2 351 19
 346 0094 18201BE5 		ldr	r2, [fp, #-24]
 347 0098 3233A0E1 		lsr	r3, r2, r3
 348              		.loc 2 351 13
 349 009c 0F3003E2 		and	r3, r3, #15
 350 00a0 08300BE5 		str	r3, [fp, #-8]
 352:Include/benchmark.h ****         if(Iter<10U)
 351              		.loc 2 352 11
 352 00a4 08301BE5 		ldr	r3, [fp, #-8]
 353 00a8 090053E3 		cmp	r3, #9
 354 00ac 0700008A 		bhi	.L22
 353:Include/benchmark.h ****         {
 354:Include/benchmark.h **** 
 355:Include/benchmark.h ****             __USR_Putchar((s8)Iter+'0');
 355              		.loc 2 355 27
 356 00b0 08301BE5 		ldr	r3, [fp, #-8]
 357 00b4 7330EFE6 		uxtb	r3, r3
 358              		.loc 2 355 35
 359 00b8 303083E2 		add	r3, r3, #48
 360 00bc 7330EFE6 		uxtb	r3, r3
 361              		.loc 2 355 13
 362 00c0 7330AFE6 		sxtb	r3, r3
 363 00c4 0300A0E1 		mov	r0, r3
 364 00c8 FEFFFFEB 		bl	__USR_Putchar
 365 00cc 060000EA 		b	.L21
 366              	.L22:
 356:Include/benchmark.h ****         }
 357:Include/benchmark.h ****         else
 358:Include/benchmark.h ****         {
 359:Include/benchmark.h **** 
 360:Include/benchmark.h ****             __USR_Putchar((s8)Iter+'A'-10);
 367              		.loc 2 360 27
 368 00d0 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 14


 369 00d4 7330EFE6 		uxtb	r3, r3
 370              		.loc 2 360 39
 371 00d8 373083E2 		add	r3, r3, #55
 372 00dc 7330EFE6 		uxtb	r3, r3
 373              		.loc 2 360 13
 374 00e0 7330AFE6 		sxtb	r3, r3
 375 00e4 0300A0E1 		mov	r0, r3
 376 00e8 FEFFFFEB 		bl	__USR_Putchar
 377              	.L21:
 348:Include/benchmark.h ****     {
 378              		.loc 2 348 16
 379 00ec 0C301BE5 		ldr	r3, [fp, #-12]
 380 00f0 000053E3 		cmp	r3, #0
 381 00f4 E1FFFF1A 		bne	.L23
 361:Include/benchmark.h ****         }
 362:Include/benchmark.h ****     }
 363:Include/benchmark.h **** 
 364:Include/benchmark.h ****     return (cnt_t)Num;
 382              		.loc 2 364 12
 383 00f8 10301BE5 		ldr	r3, [fp, #-16]
 384              	.L18:
 365:Include/benchmark.h **** }
 385              		.loc 2 365 1
 386 00fc 0300A0E1 		mov	r0, r3
 387 0100 04D04BE2 		sub	sp, fp, #4
 388              		.cfi_def_cfa 13, 8
 389              		@ sp needed
 390 0104 0088BDE8 		pop	{fp, pc}
 391              		.cfi_endproc
 392              	.LFE2:
 394              		.section	.text.USR_DBG_S,"ax",%progbits
 395              		.align	2
 396              		.global	USR_DBG_S
 397              		.syntax unified
 398              		.arm
 400              	USR_DBG_S:
 401              	.LFB3:
 366:Include/benchmark.h **** /* End Function:USR_DBG_H ************************************************/
 367:Include/benchmark.h **** cnt_t USR_DBG_S(const s8* String)
 368:Include/benchmark.h **** {
 402              		.loc 2 368 1
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 16
 405              		@ frame_needed = 1, uses_anonymous_args = 0
 406 0000 00482DE9 		push	{fp, lr}
 407              		.cfi_def_cfa_offset 8
 408              		.cfi_offset 11, -8
 409              		.cfi_offset 14, -4
 410 0004 04B08DE2 		add	fp, sp, #4
 411              		.cfi_def_cfa 11, 4
 412 0008 10D04DE2 		sub	sp, sp, #16
 413 000c 10000BE5 		str	r0, [fp, #-16]
 369:Include/benchmark.h ****     ptr_t Count;
 370:Include/benchmark.h **** 
 371:Include/benchmark.h ****     for(Count=0U;Count<255;Count++)
 414              		.loc 2 371 14
 415 0010 0030A0E3 		mov	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 15


 416 0014 08300BE5 		str	r3, [fp, #-8]
 417              		.loc 2 371 5
 418 0018 0E0000EA 		b	.L25
 419              	.L28:
 372:Include/benchmark.h ****     {
 373:Include/benchmark.h ****         if(String[Count]==(s8)'\0')
 420              		.loc 2 373 18
 421 001c 10201BE5 		ldr	r2, [fp, #-16]
 422 0020 08301BE5 		ldr	r3, [fp, #-8]
 423 0024 033082E0 		add	r3, r2, r3
 424 0028 D030D3E1 		ldrsb	r3, [r3]
 425              		.loc 2 373 11
 426 002c 000053E3 		cmp	r3, #0
 427 0030 0C00000A 		beq	.L30
 374:Include/benchmark.h ****         {
 375:Include/benchmark.h **** 
 376:Include/benchmark.h ****             break;
 377:Include/benchmark.h ****         }
 378:Include/benchmark.h ****         else
 379:Include/benchmark.h ****         {
 380:Include/benchmark.h ****             /* No action required */
 381:Include/benchmark.h ****         }
 382:Include/benchmark.h **** 
 383:Include/benchmark.h ****         __USR_Putchar(String[Count]);
 428              		.loc 2 383 29
 429 0034 10201BE5 		ldr	r2, [fp, #-16]
 430 0038 08301BE5 		ldr	r3, [fp, #-8]
 431 003c 033082E0 		add	r3, r2, r3
 432              		.loc 2 383 9
 433 0040 D030D3E1 		ldrsb	r3, [r3]
 434 0044 0300A0E1 		mov	r0, r3
 435 0048 FEFFFFEB 		bl	__USR_Putchar
 371:Include/benchmark.h ****     {
 436              		.loc 2 371 33 discriminator 2
 437 004c 08301BE5 		ldr	r3, [fp, #-8]
 438 0050 013083E2 		add	r3, r3, #1
 439 0054 08300BE5 		str	r3, [fp, #-8]
 440              	.L25:
 371:Include/benchmark.h ****     {
 441              		.loc 2 371 23 discriminator 1
 442 0058 08301BE5 		ldr	r3, [fp, #-8]
 443 005c FE0053E3 		cmp	r3, #254
 444 0060 EDFFFF9A 		bls	.L28
 445 0064 000000EA 		b	.L27
 446              	.L30:
 376:Include/benchmark.h ****         }
 447              		.loc 2 376 13
 448 0068 00F020E3 		nop
 449              	.L27:
 384:Include/benchmark.h ****     }
 385:Include/benchmark.h **** 
 386:Include/benchmark.h ****     return (cnt_t)Count;
 450              		.loc 2 386 12
 451 006c 08301BE5 		ldr	r3, [fp, #-8]
 387:Include/benchmark.h **** }
 452              		.loc 2 387 1
 453 0070 0300A0E1 		mov	r0, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 16


 454 0074 04D04BE2 		sub	sp, fp, #4
 455              		.cfi_def_cfa 13, 8
 456              		@ sp needed
 457 0078 0088BDE8 		pop	{fp, pc}
 458              		.cfi_endproc
 459              	.LFE3:
 461              		.section	.text.get_time,"ax",%progbits
 462              		.align	2
 463              		.global	get_time
 464              		.syntax unified
 465              		.arm
 467              	get_time:
 468              	.LFB4:
 388:Include/benchmark.h **** 
 389:Include/benchmark.h **** /* get current time */
 390:Include/benchmark.h **** ptr_t get_time(void)
 391:Include/benchmark.h **** {
 469              		.loc 2 391 1
 470              		.cfi_startproc
 471              		@ args = 0, pretend = 0, frame = 8
 472              		@ frame_needed = 1, uses_anonymous_args = 0
 473              		@ link register save eliminated.
 474 0000 04B02DE5 		str	fp, [sp, #-4]!
 475              		.cfi_def_cfa_offset 4
 476              		.cfi_offset 11, -4
 477 0004 00B08DE2 		add	fp, sp, #0
 478              		.cfi_def_cfa_register 11
 479 0008 0CD04DE2 		sub	sp, sp, #12
 392:Include/benchmark.h **** 	ptr_t temp;
 393:Include/benchmark.h **** 	temp=RME_A7A_REG(&RME_A7A_GTWD_GTCR0);
 480              		.loc 2 393 7
 481 000c 023CA0E3 		mov	r3, #512
 482 0010 F0384FE3 		movt	r3, 63728
 483              		.loc 2 393 6
 484 0014 003093E5 		ldr	r3, [r3]
 485 0018 08300BE5 		str	r3, [fp, #-8]
 394:Include/benchmark.h **** 	return temp;
 486              		.loc 2 394 9
 487 001c 08301BE5 		ldr	r3, [fp, #-8]
 395:Include/benchmark.h ****     /*USR_DBG_S("\r\n time=");
 396:Include/benchmark.h **** 	double time =(double)temp/RME_A7A_SYSTICK_VAL;
 397:Include/benchmark.h **** 	time =time*1000;
 398:Include/benchmark.h ****     USR_DBG_I(time);
 399:Include/benchmark.h ****     USR_DBG_S(" ms");*/
 400:Include/benchmark.h **** }
 488              		.loc 2 400 1
 489 0020 0300A0E1 		mov	r0, r3
 490 0024 00D08BE2 		add	sp, fp, #0
 491              		.cfi_def_cfa_register 13
 492              		@ sp needed
 493 0028 04B09DE4 		ldr	fp, [sp], #4
 494              		.cfi_restore 11
 495              		.cfi_def_cfa_offset 0
 496 002c 1EFF2FE1 		bx	lr
 497              		.cfi_endproc
 498              	.LFE4:
 500              		.section	.text.RME_Thd_Crt,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 17


 501              		.align	2
 502              		.global	RME_Thd_Crt
 503              		.syntax unified
 504              		.arm
 506              	RME_Thd_Crt:
 507              	.LFB5:
 508              		.file 3 "Include/sys.h"
   1:Include/sys.h **** #include"benchmark.h"
   2:Include/sys.h **** /* Function:RME_Thd_Crt *******************************************************
   3:Include/sys.h **** Description : Create a thread. A thread is the minimal kernel-level execution
   4:Include/sys.h ****               unit.
   5:Include/sys.h **** Input       : RME_cid_t Cap_Cpt - The capability to the capability table.
   6:Include/sys.h ****                                   2-Level.
   7:Include/sys.h ****               RME_cid_t Cap_Kom - The kernel memory capability.
   8:Include/sys.h ****                                   2-Level.
   9:Include/sys.h ****               RME_cid_t Cap_Thd - The capability slot that you want this newly
  10:Include/sys.h ****                                   created thread capability to be in.
  11:Include/sys.h ****                                   1-Level.
  12:Include/sys.h ****               RME_cid_t Cap_Prc - The capability to the process that it is in.
  13:Include/sys.h ****                                   2-Level.
  14:Include/sys.h ****               RME_ptr_t Prio_Max - The maximum priority allowed for this
  15:Include/sys.h ****                                    thread. Once set, this cannot be changed.
  16:Include/sys.h ****               RME_ptr_t Raddr - The relative virtual address to store the
  17:Include/sys.h ****                                 thread kernel object.
  18:Include/sys.h ****               RME_ptr_t Attr - The context attributes.
  19:Include/sys.h **** Output      : None.
  20:Include/sys.h **** Return      : RME_ret_t - If successful, the Thread ID; or an error code.
  21:Include/sys.h **** ******************************************************************************/
  22:Include/sys.h **** ret_t RME_Thd_Crt(cid_t Cap_Cpt,
  23:Include/sys.h ****                       cid_t Cap_Kom,
  24:Include/sys.h ****                       cid_t Cap_Thd,
  25:Include/sys.h ****                       cid_t Cap_Prc,
  26:Include/sys.h ****                       ptr_t Prio_Max,
  27:Include/sys.h ****                       ptr_t Raddr,
  28:Include/sys.h ****                       ptr_t Attr)
  29:Include/sys.h **** {
 509              		.loc 3 29 1
 510              		.cfi_startproc
 511              		@ args = 12, pretend = 0, frame = 16
 512              		@ frame_needed = 1, uses_anonymous_args = 0
 513 0000 00482DE9 		push	{fp, lr}
 514              		.cfi_def_cfa_offset 8
 515              		.cfi_offset 11, -8
 516              		.cfi_offset 14, -4
 517 0004 04B08DE2 		add	fp, sp, #4
 518              		.cfi_def_cfa 11, 4
 519 0008 10D04DE2 		sub	sp, sp, #16
 520 000c 08000BE5 		str	r0, [fp, #-8]
 521 0010 0C100BE5 		str	r1, [fp, #-12]
 522 0014 10200BE5 		str	r2, [fp, #-16]
 523 0018 14300BE5 		str	r3, [fp, #-20]
  30:Include/sys.h ****     return RME_SVC(RME_THD_SVC(Attr,0U,RME_SVC_THD_CRT),
 524              		.loc 3 30 12
 525 001c 0C309BE5 		ldr	r3, [fp, #12]
 526 0020 832BA0E1 		lsl	r2, r3, #23
 527 0024 08301BE5 		ldr	r3, [fp, #-8]
 528 0028 033082E1 		orr	r3, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 18


 529 002c 190883E3 		orr	r0, r3, #1638400
 530 0030 0C301BE5 		ldr	r3, [fp, #-12]
 531 0034 0328A0E1 		lsl	r2, r3, #16
 532 0038 10301BE5 		ldr	r3, [fp, #-16]
 533 003c 7330FFE6 		uxth	r3, r3
 534 0040 031082E1 		orr	r1, r2, r3
 535 0044 14301BE5 		ldr	r3, [fp, #-20]
 536 0048 0328A0E1 		lsl	r2, r3, #16
 537 004c 04309BE5 		ldr	r3, [fp, #4]
 538 0050 7330FFE6 		uxth	r3, r3
 539 0054 032082E1 		orr	r2, r2, r3
 540 0058 08309BE5 		ldr	r3, [fp, #8]
 541 005c FEFFFFEB 		bl	RME_Svc
 542 0060 0030A0E1 		mov	r3, r0
  31:Include/sys.h ****                    Cap_Cpt,
  32:Include/sys.h ****                    RME_PARAM_D1(Cap_Kom)|RME_PARAM_D0(Cap_Thd),
  33:Include/sys.h ****                    RME_PARAM_D1(Cap_Prc)|RME_PARAM_D0(Prio_Max),
  34:Include/sys.h ****                    Raddr);
  35:Include/sys.h **** }
 543              		.loc 3 35 1
 544 0064 0300A0E1 		mov	r0, r3
 545 0068 04D04BE2 		sub	sp, fp, #4
 546              		.cfi_def_cfa 13, 8
 547              		@ sp needed
 548 006c 0088BDE8 		pop	{fp, pc}
 549              		.cfi_endproc
 550              	.LFE5:
 552              		.section	.text.RME_Thd_Exec_Set,"ax",%progbits
 553              		.align	2
 554              		.global	RME_Thd_Exec_Set
 555              		.syntax unified
 556              		.arm
 558              	RME_Thd_Exec_Set:
 559              	.LFB6:
  36:Include/sys.h **** /* End Function:RME_Thd_Crt **************************************************/
  37:Include/sys.h **** 
  38:Include/sys.h **** /* Function:RME_Thd_Exec_Set **************************************************
  39:Include/sys.h **** Description : Set a thread's entry point and stack. The registers will be
  40:Include/sys.h ****               initialized with these contents.
  41:Include/sys.h **** Input       : RME_cid_t Cap_Thd - The capability to the thread.
  42:Include/sys.h ****                                   2-Level.
  43:Include/sys.h ****               void* Entry - The entry address of the thread.
  44:Include/sys.h ****               void* Stack - The stack address to use for execution.
  45:Include/sys.h ****               void* Param - The parameter to pass to the thread.
  46:Include/sys.h **** Output      : None.
  47:Include/sys.h **** Return      : RME_ret_t - If successful, 0; or an error code.
  48:Include/sys.h **** ******************************************************************************/
  49:Include/sys.h **** ret_t RME_Thd_Exec_Set(cid_t Cap_Thd,
  50:Include/sys.h ****                            ptr_t Entry,
  51:Include/sys.h ****                            ptr_t Stack,
  52:Include/sys.h ****                            ptr_t Param)
  53:Include/sys.h **** {
 560              		.loc 3 53 1
 561              		.cfi_startproc
 562              		@ args = 0, pretend = 0, frame = 16
 563              		@ frame_needed = 1, uses_anonymous_args = 0
 564 0000 00482DE9 		push	{fp, lr}
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 19


 565              		.cfi_def_cfa_offset 8
 566              		.cfi_offset 11, -8
 567              		.cfi_offset 14, -4
 568 0004 04B08DE2 		add	fp, sp, #4
 569              		.cfi_def_cfa 11, 4
 570 0008 10D04DE2 		sub	sp, sp, #16
 571 000c 08000BE5 		str	r0, [fp, #-8]
 572 0010 0C100BE5 		str	r1, [fp, #-12]
 573 0014 10200BE5 		str	r2, [fp, #-16]
 574 0018 14300BE5 		str	r3, [fp, #-20]
  54:Include/sys.h ****     return RME_SVC(RME_SVC_THD_EXEC_SET,
 575              		.loc 3 54 12
 576 001c 08301BE5 		ldr	r3, [fp, #-8]
 577 0020 060883E3 		orr	r0, r3, #393216
 578 0024 14301BE5 		ldr	r3, [fp, #-20]
 579 0028 10201BE5 		ldr	r2, [fp, #-16]
 580 002c 0C101BE5 		ldr	r1, [fp, #-12]
 581 0030 FEFFFFEB 		bl	RME_Svc
 582 0034 0030A0E1 		mov	r3, r0
  55:Include/sys.h ****                    Cap_Thd,
  56:Include/sys.h ****                    (ptr_t)Entry,
  57:Include/sys.h ****                    (ptr_t)Stack,
  58:Include/sys.h ****                    (ptr_t)Param);
  59:Include/sys.h **** }
 583              		.loc 3 59 1
 584 0038 0300A0E1 		mov	r0, r3
 585 003c 04D04BE2 		sub	sp, fp, #4
 586              		.cfi_def_cfa 13, 8
 587              		@ sp needed
 588 0040 0088BDE8 		pop	{fp, pc}
 589              		.cfi_endproc
 590              	.LFE6:
 592              		.section	.text.RME_Thd_Time_Xfer,"ax",%progbits
 593              		.align	2
 594              		.global	RME_Thd_Time_Xfer
 595              		.syntax unified
 596              		.arm
 598              	RME_Thd_Time_Xfer:
 599              	.LFB7:
  60:Include/sys.h **** /* End Function:RME_Thd_Exec_Set *********************************************/
  61:Include/sys.h **** 
  62:Include/sys.h **** /* Function:RME_Thd_Time_Xfer *************************************************
  63:Include/sys.h **** Description : Transfer time from one thread to another. This can only be called
  64:Include/sys.h ****               from the core that the thread is on, and the the two threads
  65:Include/sys.h ****               involved in the time transfer must be on the same core.
  66:Include/sys.h ****               If the time transfered is more than or equal to what the source
  67:Include/sys.h ****               have, the source will be out of time or blocked. If the source is
  68:Include/sys.h ****               both out of time and blocked, we do not send the notification;
  69:Include/sys.h ****               Instead, we send the notification when the receive endpoint
  70:Include/sys.h ****               actually receive something.
  71:Include/sys.h ****               It is possible to transfer time to threads have a lower priority,
  72:Include/sys.h ****               and it is also possible to transfer time to threads that have a
  73:Include/sys.h ****               higher priority. In the latter case, and if the source is
  74:Include/sys.h ****               currently running, a preemption will occur.
  75:Include/sys.h **** Input       : RME_cid_t Cap_Thd_Dst - The destination thread.
  76:Include/sys.h ****                                       2-Level.
  77:Include/sys.h ****               RME_cid_t Cap_Thd_Src - The source thread.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 20


  78:Include/sys.h ****                                       2-Level.
  79:Include/sys.h ****               RME_ptr_t Time - The time to transfer, in slices. A slice is the
  80:Include/sys.h ****                                minimal amount of time transfered in the system
  81:Include/sys.h ****                                usually on the order of 100us or 1ms.
  82:Include/sys.h ****                                Use RME_THD_INIT_TIME for revoking transfer.
  83:Include/sys.h ****                                Use RME_THD_INF_TIME for infinite trasnfer.
  84:Include/sys.h **** Output      : None.
  85:Include/sys.h **** Return      : RME_ret_t - If successful, the destination time amount; or an
  86:Include/sys.h ****                           error code.
  87:Include/sys.h **** ******************************************************************************/
  88:Include/sys.h **** ret_t RME_Thd_Time_Xfer(cid_t Cap_Thd_Dst,
  89:Include/sys.h ****                         cid_t Cap_Thd_Src,
  90:Include/sys.h ****                         ptr_t Time)
  91:Include/sys.h **** {
 600              		.loc 3 91 1
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 16
 603              		@ frame_needed = 1, uses_anonymous_args = 0
 604 0000 00482DE9 		push	{fp, lr}
 605              		.cfi_def_cfa_offset 8
 606              		.cfi_offset 11, -8
 607              		.cfi_offset 14, -4
 608 0004 04B08DE2 		add	fp, sp, #4
 609              		.cfi_def_cfa 11, 4
 610 0008 10D04DE2 		sub	sp, sp, #16
 611 000c 08000BE5 		str	r0, [fp, #-8]
 612 0010 0C100BE5 		str	r1, [fp, #-12]
 613 0014 10200BE5 		str	r2, [fp, #-16]
  92:Include/sys.h ****     return RME_SVC(RME_SVC_THD_TIME_XFER,
 614              		.loc 3 92 12
 615 0018 08101BE5 		ldr	r1, [fp, #-8]
 616 001c 0C201BE5 		ldr	r2, [fp, #-12]
 617 0020 10301BE5 		ldr	r3, [fp, #-16]
 618 0024 0207A0E3 		mov	r0, #524288
 619 0028 FEFFFFEB 		bl	RME_Svc
 620 002c 0030A0E1 		mov	r3, r0
  93:Include/sys.h ****                    0U,
  94:Include/sys.h ****                    Cap_Thd_Dst,
  95:Include/sys.h ****                    Cap_Thd_Src,
  96:Include/sys.h ****                    Time);
  97:Include/sys.h **** }
 621              		.loc 3 97 1
 622 0030 0300A0E1 		mov	r0, r3
 623 0034 04D04BE2 		sub	sp, fp, #4
 624              		.cfi_def_cfa 13, 8
 625              		@ sp needed
 626 0038 0088BDE8 		pop	{fp, pc}
 627              		.cfi_endproc
 628              	.LFE7:
 630              		.section	.text.RME_Thd_Sched_Bind,"ax",%progbits
 631              		.align	2
 632              		.global	RME_Thd_Sched_Bind
 633              		.syntax unified
 634              		.arm
 636              	RME_Thd_Sched_Bind:
 637              	.LFB8:
  98:Include/sys.h **** /* End Function:RME_Thd_Time_Xfer ********************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 21


  99:Include/sys.h **** 
 100:Include/sys.h **** 
 101:Include/sys.h **** /* Function:RME_Thd_Sched_Bind ************************************************
 102:Include/sys.h **** Description : Set a thread's priority level, and its scheduler thread. When
 103:Include/sys.h ****               there are any state changes on this thread, a notification will
 104:Include/sys.h ****               be sent to its scheduler thread. If the state of the thread
 105:Include/sys.h ****               changes for multiple times, then only the most recent state will
 106:Include/sys.h ****               be reflected in the scheduler's receive queue.
 107:Include/sys.h ****               The scheduler and the threads that it schedule must be on the
 108:Include/sys.h ****               same core. When a thread wants to go from one core to another,
 109:Include/sys.h ****               its notification to the scheduler must all be processed, and it
 110:Include/sys.h ****               must have no scheduler notifications in itself.
 111:Include/sys.h ****               This must be called on the same core with the Cap_Thd_Sched, and
 112:Include/sys.h ****               the Cap_Thd itself must be free.
 113:Include/sys.h ****               It is impossible to set a thread's priority beyond its maximum
 114:Include/sys.h ****               priority.
 115:Include/sys.h **** Input       : RME_cid_t Cap_Thd - The capability to the thread.
 116:Include/sys.h ****                                   2-Level.
 117:Include/sys.h ****               RME_cid_t Cap_Thd_Sched - The scheduler thread.
 118:Include/sys.h ****                                         2-Level.
 119:Include/sys.h ****               RME_cid_t Cap_Sig - The signal endpoint for scheduler
 120:Include/sys.h ****                                   notifications. This signal endpoint will be
 121:Include/sys.h ****                                   sent to whenever this thread has a fault, or
 122:Include/sys.h ****                                   timeouts. This is purely optional; if it is
 123:Include/sys.h ****                                   not needed, pass in RME_CID_NULL.
 124:Include/sys.h ****               RME_tid_t TID - The thread ID. This is user-supplied, and the
 125:Include/sys.h ****                               kernel will not check whether there are two
 126:Include/sys.h ****                               threads that have the same TID.
 127:Include/sys.h ****               RME_ptr_t Prio - The priority level, higher is more critical.
 128:Include/sys.h ****               ptr_t Haddr - The kernel-accessible virtual memory address
 129:Include/sys.h ****                                 for this thread's register sets, only used by
 130:Include/sys.h ****                                 hypervisor-managed threads. For other threads,
 131:Include/sys.h ****                                 please pass in NULL instead.
 132:Include/sys.h **** 
 133:Include/sys.h **** Output      : None.
 134:Include/sys.h **** Return      : RME_ret_t - If successful, 0; or an error code.
 135:Include/sys.h **** ******************************************************************************/
 136:Include/sys.h **** ret_t RME_Thd_Sched_Bind(cid_t Cap_Thd,
 137:Include/sys.h ****                          cid_t Cap_Thd_Sched,
 138:Include/sys.h ****                          cid_t Cap_Sig,
 139:Include/sys.h ****                          tid_t TID,
 140:Include/sys.h ****                          ptr_t Prio,
 141:Include/sys.h ****                          ptr_t Haddr)
 142:Include/sys.h **** {
 638              		.loc 3 142 1
 639              		.cfi_startproc
 640              		@ args = 8, pretend = 0, frame = 16
 641              		@ frame_needed = 1, uses_anonymous_args = 0
 642 0000 00482DE9 		push	{fp, lr}
 643              		.cfi_def_cfa_offset 8
 644              		.cfi_offset 11, -8
 645              		.cfi_offset 14, -4
 646 0004 04B08DE2 		add	fp, sp, #4
 647              		.cfi_def_cfa 11, 4
 648 0008 10D04DE2 		sub	sp, sp, #16
 649 000c 08000BE5 		str	r0, [fp, #-8]
 650 0010 0C100BE5 		str	r1, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 22


 651 0014 10200BE5 		str	r2, [fp, #-16]
 652 0018 14300BE5 		str	r3, [fp, #-20]
 143:Include/sys.h ****     return RME_SVC(RME_SVC_THD_SCHED_BIND,
 653              		.loc 3 143 12
 654 001c 08301BE5 		ldr	r3, [fp, #-8]
 655 0020 1B0883E3 		orr	r0, r3, #1769472
 656 0024 0C301BE5 		ldr	r3, [fp, #-12]
 657 0028 0328A0E1 		lsl	r2, r3, #16
 658 002c 10301BE5 		ldr	r3, [fp, #-16]
 659 0030 7330FFE6 		uxth	r3, r3
 660 0034 031082E1 		orr	r1, r2, r3
 661 0038 14301BE5 		ldr	r3, [fp, #-20]
 662 003c 0328A0E1 		lsl	r2, r3, #16
 663 0040 04309BE5 		ldr	r3, [fp, #4]
 664 0044 7330FFE6 		uxth	r3, r3
 665 0048 032082E1 		orr	r2, r2, r3
 666 004c 08309BE5 		ldr	r3, [fp, #8]
 667 0050 FEFFFFEB 		bl	RME_Svc
 668 0054 0030A0E1 		mov	r3, r0
 144:Include/sys.h ****                    Cap_Thd,
 145:Include/sys.h ****                    RME_PARAM_D1(Cap_Thd_Sched)|RME_PARAM_D0(Cap_Sig),
 146:Include/sys.h ****                    RME_PARAM_D1(TID)|RME_PARAM_D0(Prio),
 147:Include/sys.h ****                    Haddr);
 148:Include/sys.h **** }
 669              		.loc 3 148 1
 670 0058 0300A0E1 		mov	r0, r3
 671 005c 04D04BE2 		sub	sp, fp, #4
 672              		.cfi_def_cfa 13, 8
 673              		@ sp needed
 674 0060 0088BDE8 		pop	{fp, pc}
 675              		.cfi_endproc
 676              	.LFE8:
 678              		.section	.text.RME_Thd_Swt,"ax",%progbits
 679              		.align	2
 680              		.global	RME_Thd_Swt
 681              		.syntax unified
 682              		.arm
 684              	RME_Thd_Swt:
 685              	.LFB9:
 149:Include/sys.h **** /* End Function:RME_Thd_Sched_Bind *******************************************/
 150:Include/sys.h **** 
 151:Include/sys.h **** 
 152:Include/sys.h **** /* Function:RME_Thd_Swt *******************************************************
 153:Include/sys.h **** Description : Switch to another thread. The thread to switch to must have the
 154:Include/sys.h ****               same preemptive priority as this thread, and have time, and not
 155:Include/sys.h ****               blocked.
 156:Include/sys.h **** Input       : RME_cid_t Cap_Thd - The capability to the thread. If this is -1,
 157:Include/sys.h ****                                   the kernel will pickup whatever thread that
 158:Include/sys.h ****                                   has the highest priority and time to run.
 159:Include/sys.h ****                                   2-Level.
 160:Include/sys.h ****               RME_ptr_t Is_Yield - This is a flag to indicate whether this
 161:Include/sys.h ****                                    is a full yield. If it is, the kernel will
 162:Include/sys.h ****                                    discard all the time alloted on this
 163:Include/sys.h ****                                    thread.
 164:Include/sys.h **** Output      : None.
 165:Include/sys.h **** Return      : RME_ret_t - If successful, 0; or an error code.
 166:Include/sys.h **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 23


 167:Include/sys.h **** ret_t RME_Thd_Swt(cid_t Cap_Thd,
 168:Include/sys.h ****                   ptr_t Is_Yield)
 169:Include/sys.h **** {
 686              		.loc 3 169 1
 687              		.cfi_startproc
 688              		@ args = 0, pretend = 0, frame = 8
 689              		@ frame_needed = 1, uses_anonymous_args = 0
 690 0000 00482DE9 		push	{fp, lr}
 691              		.cfi_def_cfa_offset 8
 692              		.cfi_offset 11, -8
 693              		.cfi_offset 14, -4
 694 0004 04B08DE2 		add	fp, sp, #4
 695              		.cfi_def_cfa 11, 4
 696 0008 08D04DE2 		sub	sp, sp, #8
 697 000c 08000BE5 		str	r0, [fp, #-8]
 698 0010 0C100BE5 		str	r1, [fp, #-12]
 170:Include/sys.h ****     return RME_SVC(RME_SVC_THD_SWT,
 699              		.loc 3 170 12
 700 0014 08101BE5 		ldr	r1, [fp, #-8]
 701 0018 0030A0E3 		mov	r3, #0
 702 001c 0C201BE5 		ldr	r2, [fp, #-12]
 703 0020 0908A0E3 		mov	r0, #589824
 704 0024 FEFFFFEB 		bl	RME_Svc
 705 0028 0030A0E1 		mov	r3, r0
 171:Include/sys.h ****                    0U,
 172:Include/sys.h ****                    Cap_Thd,
 173:Include/sys.h ****                    Is_Yield,
 174:Include/sys.h ****                    0U);
 175:Include/sys.h **** }
 706              		.loc 3 175 1
 707 002c 0300A0E1 		mov	r0, r3
 708 0030 04D04BE2 		sub	sp, fp, #4
 709              		.cfi_def_cfa 13, 8
 710              		@ sp needed
 711 0034 0088BDE8 		pop	{fp, pc}
 712              		.cfi_endproc
 713              	.LFE9:
 715              		.section	.text.RME_Sig_Crt,"ax",%progbits
 716              		.align	2
 717              		.global	RME_Sig_Crt
 718              		.syntax unified
 719              		.arm
 721              	RME_Sig_Crt:
 722              	.LFB10:
 176:Include/sys.h **** /* End Function:RME_Thd_Swt **************************************************/
 177:Include/sys.h **** /*asynchronous communication function*/
 178:Include/sys.h **** /* Function:RME_Sig_Crt *******************************************************
 179:Include/sys.h **** Description : Create a signal endpoint.
 180:Include/sys.h **** Input       : RME_cid_t Cap_Cpt - The capability to the capability table to use
 181:Include/sys.h ****                                   for this signal.
 182:Include/sys.h ****                                   2-Level.
 183:Include/sys.h ****               RME_cid_t Cap_Sig - The capability slot that you want this newly
 184:Include/sys.h ****                                   created signal capability to be in.
 185:Include/sys.h ****                                   1-Level.
 186:Include/sys.h **** Output      : None.
 187:Include/sys.h **** Return      : RME_ret_t - If successful, 0; or an error code.
 188:Include/sys.h **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 24


 189:Include/sys.h **** ret_t RME_Sig_Crt(cid_t Cap_Cpt,
 190:Include/sys.h ****                   cid_t Cap_Sig)
 191:Include/sys.h **** {
 723              		.loc 3 191 1
 724              		.cfi_startproc
 725              		@ args = 0, pretend = 0, frame = 8
 726              		@ frame_needed = 1, uses_anonymous_args = 0
 727 0000 00482DE9 		push	{fp, lr}
 728              		.cfi_def_cfa_offset 8
 729              		.cfi_offset 11, -8
 730              		.cfi_offset 14, -4
 731 0004 04B08DE2 		add	fp, sp, #4
 732              		.cfi_def_cfa 11, 4
 733 0008 08D04DE2 		sub	sp, sp, #8
 734 000c 08000BE5 		str	r0, [fp, #-8]
 735 0010 0C100BE5 		str	r1, [fp, #-12]
 192:Include/sys.h ****     return RME_SVC(RME_SVC_SIG_CRT,
 736              		.loc 3 192 12
 737 0014 08301BE5 		ldr	r3, [fp, #-8]
 738 0018 1D0883E3 		orr	r0, r3, #1900544
 739 001c 0C101BE5 		ldr	r1, [fp, #-12]
 740 0020 0030A0E3 		mov	r3, #0
 741 0024 0020A0E3 		mov	r2, #0
 742 0028 FEFFFFEB 		bl	RME_Svc
 743 002c 0030A0E1 		mov	r3, r0
 193:Include/sys.h ****                    Cap_Cpt,
 194:Include/sys.h ****                    Cap_Sig,
 195:Include/sys.h ****                    0U,
 196:Include/sys.h ****                    0U);
 197:Include/sys.h **** }
 744              		.loc 3 197 1
 745 0030 0300A0E1 		mov	r0, r3
 746 0034 04D04BE2 		sub	sp, fp, #4
 747              		.cfi_def_cfa 13, 8
 748              		@ sp needed
 749 0038 0088BDE8 		pop	{fp, pc}
 750              		.cfi_endproc
 751              	.LFE10:
 753              		.section	.text.RME_Sig_Del,"ax",%progbits
 754              		.align	2
 755              		.global	RME_Sig_Del
 756              		.syntax unified
 757              		.arm
 759              	RME_Sig_Del:
 760              	.LFB11:
 198:Include/sys.h **** /* End Function:RME_Sig_Crt **************************************************/
 199:Include/sys.h **** /* Function:RME_Sig_Del *******************************************************
 200:Include/sys.h **** Description : Delete a signal endpoint.
 201:Include/sys.h **** Input       : RME_cid_t Cap_Cpt - The capability to the capability table to
 202:Include/sys.h ****                                   delete from.
 203:Include/sys.h ****                                   2-Level.
 204:Include/sys.h ****               RME_cid_t Cap_Sig - The capability to the signal.
 205:Include/sys.h ****                                   1-Level.
 206:Include/sys.h **** Output      : None.
 207:Include/sys.h **** Return      : RME_ret_t - If successful, 0; or an error code.
 208:Include/sys.h **** ******************************************************************************/
 209:Include/sys.h **** ret_t RME_Sig_Del(cid_t Cap_Cpt,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 25


 210:Include/sys.h ****                   cid_t Cap_Sig)
 211:Include/sys.h **** {
 761              		.loc 3 211 1
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 8
 764              		@ frame_needed = 1, uses_anonymous_args = 0
 765 0000 00482DE9 		push	{fp, lr}
 766              		.cfi_def_cfa_offset 8
 767              		.cfi_offset 11, -8
 768              		.cfi_offset 14, -4
 769 0004 04B08DE2 		add	fp, sp, #4
 770              		.cfi_def_cfa 11, 4
 771 0008 08D04DE2 		sub	sp, sp, #8
 772 000c 08000BE5 		str	r0, [fp, #-8]
 773 0010 0C100BE5 		str	r1, [fp, #-12]
 212:Include/sys.h ****     return RME_SVC(RME_SVC_SIG_DEL,
 774              		.loc 3 212 12
 775 0014 08301BE5 		ldr	r3, [fp, #-8]
 776 0018 1E0883E3 		orr	r0, r3, #1966080
 777 001c 0C101BE5 		ldr	r1, [fp, #-12]
 778 0020 0030A0E3 		mov	r3, #0
 779 0024 0020A0E3 		mov	r2, #0
 780 0028 FEFFFFEB 		bl	RME_Svc
 781 002c 0030A0E1 		mov	r3, r0
 213:Include/sys.h ****                    Cap_Cpt,
 214:Include/sys.h ****                    Cap_Sig,
 215:Include/sys.h ****                    0U,
 216:Include/sys.h ****                    0U);
 217:Include/sys.h **** }
 782              		.loc 3 217 1
 783 0030 0300A0E1 		mov	r0, r3
 784 0034 04D04BE2 		sub	sp, fp, #4
 785              		.cfi_def_cfa 13, 8
 786              		@ sp needed
 787 0038 0088BDE8 		pop	{fp, pc}
 788              		.cfi_endproc
 789              	.LFE11:
 791              		.section	.text.RME_Sig_Snd,"ax",%progbits
 792              		.align	2
 793              		.global	RME_Sig_Snd
 794              		.syntax unified
 795              		.arm
 797              	RME_Sig_Snd:
 798              	.LFB12:
 218:Include/sys.h **** /* End Function:RME_Sig_Del **************************************************/
 219:Include/sys.h **** /* Function:RME_Sig_Snd ******************************************************
 220:Include/sys.h **** Description : Try to send to a signal endpoint. This system call can cause
 221:Include/sys.h ****               a potential context switch.
 222:Include/sys.h **** Input       : RME_cid_t Cap_Sig - The capability to the signal.
 223:Include/sys.h ****                                   2-Level.
 224:Include/sys.h **** Output      : None.
 225:Include/sys.h **** Return      : RME_ret_t - If successful, 0, or an error code.
 226:Include/sys.h **** ******************************************************************************/
 227:Include/sys.h **** ret_t RME_Sig_Snd(cid_t Cap_Sig)
 228:Include/sys.h **** {
 799              		.loc 3 228 1
 800              		.cfi_startproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 26


 801              		@ args = 0, pretend = 0, frame = 8
 802              		@ frame_needed = 1, uses_anonymous_args = 0
 803 0000 00482DE9 		push	{fp, lr}
 804              		.cfi_def_cfa_offset 8
 805              		.cfi_offset 11, -8
 806              		.cfi_offset 14, -4
 807 0004 04B08DE2 		add	fp, sp, #4
 808              		.cfi_def_cfa 11, 4
 809 0008 08D04DE2 		sub	sp, sp, #8
 810 000c 08000BE5 		str	r0, [fp, #-8]
 229:Include/sys.h ****     return RME_SVC(RME_SVC_SIG_SND,
 811              		.loc 3 229 12
 812 0010 08101BE5 		ldr	r1, [fp, #-8]
 813 0014 0030A0E3 		mov	r3, #0
 814 0018 0020A0E3 		mov	r2, #0
 815 001c 0208A0E3 		mov	r0, #131072
 816 0020 FEFFFFEB 		bl	RME_Svc
 817 0024 0030A0E1 		mov	r3, r0
 230:Include/sys.h ****                    0U,
 231:Include/sys.h ****                    Cap_Sig,
 232:Include/sys.h ****                    0U,
 233:Include/sys.h ****                    0U);
 234:Include/sys.h **** }
 818              		.loc 3 234 1
 819 0028 0300A0E1 		mov	r0, r3
 820 002c 04D04BE2 		sub	sp, fp, #4
 821              		.cfi_def_cfa 13, 8
 822              		@ sp needed
 823 0030 0088BDE8 		pop	{fp, pc}
 824              		.cfi_endproc
 825              	.LFE12:
 827              		.section	.text.RME_Sig_Rcv,"ax",%progbits
 828              		.align	2
 829              		.global	RME_Sig_Rcv
 830              		.syntax unified
 831              		.arm
 833              	RME_Sig_Rcv:
 834              	.LFB13:
 235:Include/sys.h **** /* End Function:RME_Sig_Snd **************************************************/
 236:Include/sys.h **** /* Function:RME_Sig_Rcv *******************************************************
 237:Include/sys.h **** Description : Try to receive from a signal endpoint. The rules for signal
 238:Include/sys.h ****               endpoint receive is:
 239:Include/sys.h ****               1.If a receive endpoint have many send endpoints, everyone can
 240:Include/sys.h ****                 send to it, and sending to it will increase the count by 1.
 241:Include/sys.h ****               2.If some thread blocks on a receive endpoint, the wakeup is only
 242:Include/sys.h ****                 possible from the same core that thread is on.
 243:Include/sys.h ****               3.It is not recommended to let 2 cores operate on the rcv
 244:Include/sys.h ****                 endpoint simutaneously.
 245:Include/sys.h ****               This system call can potentially trigger a context switch.
 246:Include/sys.h **** Input       : RME_cid_t Cap_Sig - The capability to the signal.
 247:Include/sys.h ****                                   2-Level.
 248:Include/sys.h ****               RME_ptr_t Option - The receive option.
 249:Include/sys.h **** Output      : None.
 250:Include/sys.h **** Return      : RME_ret_t - If successful, a non-negative number containing the
 251:Include/sys.h ****                           number of signals received; or an error code.
 252:Include/sys.h **** ******************************************************************************/
 253:Include/sys.h **** ret_t RME_Sig_Rcv(cid_t Cap_Sig,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 27


 254:Include/sys.h ****                   ptr_t Option)
 255:Include/sys.h **** {
 835              		.loc 3 255 1
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 8
 838              		@ frame_needed = 1, uses_anonymous_args = 0
 839 0000 00482DE9 		push	{fp, lr}
 840              		.cfi_def_cfa_offset 8
 841              		.cfi_offset 11, -8
 842              		.cfi_offset 14, -4
 843 0004 04B08DE2 		add	fp, sp, #4
 844              		.cfi_def_cfa 11, 4
 845 0008 08D04DE2 		sub	sp, sp, #8
 846 000c 08000BE5 		str	r0, [fp, #-8]
 847 0010 0C100BE5 		str	r1, [fp, #-12]
 256:Include/sys.h ****     return RME_SVC(RME_SVC_SIG_RCV,
 848              		.loc 3 256 12
 849 0014 08101BE5 		ldr	r1, [fp, #-8]
 850 0018 0030A0E3 		mov	r3, #0
 851 001c 0C201BE5 		ldr	r2, [fp, #-12]
 852 0020 0308A0E3 		mov	r0, #196608
 853 0024 FEFFFFEB 		bl	RME_Svc
 854 0028 0030A0E1 		mov	r3, r0
 257:Include/sys.h ****                    0U,
 258:Include/sys.h ****                    Cap_Sig,
 259:Include/sys.h ****                    Option,
 260:Include/sys.h ****                    0U);
 261:Include/sys.h **** }
 855              		.loc 3 261 1
 856 002c 0300A0E1 		mov	r0, r3
 857 0030 04D04BE2 		sub	sp, fp, #4
 858              		.cfi_def_cfa 13, 8
 859              		@ sp needed
 860 0034 0088BDE8 		pop	{fp, pc}
 861              		.cfi_endproc
 862              	.LFE13:
 864              		.section	.text.RME_Prc_Crt,"ax",%progbits
 865              		.align	2
 866              		.global	RME_Prc_Crt
 867              		.syntax unified
 868              		.arm
 870              	RME_Prc_Crt:
 871              	.LFB14:
 262:Include/sys.h **** /* Function:RME_Prc_Crt *******************************************************
 263:Include/sys.h **** Description : Create a process. A process is in fact a protection domain
 264:Include/sys.h ****               associated with a set of capabilities.
 265:Include/sys.h **** Input       : cid_t Cap_Cpt_Crt - The capability to the capability table to
 266:Include/sys.h ****                                       put this process capability in.
 267:Include/sys.h ****                                       2-Level.
 268:Include/sys.h ****               cid_t Cap_Prc - The capability slot that you want this newly
 269:Include/sys.h ****                                   created process capability to be in.
 270:Include/sys.h ****                                   1-Level.
 271:Include/sys.h ****               cid_t Cap_Cpt - The capability to the capability table to use
 272:Include/sys.h ****                                   for this process.
 273:Include/sys.h ****                                   2-Level.
 274:Include/sys.h ****               cid_t Cap_Pgt - The capability to the page table to use for
 275:Include/sys.h ****                                   this process.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 28


 276:Include/sys.h ****                                   2-Level.
 277:Include/sys.h ****               ptr_t Raw_Pgt - Alternate user-supplied page table physical
 278:Include/sys.h ****                                   address.
 279:Include/sys.h **** Output      : None.
 280:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 281:Include/sys.h **** ******************************************************************************/
 282:Include/sys.h **** ret_t RME_Prc_Crt(cid_t Cap_Cpt_Crt,
 283:Include/sys.h ****                       cid_t Cap_Prc,
 284:Include/sys.h ****                       cid_t Cap_Cpt,
 285:Include/sys.h ****                       cid_t Cap_Pgt)
 286:Include/sys.h **** {
 872              		.loc 3 286 1
 873              		.cfi_startproc
 874              		@ args = 0, pretend = 0, frame = 16
 875              		@ frame_needed = 1, uses_anonymous_args = 0
 876 0000 00482DE9 		push	{fp, lr}
 877              		.cfi_def_cfa_offset 8
 878              		.cfi_offset 11, -8
 879              		.cfi_offset 14, -4
 880 0004 04B08DE2 		add	fp, sp, #4
 881              		.cfi_def_cfa 11, 4
 882 0008 10D04DE2 		sub	sp, sp, #16
 883 000c 08000BE5 		str	r0, [fp, #-8]
 884 0010 0C100BE5 		str	r1, [fp, #-12]
 885 0014 10200BE5 		str	r2, [fp, #-16]
 886 0018 14300BE5 		str	r3, [fp, #-20]
 287:Include/sys.h ****     return RME_SVC(RME_SVC_PRC_CRT,
 887              		.loc 3 287 12
 888 001c 08301BE5 		ldr	r3, [fp, #-8]
 889 0020 150883E3 		orr	r0, r3, #1376256
 890 0024 0C101BE5 		ldr	r1, [fp, #-12]
 891 0028 10201BE5 		ldr	r2, [fp, #-16]
 892 002c 14301BE5 		ldr	r3, [fp, #-20]
 893 0030 FEFFFFEB 		bl	RME_Svc
 894 0034 0030A0E1 		mov	r3, r0
 288:Include/sys.h ****                    Cap_Cpt_Crt,
 289:Include/sys.h ****                    Cap_Prc,
 290:Include/sys.h ****                    Cap_Cpt,
 291:Include/sys.h ****                    Cap_Pgt);
 292:Include/sys.h **** }
 895              		.loc 3 292 1
 896 0038 0300A0E1 		mov	r0, r3
 897 003c 04D04BE2 		sub	sp, fp, #4
 898              		.cfi_def_cfa 13, 8
 899              		@ sp needed
 900 0040 0088BDE8 		pop	{fp, pc}
 901              		.cfi_endproc
 902              	.LFE14:
 904              		.section	.text.RME_Prc_Del,"ax",%progbits
 905              		.align	2
 906              		.global	RME_Prc_Del
 907              		.syntax unified
 908              		.arm
 910              	RME_Prc_Del:
 911              	.LFB15:
 293:Include/sys.h **** /* End Function:RME_Prc_Crt **************************************************/
 294:Include/sys.h **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 29


 295:Include/sys.h **** /* Function:RME_Prc_Del *******************************************************
 296:Include/sys.h **** Description : Delete a process.
 297:Include/sys.h **** Input       : cid_t Cap_Cpt - The capability to the capability table.
 298:Include/sys.h ****                                   2-Level.
 299:Include/sys.h ****               cid_t Cap_Prc - The capability to the process.
 300:Include/sys.h ****                                   1-Level.
 301:Include/sys.h **** Output      : None.
 302:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 303:Include/sys.h **** ******************************************************************************/
 304:Include/sys.h **** ret_t RME_Prc_Del(cid_t Cap_Cpt,
 305:Include/sys.h ****                       cid_t Cap_Prc)
 306:Include/sys.h **** {
 912              		.loc 3 306 1
 913              		.cfi_startproc
 914              		@ args = 0, pretend = 0, frame = 8
 915              		@ frame_needed = 1, uses_anonymous_args = 0
 916 0000 00482DE9 		push	{fp, lr}
 917              		.cfi_def_cfa_offset 8
 918              		.cfi_offset 11, -8
 919              		.cfi_offset 14, -4
 920 0004 04B08DE2 		add	fp, sp, #4
 921              		.cfi_def_cfa 11, 4
 922 0008 08D04DE2 		sub	sp, sp, #8
 923 000c 08000BE5 		str	r0, [fp, #-8]
 924 0010 0C100BE5 		str	r1, [fp, #-12]
 307:Include/sys.h ****     return RME_SVC(RME_SVC_PRC_DEL,
 925              		.loc 3 307 12
 926 0014 08301BE5 		ldr	r3, [fp, #-8]
 927 0018 160883E3 		orr	r0, r3, #1441792
 928 001c 0C101BE5 		ldr	r1, [fp, #-12]
 929 0020 0030A0E3 		mov	r3, #0
 930 0024 0020A0E3 		mov	r2, #0
 931 0028 FEFFFFEB 		bl	RME_Svc
 932 002c 0030A0E1 		mov	r3, r0
 308:Include/sys.h ****                    Cap_Cpt,
 309:Include/sys.h ****                    Cap_Prc,
 310:Include/sys.h ****                    0U,
 311:Include/sys.h ****                    0U);
 312:Include/sys.h **** }
 933              		.loc 3 312 1
 934 0030 0300A0E1 		mov	r0, r3
 935 0034 04D04BE2 		sub	sp, fp, #4
 936              		.cfi_def_cfa 13, 8
 937              		@ sp needed
 938 0038 0088BDE8 		pop	{fp, pc}
 939              		.cfi_endproc
 940              	.LFE15:
 942              		.section	.text.RME_Prc_Cpt,"ax",%progbits
 943              		.align	2
 944              		.global	RME_Prc_Cpt
 945              		.syntax unified
 946              		.arm
 948              	RME_Prc_Cpt:
 949              	.LFB16:
 313:Include/sys.h **** /* End Function:RME_Prc_Del **************************************************/
 314:Include/sys.h **** 
 315:Include/sys.h **** /* Function:RME_Prc_Cpt *******************************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 30


 316:Include/sys.h **** Description : Change a process's capability table.
 317:Include/sys.h **** Input       : cid_t Cap_Prc - The capability to the process that have been
 318:Include/sys.h ****                                   created already.
 319:Include/sys.h ****                                   2-Level.
 320:Include/sys.h ****               cid_t Cap_Cpt - The capability to the capability table to use
 321:Include/sys.h ****                                   for this process.
 322:Include/sys.h ****                                   2-Level.
 323:Include/sys.h **** Output      : None.
 324:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 325:Include/sys.h **** ******************************************************************************/
 326:Include/sys.h **** ret_t RME_Prc_Cpt(cid_t Cap_Prc,
 327:Include/sys.h ****                       cid_t Cap_Cpt)
 328:Include/sys.h **** {
 950              		.loc 3 328 1
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 8
 953              		@ frame_needed = 1, uses_anonymous_args = 0
 954 0000 00482DE9 		push	{fp, lr}
 955              		.cfi_def_cfa_offset 8
 956              		.cfi_offset 11, -8
 957              		.cfi_offset 14, -4
 958 0004 04B08DE2 		add	fp, sp, #4
 959              		.cfi_def_cfa 11, 4
 960 0008 08D04DE2 		sub	sp, sp, #8
 961 000c 08000BE5 		str	r0, [fp, #-8]
 962 0010 0C100BE5 		str	r1, [fp, #-12]
 329:Include/sys.h ****     return RME_SVC(RME_SVC_PRC_CPT,
 963              		.loc 3 329 12
 964 0014 08101BE5 		ldr	r1, [fp, #-8]
 965 0018 0C201BE5 		ldr	r2, [fp, #-12]
 966 001c 0030A0E3 		mov	r3, #0
 967 0020 1708A0E3 		mov	r0, #1507328
 968 0024 FEFFFFEB 		bl	RME_Svc
 969 0028 0030A0E1 		mov	r3, r0
 330:Include/sys.h ****                    0U,
 331:Include/sys.h ****                    Cap_Prc,
 332:Include/sys.h ****                    Cap_Cpt,
 333:Include/sys.h ****                    0U);
 334:Include/sys.h **** }
 970              		.loc 3 334 1
 971 002c 0300A0E1 		mov	r0, r3
 972 0030 04D04BE2 		sub	sp, fp, #4
 973              		.cfi_def_cfa 13, 8
 974              		@ sp needed
 975 0034 0088BDE8 		pop	{fp, pc}
 976              		.cfi_endproc
 977              	.LFE16:
 979              		.section	.text.RME_Prc_Pgt,"ax",%progbits
 980              		.align	2
 981              		.global	RME_Prc_Pgt
 982              		.syntax unified
 983              		.arm
 985              	RME_Prc_Pgt:
 986              	.LFB17:
 335:Include/sys.h **** /* End Function:RME_Prc_Cpt **************************************************/
 336:Include/sys.h **** 
 337:Include/sys.h **** /* Function:RME_Prc_Pgt *******************************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 31


 338:Include/sys.h **** Description : Change a process's page table.
 339:Include/sys.h **** Input       : cid_t Cap_Prc - The capability to the process that have been
 340:Include/sys.h ****                                   created already.
 341:Include/sys.h ****                                   2-Level.
 342:Include/sys.h ****               cid_t Cap_Pgt - The capability to the page table to use for
 343:Include/sys.h ****                                   this process.
 344:Include/sys.h ****                                   2-Level.
 345:Include/sys.h ****               ptr_t Raw_Pgt - Alternate user-supplied page table physical
 346:Include/sys.h ****                                   address.
 347:Include/sys.h **** Output      : None.
 348:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 349:Include/sys.h **** ******************************************************************************/
 350:Include/sys.h **** ret_t RME_Prc_Pgt(cid_t Cap_Prc,
 351:Include/sys.h ****                       cid_t Cap_Pgt)
 352:Include/sys.h **** {
 987              		.loc 3 352 1
 988              		.cfi_startproc
 989              		@ args = 0, pretend = 0, frame = 8
 990              		@ frame_needed = 1, uses_anonymous_args = 0
 991 0000 00482DE9 		push	{fp, lr}
 992              		.cfi_def_cfa_offset 8
 993              		.cfi_offset 11, -8
 994              		.cfi_offset 14, -4
 995 0004 04B08DE2 		add	fp, sp, #4
 996              		.cfi_def_cfa 11, 4
 997 0008 08D04DE2 		sub	sp, sp, #8
 998 000c 08000BE5 		str	r0, [fp, #-8]
 999 0010 0C100BE5 		str	r1, [fp, #-12]
 353:Include/sys.h ****     return RME_SVC(RME_SVC_PRC_PGT,
 1000              		.loc 3 353 12
 1001 0014 08101BE5 		ldr	r1, [fp, #-8]
 1002 0018 0C201BE5 		ldr	r2, [fp, #-12]
 1003 001c 0030A0E3 		mov	r3, #0
 1004 0020 0607A0E3 		mov	r0, #1572864
 1005 0024 FEFFFFEB 		bl	RME_Svc
 1006 0028 0030A0E1 		mov	r3, r0
 354:Include/sys.h ****                    0U,
 355:Include/sys.h ****                    Cap_Prc,
 356:Include/sys.h ****                    Cap_Pgt,
 357:Include/sys.h ****                    0U);
 358:Include/sys.h **** }
 1007              		.loc 3 358 1
 1008 002c 0300A0E1 		mov	r0, r3
 1009 0030 04D04BE2 		sub	sp, fp, #4
 1010              		.cfi_def_cfa 13, 8
 1011              		@ sp needed
 1012 0034 0088BDE8 		pop	{fp, pc}
 1013              		.cfi_endproc
 1014              	.LFE17:
 1016              		.section	.text.RME_Pgt_Crt,"ax",%progbits
 1017              		.align	2
 1018              		.global	RME_Pgt_Crt
 1019              		.syntax unified
 1020              		.arm
 1022              	RME_Pgt_Crt:
 1023              	.LFB18:
 359:Include/sys.h **** /* End Function:RME_Prc_Pgt **************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 32


 360:Include/sys.h **** /* Function:RME_Pgt_Crt *******************************************************
 361:Include/sys.h **** Description : Create a page table.
 362:Include/sys.h **** Input       : cid_t Cap_Cpt - The capability table that contains the newly
 363:Include/sys.h ****                                   created cap to pgtbl.
 364:Include/sys.h ****                                   2-Level.
 365:Include/sys.h ****               cid_t Cap_Kom - The kernel memory capability.
 366:Include/sys.h ****                                   2-Level.
 367:Include/sys.h ****               cid_t Cap_Pgt - The capability slot that you want this newly
 368:Include/sys.h ****                                   created page table capability to be in.
 369:Include/sys.h ****                                   1-Level.
 370:Include/sys.h ****               ptr_t Raddr - The relative virtual address to store the page
 371:Include/sys.h ****                                 table kernel object.
 372:Include/sys.h ****               ptr_t Base - The virtual address to start mapping for this
 373:Include/sys.h ****                                page table. This address must be aligned to the
 374:Include/sys.h ****                                total size of the table.
 375:Include/sys.h ****               ptr_t Is_Top - Whether this page table is the top-level. If
 376:Include/sys.h ****                                  it is, we will map all the kernel page
 377:Include/sys.h ****                                  directories into this one.
 378:Include/sys.h ****               ptr_t Size_Order - The size order of the page table. The size
 379:Include/sys.h ****                                      refers to the size of each page in the
 380:Include/sys.h ****                                      page directory.
 381:Include/sys.h ****               ptr_t Num_Order - The number order of entries in the table.
 382:Include/sys.h **** Output      : None.
 383:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 384:Include/sys.h **** ******************************************************************************/
 385:Include/sys.h **** ret_t RME_Pgt_Crt(cid_t Cap_Cpt,
 386:Include/sys.h ****                       cid_t Cap_Kom,
 387:Include/sys.h ****                       cid_t Cap_Pgt,
 388:Include/sys.h ****                       ptr_t Raddr,
 389:Include/sys.h ****                       ptr_t Base,
 390:Include/sys.h ****                       ptr_t Is_Top,
 391:Include/sys.h ****                       ptr_t Size_Order,
 392:Include/sys.h ****                       ptr_t Num_Order)
 393:Include/sys.h **** {
 1024              		.loc 3 393 1
 1025              		.cfi_startproc
 1026              		@ args = 16, pretend = 0, frame = 16
 1027              		@ frame_needed = 1, uses_anonymous_args = 0
 1028 0000 00482DE9 		push	{fp, lr}
 1029              		.cfi_def_cfa_offset 8
 1030              		.cfi_offset 11, -8
 1031              		.cfi_offset 14, -4
 1032 0004 04B08DE2 		add	fp, sp, #4
 1033              		.cfi_def_cfa 11, 4
 1034 0008 10D04DE2 		sub	sp, sp, #16
 1035 000c 08000BE5 		str	r0, [fp, #-8]
 1036 0010 0C100BE5 		str	r1, [fp, #-12]
 1037 0014 10200BE5 		str	r2, [fp, #-16]
 1038 0018 14300BE5 		str	r3, [fp, #-20]
 394:Include/sys.h **** 
 395:Include/sys.h ****     return RME_SVC(RME_PGT_SVC(Num_Order,RME_SVC_PGT_CRT),
 1039              		.loc 3 395 12
 1040 001c 10309BE5 		ldr	r3, [fp, #16]
 1041 0020 032CA0E1 		lsl	r2, r3, #24
 1042 0024 08301BE5 		ldr	r3, [fp, #-8]
 1043 0028 033082E1 		orr	r3, r2, r3
 1044 002c 0F0883E3 		orr	r0, r3, #983040
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 33


 1045 0030 0C301BE5 		ldr	r3, [fp, #-12]
 1046 0034 0328A0E1 		lsl	r2, r3, #16
 1047 0038 10301BE5 		ldr	r3, [fp, #-16]
 1048 003c 0334A0E1 		lsl	r3, r3, #8
 1049 0040 7330FFE6 		uxth	r3, r3
 1050 0044 032082E1 		orr	r2, r2, r3
 1051 0048 0C309BE5 		ldr	r3, [fp, #12]
 1052 004c 7330EFE6 		uxtb	r3, r3
 1053 0050 031082E1 		orr	r1, r2, r3
 1054 0054 04209BE5 		ldr	r2, [fp, #4]
 1055 0058 08309BE5 		ldr	r3, [fp, #8]
 1056 005c 033082E1 		orr	r3, r2, r3
 1057 0060 14201BE5 		ldr	r2, [fp, #-20]
 1058 0064 FEFFFFEB 		bl	RME_Svc
 1059 0068 0030A0E1 		mov	r3, r0
 396:Include/sys.h ****                    Cap_Cpt,
 397:Include/sys.h ****                    RME_PARAM_D1(Cap_Kom)|RME_PARAM_Q1(Cap_Pgt)|RME_PARAM_Q0(Size_Order),
 398:Include/sys.h ****                    Raddr,
 399:Include/sys.h ****                    Base|Is_Top);
 400:Include/sys.h **** }
 1060              		.loc 3 400 1
 1061 006c 0300A0E1 		mov	r0, r3
 1062 0070 04D04BE2 		sub	sp, fp, #4
 1063              		.cfi_def_cfa 13, 8
 1064              		@ sp needed
 1065 0074 0088BDE8 		pop	{fp, pc}
 1066              		.cfi_endproc
 1067              	.LFE18:
 1069              		.section	.text.RME_Pgt_Del,"ax",%progbits
 1070              		.align	2
 1071              		.global	RME_Pgt_Del
 1072              		.syntax unified
 1073              		.arm
 1075              	RME_Pgt_Del:
 1076              	.LFB19:
 401:Include/sys.h **** /* End Function:RME_Pgt_Crt **************************************************/
 402:Include/sys.h **** 
 403:Include/sys.h **** /* Function:RME_Pgt_Del *******************************************************
 404:Include/sys.h **** Description : Delete a page table.
 405:Include/sys.h **** Input       : cid_t Cap_Cpt - The capability to the captbl that may contain
 406:Include/sys.h ****                                   the cap to new captbl.
 407:Include/sys.h ****                                   2-Level.
 408:Include/sys.h ****               cid_t Cap_Pgt - The capability slot that you want this newly
 409:Include/sys.h ****                                   created page table capability to be in.
 410:Include/sys.h ****                                   1-Level.
 411:Include/sys.h **** Output      : None.
 412:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 413:Include/sys.h **** ******************************************************************************/
 414:Include/sys.h **** ret_t RME_Pgt_Del(cid_t Cap_Cpt,
 415:Include/sys.h ****                       cid_t Cap_Pgt)
 416:Include/sys.h **** {
 1077              		.loc 3 416 1
 1078              		.cfi_startproc
 1079              		@ args = 0, pretend = 0, frame = 8
 1080              		@ frame_needed = 1, uses_anonymous_args = 0
 1081 0000 00482DE9 		push	{fp, lr}
 1082              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 34


 1083              		.cfi_offset 11, -8
 1084              		.cfi_offset 14, -4
 1085 0004 04B08DE2 		add	fp, sp, #4
 1086              		.cfi_def_cfa 11, 4
 1087 0008 08D04DE2 		sub	sp, sp, #8
 1088 000c 08000BE5 		str	r0, [fp, #-8]
 1089 0010 0C100BE5 		str	r1, [fp, #-12]
 417:Include/sys.h ****     return RME_SVC(RME_SVC_PGT_DEL,
 1090              		.loc 3 417 12
 1091 0014 08301BE5 		ldr	r3, [fp, #-8]
 1092 0018 010683E3 		orr	r0, r3, #1048576
 1093 001c 0C101BE5 		ldr	r1, [fp, #-12]
 1094 0020 0030A0E3 		mov	r3, #0
 1095 0024 0020A0E3 		mov	r2, #0
 1096 0028 FEFFFFEB 		bl	RME_Svc
 1097 002c 0030A0E1 		mov	r3, r0
 418:Include/sys.h ****                    Cap_Cpt,
 419:Include/sys.h ****                    Cap_Pgt,
 420:Include/sys.h ****                    0U,
 421:Include/sys.h ****                    0U);
 422:Include/sys.h **** }
 1098              		.loc 3 422 1
 1099 0030 0300A0E1 		mov	r0, r3
 1100 0034 04D04BE2 		sub	sp, fp, #4
 1101              		.cfi_def_cfa 13, 8
 1102              		@ sp needed
 1103 0038 0088BDE8 		pop	{fp, pc}
 1104              		.cfi_endproc
 1105              	.LFE19:
 1107              		.section	.text.RME_Pgt_Add,"ax",%progbits
 1108              		.align	2
 1109              		.global	RME_Pgt_Add
 1110              		.syntax unified
 1111              		.arm
 1113              	RME_Pgt_Add:
 1114              	.LFB20:
 423:Include/sys.h **** /* End Function:RME_Pgt_Del **************************************************/
 424:Include/sys.h **** 
 425:Include/sys.h **** /* Function:RME_Pgt_Add *******************************************************
 426:Include/sys.h **** Description : Delegate a page from one page table to another. This is the only
 427:Include/sys.h ****               way to add pages to new page tables after the system boots.
 428:Include/sys.h **** Input       : cid_t Cap_Pgt_Dst - The capability to the destination page
 429:Include/sys.h ****                                       directory.
 430:Include/sys.h ****                                       2-Level.
 431:Include/sys.h ****               ptr_t Pos_Dst - The position to delegate to in the
 432:Include/sys.h ****                                   destination page directory.
 433:Include/sys.h ****               ptr_t Flag_Dst - The page access permission for the
 434:Include/sys.h ****                                    destination page.
 435:Include/sys.h ****               cid_t Cap_Pgt_Src - The capability to the source page
 436:Include/sys.h ****                                       directory.
 437:Include/sys.h ****                                       2-Level.
 438:Include/sys.h ****               ptr_t Pos_Dst - The position to delegate from in the source
 439:Include/sys.h ****                                   page directory.
 440:Include/sys.h ****               ptr_t Index - The index of the physical address frame to
 441:Include/sys.h ****                                 delegate. For example, if the destination
 442:Include/sys.h ****                                 directory's page size is 1/4 of that of the
 443:Include/sys.h ****                                 source directory, index=0 will delegate the
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 35


 444:Include/sys.h ****                                 first 1/4, index=1 will delegate the second
 445:Include/sys.h ****                                 1/4, index=2 will delegate the third 1/4, and
 446:Include/sys.h ****                                 index=3 will delegate the last 1/4.
 447:Include/sys.h ****                                 All other index values are illegal.
 448:Include/sys.h **** Output      : None.
 449:Include/sys.h **** Return      : ret_t - If successful, 0; or an error code.
 450:Include/sys.h **** ******************************************************************************/
 451:Include/sys.h **** ret_t RME_Pgt_Add(cid_t Cap_Pgt_Dst,
 452:Include/sys.h ****                       ptr_t Pos_Dst,
 453:Include/sys.h ****                       ptr_t Flag_Dst,
 454:Include/sys.h ****                       cid_t Cap_Pgt_Src,
 455:Include/sys.h ****                       ptr_t Pos_Src,
 456:Include/sys.h ****                       ptr_t Index)
 457:Include/sys.h **** {
 1115              		.loc 3 457 1
 1116              		.cfi_startproc
 1117              		@ args = 8, pretend = 0, frame = 16
 1118              		@ frame_needed = 1, uses_anonymous_args = 0
 1119 0000 00482DE9 		push	{fp, lr}
 1120              		.cfi_def_cfa_offset 8
 1121              		.cfi_offset 11, -8
 1122              		.cfi_offset 14, -4
 1123 0004 04B08DE2 		add	fp, sp, #4
 1124              		.cfi_def_cfa 11, 4
 1125 0008 10D04DE2 		sub	sp, sp, #16
 1126 000c 08000BE5 		str	r0, [fp, #-8]
 1127 0010 0C100BE5 		str	r1, [fp, #-12]
 1128 0014 10200BE5 		str	r2, [fp, #-16]
 1129 0018 14300BE5 		str	r3, [fp, #-20]
 458:Include/sys.h ****     return RME_SVC(RME_SVC_PGT_ADD,
 1130              		.loc 3 458 12
 1131 001c 10301BE5 		ldr	r3, [fp, #-16]
 1132 0020 7330FFE6 		uxth	r3, r3
 1133 0024 110883E3 		orr	r0, r3, #1114112
 1134 0028 08301BE5 		ldr	r3, [fp, #-8]
 1135 002c 0328A0E1 		lsl	r2, r3, #16
 1136 0030 0C301BE5 		ldr	r3, [fp, #-12]
 1137 0034 7330FFE6 		uxth	r3, r3
 1138 0038 031082E1 		orr	r1, r2, r3
 1139 003c 14301BE5 		ldr	r3, [fp, #-20]
 1140 0040 0328A0E1 		lsl	r2, r3, #16
 1141 0044 04309BE5 		ldr	r3, [fp, #4]
 1142 0048 7330FFE6 		uxth	r3, r3
 1143 004c 032082E1 		orr	r2, r2, r3
 1144 0050 08309BE5 		ldr	r3, [fp, #8]
 1145 0054 FEFFFFEB 		bl	RME_Svc
 1146 0058 0030A0E1 		mov	r3, r0
 459:Include/sys.h ****                    RME_PARAM_D0(Flag_Dst),
 460:Include/sys.h ****                    RME_PARAM_D1(Cap_Pgt_Dst)|RME_PARAM_D0(Pos_Dst),
 461:Include/sys.h ****                    RME_PARAM_D1(Cap_Pgt_Src)|RME_PARAM_D0(Pos_Src),
 462:Include/sys.h ****                    Index);
 463:Include/sys.h **** }
 1147              		.loc 3 463 1
 1148 005c 0300A0E1 		mov	r0, r3
 1149 0060 04D04BE2 		sub	sp, fp, #4
 1150              		.cfi_def_cfa 13, 8
 1151              		@ sp needed
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 36


 1152 0064 0088BDE8 		pop	{fp, pc}
 1153              		.cfi_endproc
 1154              	.LFE20:
 1156              		.global	Cur_addr
 1157              		.section	.bss.Cur_addr,"aw",%nobits
 1158              		.align	2
 1161              	Cur_addr:
 1162 0000 00000000 		.space	4
 1163              		.global	start
 1164              		.section	.bss.start,"aw",%nobits
 1165              		.align	2
 1168              	start:
 1169 0000 00000000 		.space	4
 1170              		.global	end
 1171              		.section	.bss.end,"aw",%nobits
 1172              		.align	2
 1175              	end:
 1176 0000 00000000 		.space	4
 1177              		.section	.text._RME_Tsc_Init,"ax",%progbits
 1178              		.align	2
 1179              		.global	_RME_Tsc_Init
 1180              		.syntax unified
 1181              		.arm
 1183              	_RME_Tsc_Init:
 1184              	.LFB21:
   1:Source/rme_benchmark.c **** /******************************************************************************
   2:Source/rme_benchmark.c **** Filename    : benchmark.c
   3:Source/rme_benchmark.c **** Author      : pry
   4:Source/rme_benchmark.c **** Date        : 04/09/2017
   5:Source/rme_benchmark.c **** Licence     : The Unlicense; see LICENSE for details.
   6:Source/rme_benchmark.c **** Description : The benchmark file for RME.
   7:Source/rme_benchmark.c **** ******************************************************************************/
   8:Source/rme_benchmark.c **** 
   9:Source/rme_benchmark.c **** /* Include *******************************************************************/
  10:Source/rme_benchmark.c **** #include"sys.h"
  11:Source/rme_benchmark.c **** ptr_t Cur_addr;
  12:Source/rme_benchmark.c **** ptr_t start;
  13:Source/rme_benchmark.c **** ptr_t end;
  14:Source/rme_benchmark.c **** /* Need to export error codes, and size of each object, in words! */
  15:Source/rme_benchmark.c **** /* End Include ***************************************************************/
  16:Source/rme_benchmark.c **** 
  17:Source/rme_benchmark.c **** /* Function:_RME_Tsc_Init *****************************************************
  18:Source/rme_benchmark.c **** Description : The initialization of timestamp counter. 19 secs before overflowing.
  19:Source/rme_benchmark.c **** Input       : None.
  20:Source/rme_benchmark.c **** Output      : None.
  21:Source/rme_benchmark.c **** Return      : None.
  22:Source/rme_benchmark.c **** ******************************************************************************/
  23:Source/rme_benchmark.c **** void _RME_Tsc_Init(void)
  24:Source/rme_benchmark.c **** {
 1185              		.loc 1 24 1
 1186              		.cfi_startproc
 1187              		@ args = 0, pretend = 0, frame = 0
 1188              		@ frame_needed = 1, uses_anonymous_args = 0
 1189              		@ link register save eliminated.
 1190 0000 04B02DE5 		str	fp, [sp, #-4]!
 1191              		.cfi_def_cfa_offset 4
 1192              		.cfi_offset 11, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 37


 1193 0004 00B08DE2 		add	fp, sp, #0
 1194              		.cfi_def_cfa_register 11
  25:Source/rme_benchmark.c ****  //   TIM_HandleTypeDef TIM2_Handle;
  26:Source/rme_benchmark.c **** //    
  27:Source/rme_benchmark.c **** //    /* Initialize timer 2 to run at the same speed as the CPU */
  28:Source/rme_benchmark.c **** //    TIM2_Handle.Instance=TIM2;
  29:Source/rme_benchmark.c **** //    TIM2_Handle.Init.Prescaler=0;
  30:Source/rme_benchmark.c **** //    TIM2_Handle.Init.CounterMode=TIM_COUNTERMODE_UP;
  31:Source/rme_benchmark.c **** //    TIM2_Handle.Init.Period=(ptr_t)(-1);
  32:Source/rme_benchmark.c **** //    TIM2_Handle.Init.ClockDivision=TIM_CLOCKDIVISION_DIV1;
  33:Source/rme_benchmark.c **** //    HAL_TIM_Base_Init(&TIM2_Handle);
  34:Source/rme_benchmark.c **** //    __HAL_RCC_TIM2_CLK_ENABLE();
  35:Source/rme_benchmark.c **** //    __HAL_TIM_ENABLE(&TIM2_Handle);
  36:Source/rme_benchmark.c **** }
 1195              		.loc 1 36 1
 1196 0008 00F020E3 		nop
 1197 000c 00D08BE2 		add	sp, fp, #0
 1198              		.cfi_def_cfa_register 13
 1199              		@ sp needed
 1200 0010 04B09DE4 		ldr	fp, [sp], #4
 1201              		.cfi_restore 11
 1202              		.cfi_def_cfa_offset 0
 1203 0014 1EFF2FE1 		bx	lr
 1204              		.cfi_endproc
 1205              	.LFE21:
 1207              		.section	.rodata
 1208              		.align	2
 1209              	.LC0:
 1210 0000 0D0A2068 		.ascii	"\015\012 hello! this is thread \000"
 1210      656C6C6F 
 1210      21207468 
 1210      69732069 
 1210      73207468 
 1211              		.section	.text.RME_Same_Prc_Thd_Switch_Test_Thd,"ax",%progbits
 1212              		.align	2
 1213              		.global	RME_Same_Prc_Thd_Switch_Test_Thd
 1214              		.syntax unified
 1215              		.arm
 1217              	RME_Same_Prc_Thd_Switch_Test_Thd:
 1218              	.LFB22:
  37:Source/rme_benchmark.c **** /* End Function:_RME_Tsc_Init ************************************************/
  38:Source/rme_benchmark.c **** 
  39:Source/rme_benchmark.c **** /* Function:RME_Same_Prc_Thd_Switch_Test_Thd *********************************
  40:Source/rme_benchmark.c **** Description : The thread for testing same-process thread switching performance.
  41:Source/rme_benchmark.c **** Input       : None.
  42:Source/rme_benchmark.c **** Output      : None.
  43:Source/rme_benchmark.c **** Return      : None.
  44:Source/rme_benchmark.c **** ******************************************************************************/
  45:Source/rme_benchmark.c **** void RME_Same_Prc_Thd_Switch_Test_Thd(ptr_t Param1)
  46:Source/rme_benchmark.c **** {
 1219              		.loc 1 46 1
 1220              		.cfi_startproc
 1221              		@ args = 0, pretend = 0, frame = 16
 1222              		@ frame_needed = 1, uses_anonymous_args = 0
 1223 0000 00482DE9 		push	{fp, lr}
 1224              		.cfi_def_cfa_offset 8
 1225              		.cfi_offset 11, -8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 38


 1226              		.cfi_offset 14, -4
 1227 0004 04B08DE2 		add	fp, sp, #4
 1228              		.cfi_def_cfa 11, 4
 1229 0008 10D04DE2 		sub	sp, sp, #16
 1230 000c 10000BE5 		str	r0, [fp, #-16]
  47:Source/rme_benchmark.c ****     ret_t Retval;
  48:Source/rme_benchmark.c **** 
  49:Source/rme_benchmark.c ****     USR_DBG_S("\r\n hello! this is thread ");
 1231              		.loc 1 49 5
 1232 0010 000000E3 		movw	r0, #:lower16:.LC0
 1233 0014 000040E3 		movt	r0, #:upper16:.LC0
 1234 0018 FEFFFFEB 		bl	USR_DBG_S
  50:Source/rme_benchmark.c ****     USR_DBG_I(Param1);
 1235              		.loc 1 50 5
 1236 001c 10301BE5 		ldr	r3, [fp, #-16]
 1237 0020 0300A0E1 		mov	r0, r3
 1238 0024 FEFFFFEB 		bl	USR_DBG_I
 1239              	.L67:
  51:Source/rme_benchmark.c ****     /* Now we switch back to the init thread, immediately */
  52:Source/rme_benchmark.c ****     while(1)
  53:Source/rme_benchmark.c ****     {
  54:Source/rme_benchmark.c ****         /*Retval=RME_CAP_OP(RME_SVC_THD_SWT,0,
  55:Source/rme_benchmark.c ****                           RME_BOOT_INIT_THD,
  56:Source/rme_benchmark.c ****                           0,
  57:Source/rme_benchmark.c ****                           0);*/
  58:Source/rme_benchmark.c ****         Retval=RME_Thd_Swt(RME_BOOT_INIT_THD,0);
 1240              		.loc 1 58 16 discriminator 1
 1241 0028 0010A0E3 		mov	r1, #0
 1242 002c 0300A0E3 		mov	r0, #3
 1243 0030 FEFFFFEB 		bl	RME_Thd_Swt
 1244 0034 08000BE5 		str	r0, [fp, #-8]
 1245              		.loc 1 58 15
 1246 0038 FAFFFFEA 		b	.L67
 1247              		.cfi_endproc
 1248              	.LFE22:
 1250              		.section	.rodata
 1251 001a 0000     		.align	2
 1252              	.LC1:
 1253 001c 0D0A2D2D 		.ascii	"\015\012-----create a thread , TID= \000"
 1253      2D2D2D63 
 1253      72656174 
 1253      65206120 
 1253      74687265 
 1254 003b 00       		.align	2
 1255              	.LC2:
 1256 003c 0D0A6372 		.ascii	"\015\012create a thread      retval= \000"
 1256      65617465 
 1256      20612074 
 1256      68726561 
 1256      64202020 
 1257              		.align	2
 1258              	.LC3:
 1259 005c 0D0A4269 		.ascii	"\015\012Bind the thread to the processor retval= \000"
 1259      6E642074 
 1259      68652074 
 1259      68726561 
 1259      6420746F 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 39


 1260              		.align	2
 1261              	.LC4:
 1262 0088 0D0A5365 		.ascii	"\015\012Set the execution information retval= \000"
 1262      74207468 
 1262      65206578 
 1262      65637574 
 1262      696F6E20 
 1263 00b1 000000   		.align	2
 1264              	.LC5:
 1265 00b4 0D0A00   		.ascii	"\015\012\000"
 1266 00b7 00       		.align	2
 1267              	.LC6:
 1268 00b8 0D0A4465 		.ascii	"\015\012Delegate some timeslice to it retval= \000"
 1268      6C656761 
 1268      74652073 
 1268      6F6D6520 
 1268      74696D65 
 1269              		.section	.text.RME_Thd_Create,"ax",%progbits
 1270              		.align	2
 1271              		.global	RME_Thd_Create
 1272              		.syntax unified
 1273              		.arm
 1275              	RME_Thd_Create:
 1276              	.LFB23:
  59:Source/rme_benchmark.c ****     }
  60:Source/rme_benchmark.c **** }
  61:Source/rme_benchmark.c **** /* End Function:RME_Same_Prc_Thd_Switch_Test_Thd ****************************/
  62:Source/rme_benchmark.c **** 
  63:Source/rme_benchmark.c **** 
  64:Source/rme_benchmark.c **** void RME_Thd_Create(cid_t Cap_Thd,ptr_t Tid,ptr_t Prio,ptr_t Entry,ptr_t Raddr,cid_t Cap_Sig,ptr_t 
  65:Source/rme_benchmark.c **** {
 1277              		.loc 1 65 1
 1278              		.cfi_startproc
 1279              		@ args = 16, pretend = 0, frame = 24
 1280              		@ frame_needed = 1, uses_anonymous_args = 0
 1281 0000 00482DE9 		push	{fp, lr}
 1282              		.cfi_def_cfa_offset 8
 1283              		.cfi_offset 11, -8
 1284              		.cfi_offset 14, -4
 1285 0004 04B08DE2 		add	fp, sp, #4
 1286              		.cfi_def_cfa 11, 4
 1287 0008 28D04DE2 		sub	sp, sp, #40
 1288 000c 10000BE5 		str	r0, [fp, #-16]
 1289 0010 14100BE5 		str	r1, [fp, #-20]
 1290 0014 18200BE5 		str	r2, [fp, #-24]
 1291 0018 1C300BE5 		str	r3, [fp, #-28]
  66:Source/rme_benchmark.c **** 	ret_t Retval;
  67:Source/rme_benchmark.c **** 	cnt_t Count;
  68:Source/rme_benchmark.c **** 	ptr_t Stack_Addr;
  69:Source/rme_benchmark.c **** 	ptr_t Temp;
  70:Source/rme_benchmark.c **** 	USR_DBG_S("\r\n-----create a thread , TID= ");
 1292              		.loc 1 70 2
 1293 001c 000000E3 		movw	r0, #:lower16:.LC1
 1294 0020 000040E3 		movt	r0, #:upper16:.LC1
 1295 0024 FEFFFFEB 		bl	USR_DBG_S
  71:Source/rme_benchmark.c **** 	USR_DBG_H(Tid);
 1296              		.loc 1 71 2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 40


 1297 0028 14001BE5 		ldr	r0, [fp, #-20]
 1298 002c FEFFFFEB 		bl	USR_DBG_H
  72:Source/rme_benchmark.c **** 	/* Initialize the thread's stack before entering it */
  73:Source/rme_benchmark.c **** 	Stack_Addr=(ptr_t)Stack;
 1299              		.loc 1 73 12
 1300 0030 10309BE5 		ldr	r3, [fp, #16]
 1301 0034 08300BE5 		str	r3, [fp, #-8]
  74:Source/rme_benchmark.c **** 
  75:Source/rme_benchmark.c **** 	/* create a thread */
  76:Source/rme_benchmark.c **** 	Retval=RME_Thd_Crt(RME_BOOT_INIT_CPT,RME_BOOT_INIT_KOM,Cap_Thd,
 1302              		.loc 1 76 9
 1303 0038 0030A0E3 		mov	r3, #0
 1304 003c 08308DE5 		str	r3, [sp, #8]
 1305 0040 04309BE5 		ldr	r3, [fp, #4]
 1306 0044 04308DE5 		str	r3, [sp, #4]
 1307 0048 1F30A0E3 		mov	r3, #31
 1308 004c 00308DE5 		str	r3, [sp]
 1309 0050 0230A0E3 		mov	r3, #2
 1310 0054 10201BE5 		ldr	r2, [fp, #-16]
 1311 0058 0510A0E3 		mov	r1, #5
 1312 005c 0000A0E3 		mov	r0, #0
 1313 0060 FEFFFFEB 		bl	RME_Thd_Crt
 1314 0064 0C000BE5 		str	r0, [fp, #-12]
  77:Source/rme_benchmark.c **** 					   RME_BOOT_INIT_PRC,RME_THD_PRIO_MAX,Raddr,0);
  78:Source/rme_benchmark.c **** 	USR_DBG_S("\r\ncreate a thread      retval= ");
 1315              		.loc 1 78 2
 1316 0068 000000E3 		movw	r0, #:lower16:.LC2
 1317 006c 000040E3 		movt	r0, #:upper16:.LC2
 1318 0070 FEFFFFEB 		bl	USR_DBG_S
  79:Source/rme_benchmark.c **** 	USR_DBG_I(Retval);
 1319              		.loc 1 79 2
 1320 0074 0C001BE5 		ldr	r0, [fp, #-12]
 1321 0078 FEFFFFEB 		bl	USR_DBG_I
  80:Source/rme_benchmark.c **** 
  81:Source/rme_benchmark.c **** 	/* Bind the thread to the processor */
  82:Source/rme_benchmark.c **** 	Retval=RME_Thd_Sched_Bind(Cap_Thd,RME_BOOT_INIT_THD,Cap_Sig,
 1322              		.loc 1 82 9
 1323 007c 14201BE5 		ldr	r2, [fp, #-20]
 1324 0080 0030A0E3 		mov	r3, #0
 1325 0084 04308DE5 		str	r3, [sp, #4]
 1326 0088 18301BE5 		ldr	r3, [fp, #-24]
 1327 008c 00308DE5 		str	r3, [sp]
 1328 0090 0230A0E1 		mov	r3, r2
 1329 0094 08209BE5 		ldr	r2, [fp, #8]
 1330 0098 0310A0E3 		mov	r1, #3
 1331 009c 10001BE5 		ldr	r0, [fp, #-16]
 1332 00a0 FEFFFFEB 		bl	RME_Thd_Sched_Bind
 1333 00a4 0C000BE5 		str	r0, [fp, #-12]
  83:Source/rme_benchmark.c **** 							  Tid,Prio,RME_BOOT_HYPER_KOM_VADDR);
  84:Source/rme_benchmark.c **** 	USR_DBG_S("\r\nBind the thread to the processor retval= ");
 1334              		.loc 1 84 2
 1335 00a8 000000E3 		movw	r0, #:lower16:.LC3
 1336 00ac 000040E3 		movt	r0, #:upper16:.LC3
 1337 00b0 FEFFFFEB 		bl	USR_DBG_S
  85:Source/rme_benchmark.c **** 	USR_DBG_I(Retval);
 1338              		.loc 1 85 2
 1339 00b4 0C001BE5 		ldr	r0, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 41


 1340 00b8 FEFFFFEB 		bl	USR_DBG_I
  86:Source/rme_benchmark.c **** 	/* Set the execution information */
  87:Source/rme_benchmark.c **** 
  88:Source/rme_benchmark.c **** 	Retval=RME_Thd_Exec_Set(Cap_Thd,Entry,Stack_Addr,Tid);
 1341              		.loc 1 88 9
 1342 00bc 14301BE5 		ldr	r3, [fp, #-20]
 1343 00c0 08201BE5 		ldr	r2, [fp, #-8]
 1344 00c4 1C101BE5 		ldr	r1, [fp, #-28]
 1345 00c8 10001BE5 		ldr	r0, [fp, #-16]
 1346 00cc FEFFFFEB 		bl	RME_Thd_Exec_Set
 1347 00d0 0C000BE5 		str	r0, [fp, #-12]
  89:Source/rme_benchmark.c **** 	//RME_Stack[2000]=1234;
  90:Source/rme_benchmark.c **** 	USR_DBG_S("\r\nSet the execution information retval= ");
 1348              		.loc 1 90 2
 1349 00d4 000000E3 		movw	r0, #:lower16:.LC4
 1350 00d8 000040E3 		movt	r0, #:upper16:.LC4
 1351 00dc FEFFFFEB 		bl	USR_DBG_S
  91:Source/rme_benchmark.c **** 	USR_DBG_I(Retval);
 1352              		.loc 1 91 2
 1353 00e0 0C001BE5 		ldr	r0, [fp, #-12]
 1354 00e4 FEFFFFEB 		bl	USR_DBG_I
  92:Source/rme_benchmark.c **** 	USR_DBG_S("\r\n");
 1355              		.loc 1 92 2
 1356 00e8 000000E3 		movw	r0, #:lower16:.LC5
 1357 00ec 000040E3 		movt	r0, #:upper16:.LC5
 1358 00f0 FEFFFFEB 		bl	USR_DBG_S
  93:Source/rme_benchmark.c **** 	/* Delegate some timeslice to it */
  94:Source/rme_benchmark.c **** 	Retval=RME_Thd_Time_Xfer(Cap_Thd,RME_BOOT_INIT_THD,Time);
 1359              		.loc 1 94 9
 1360 00f4 0C209BE5 		ldr	r2, [fp, #12]
 1361 00f8 0310A0E3 		mov	r1, #3
 1362 00fc 10001BE5 		ldr	r0, [fp, #-16]
 1363 0100 FEFFFFEB 		bl	RME_Thd_Time_Xfer
 1364 0104 0C000BE5 		str	r0, [fp, #-12]
  95:Source/rme_benchmark.c **** 	USR_DBG_S("\r\nDelegate some timeslice to it retval= ");
 1365              		.loc 1 95 2
 1366 0108 000000E3 		movw	r0, #:lower16:.LC6
 1367 010c 000040E3 		movt	r0, #:upper16:.LC6
 1368 0110 FEFFFFEB 		bl	USR_DBG_S
  96:Source/rme_benchmark.c **** 	USR_DBG_I(Retval);
 1369              		.loc 1 96 2
 1370 0114 0C001BE5 		ldr	r0, [fp, #-12]
 1371 0118 FEFFFFEB 		bl	USR_DBG_I
  97:Source/rme_benchmark.c **** }
 1372              		.loc 1 97 1
 1373 011c 00F020E3 		nop
 1374 0120 04D04BE2 		sub	sp, fp, #4
 1375              		.cfi_def_cfa 13, 8
 1376              		@ sp needed
 1377 0124 0088BDE8 		pop	{fp, pc}
 1378              		.cfi_endproc
 1379              	.LFE23:
 1381              		.section	.rodata
 1382 00e1 000000   		.align	2
 1383              	.LC7:
 1384 00e4 0D0A456E 		.ascii	"\015\012Entering send thread!\000"
 1384      74657269 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 42


 1384      6E672073 
 1384      656E6420 
 1384      74687265 
 1385              		.align	2
 1386              	.LC8:
 1387 00fc 0D0A5365 		.ascii	"\015\012Send!\000"
 1387      6E642100 
 1388              		.section	.text.RME_Same_Prc_Thd_Sig_Test_Thd_send,"ax",%progbits
 1389              		.align	2
 1390              		.global	RME_Same_Prc_Thd_Sig_Test_Thd_send
 1391              		.syntax unified
 1392              		.arm
 1394              	RME_Same_Prc_Thd_Sig_Test_Thd_send:
 1395              	.LFB24:
  98:Source/rme_benchmark.c **** 
  99:Source/rme_benchmark.c **** void RME_Same_Prc_Thd_Sig_Test_Thd_send(void) //low prio 4
 100:Source/rme_benchmark.c **** {
 1396              		.loc 1 100 1
 1397              		.cfi_startproc
 1398              		@ args = 0, pretend = 0, frame = 0
 1399              		@ frame_needed = 1, uses_anonymous_args = 0
 1400 0000 00482DE9 		push	{fp, lr}
 1401              		.cfi_def_cfa_offset 8
 1402              		.cfi_offset 11, -8
 1403              		.cfi_offset 14, -4
 1404 0004 04B08DE2 		add	fp, sp, #4
 1405              		.cfi_def_cfa 11, 4
 101:Source/rme_benchmark.c **** 	USR_DBG_S("\r\nEntering send thread!");
 1406              		.loc 1 101 2
 1407 0008 000000E3 		movw	r0, #:lower16:.LC7
 1408 000c 000040E3 		movt	r0, #:upper16:.LC7
 1409 0010 FEFFFFEB 		bl	USR_DBG_S
 1410              	.L70:
 102:Source/rme_benchmark.c **** 
 103:Source/rme_benchmark.c **** 
 104:Source/rme_benchmark.c **** 	while(1)
 105:Source/rme_benchmark.c **** 	{
 106:Source/rme_benchmark.c **** 		USR_DBG_S("\r\nSend!");
 1411              		.loc 1 106 3
 1412 0014 000000E3 		movw	r0, #:lower16:.LC8
 1413 0018 000040E3 		movt	r0, #:upper16:.LC8
 1414 001c FEFFFFEB 		bl	USR_DBG_S
 107:Source/rme_benchmark.c **** 		RME_Sig_Snd(RME_BOOT_SIG_BENCH);
 1415              		.loc 1 107 3 discriminator 1
 1416 0020 0D00A0E3 		mov	r0, #13
 1417 0024 FEFFFFEB 		bl	RME_Sig_Snd
 106:Source/rme_benchmark.c **** 		RME_Sig_Snd(RME_BOOT_SIG_BENCH);
 1418              		.loc 1 106 3
 1419 0028 F9FFFFEA 		b	.L70
 1420              		.cfi_endproc
 1421              	.LFE24:
 1423              		.section	.rodata
 1424              		.align	2
 1425              	.LC9:
 1426 0104 0D0A456E 		.ascii	"\015\012Entering receive thread!\000"
 1426      74657269 
 1426      6E672072 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 43


 1426      65636569 
 1426      76652074 
 1427 011f 00       		.align	2
 1428              	.LC10:
 1429 0120 0D0A5265 		.ascii	"\015\012Received wrong number!\000"
 1429      63656976 
 1429      65642077 
 1429      726F6E67 
 1429      206E756D 
 1430 0139 000000   		.align	2
 1431              	.LC11:
 1432 013c 0D0A5265 		.ascii	"\015\012Received!\000"
 1432      63656976 
 1432      65642100 
 1433              		.section	.text.RME_Same_Prc_Thd_Sig_Test_Thd_recv,"ax",%progbits
 1434              		.align	2
 1435              		.global	RME_Same_Prc_Thd_Sig_Test_Thd_recv
 1436              		.syntax unified
 1437              		.arm
 1439              	RME_Same_Prc_Thd_Sig_Test_Thd_recv:
 1440              	.LFB25:
 108:Source/rme_benchmark.c **** 	}
 109:Source/rme_benchmark.c **** 
 110:Source/rme_benchmark.c **** }
 111:Source/rme_benchmark.c **** 
 112:Source/rme_benchmark.c **** void RME_Same_Prc_Thd_Sig_Test_Thd_recv(void) // high prio 5
 113:Source/rme_benchmark.c **** {
 1441              		.loc 1 113 1
 1442              		.cfi_startproc
 1443              		@ args = 0, pretend = 0, frame = 0
 1444              		@ frame_needed = 1, uses_anonymous_args = 0
 1445 0000 00482DE9 		push	{fp, lr}
 1446              		.cfi_def_cfa_offset 8
 1447              		.cfi_offset 11, -8
 1448              		.cfi_offset 14, -4
 1449 0004 04B08DE2 		add	fp, sp, #4
 1450              		.cfi_def_cfa 11, 4
 114:Source/rme_benchmark.c **** 	USR_DBG_S("\r\nEntering receive thread!");
 1451              		.loc 1 114 2
 1452 0008 000000E3 		movw	r0, #:lower16:.LC9
 1453 000c 000040E3 		movt	r0, #:upper16:.LC9
 1454 0010 FEFFFFEB 		bl	USR_DBG_S
 1455              	.L74:
 115:Source/rme_benchmark.c **** 
 116:Source/rme_benchmark.c **** 	while(1)
 117:Source/rme_benchmark.c **** 	{
 118:Source/rme_benchmark.c **** 		if(RME_Sig_Rcv(RME_BOOT_SIG_BENCH,RME_RCV_BS)!=1)
 1456              		.loc 1 118 6
 1457 0014 0010A0E3 		mov	r1, #0
 1458 0018 0D00A0E3 		mov	r0, #13
 1459 001c FEFFFFEB 		bl	RME_Sig_Rcv
 1460 0020 0030A0E1 		mov	r3, r0
 1461              		.loc 1 118 5 discriminator 1
 1462 0024 010053E3 		cmp	r3, #1
 1463 0028 0300000A 		beq	.L72
 119:Source/rme_benchmark.c **** 		{
 120:Source/rme_benchmark.c **** 			USR_DBG_S("\r\nReceived wrong number!");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 44


 1464              		.loc 1 120 4
 1465 002c 000000E3 		movw	r0, #:lower16:.LC10
 1466 0030 000040E3 		movt	r0, #:upper16:.LC10
 1467 0034 FEFFFFEB 		bl	USR_DBG_S
 1468              	.L73:
 121:Source/rme_benchmark.c **** 			while(1);
 1469              		.loc 1 121 9
 1470 0038 FEFFFFEA 		b	.L73
 1471              	.L72:
 122:Source/rme_benchmark.c **** 		}
 123:Source/rme_benchmark.c **** 		USR_DBG_S("\r\nReceived!");
 1472              		.loc 1 123 3
 1473 003c 000000E3 		movw	r0, #:lower16:.LC11
 1474 0040 000040E3 		movt	r0, #:upper16:.LC11
 1475 0044 FEFFFFEB 		bl	USR_DBG_S
 118:Source/rme_benchmark.c **** 		{
 1476              		.loc 1 118 5
 1477 0048 F1FFFFEA 		b	.L74
 1478              		.cfi_endproc
 1479              	.LFE25:
 1481              		.section	.rodata
 1482              		.align	2
 1483              	.LC12:
 1484 0148 0D0A2F2A 		.ascii	"\015\012/****************\000"
 1484      2A2A2A2A 
 1484      2A2A2A2A 
 1484      2A2A2A2A 
 1484      2A2A2A00 
 1485              		.align	2
 1486              	.LC13:
 1487 015c 62656769 		.ascii	"begin RME_Same_Prc_Thd_Sig_Test_Thd_main\000"
 1487      6E20524D 
 1487      455F5361 
 1487      6D655F50 
 1487      72635F54 
 1488 0185 000000   		.align	2
 1489              	.LC14:
 1490 0188 2A2A2A2A 		.ascii	"****************/\000"
 1490      2A2A2A2A 
 1490      2A2A2A2A 
 1490      2A2A2A2A 
 1490      2F00
 1491 019a 0000     		.align	2
 1492              	.LC15:
 1493 019c 0D0A4865 		.ascii	"\015\012Hello this is thread main\000"
 1493      6C6C6F20 
 1493      74686973 
 1493      20697320 
 1493      74687265 
 1494              		.section	.text.RME_Same_Prc_Thd_Sig_Test_Thd_main,"ax",%progbits
 1495              		.align	2
 1496              		.global	RME_Same_Prc_Thd_Sig_Test_Thd_main
 1497              		.syntax unified
 1498              		.arm
 1500              	RME_Same_Prc_Thd_Sig_Test_Thd_main:
 1501              	.LFB26:
 124:Source/rme_benchmark.c **** 	}
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 45


 125:Source/rme_benchmark.c **** }
 126:Source/rme_benchmark.c **** 
 127:Source/rme_benchmark.c **** 
 128:Source/rme_benchmark.c **** 
 129:Source/rme_benchmark.c **** 
 130:Source/rme_benchmark.c **** /* Function:RME_Same_Prc_Thd_Switch_Test_Thd *********************************
 131:Source/rme_benchmark.c **** Description : The thread for testing same-process thread signal send and receive performance.
 132:Source/rme_benchmark.c **** Input       : None.
 133:Source/rme_benchmark.c **** Output      : None.
 134:Source/rme_benchmark.c **** Return      : None.
 135:Source/rme_benchmark.c **** ******************************************************************************/
 136:Source/rme_benchmark.c **** void RME_Same_Prc_Thd_Sig_Test_Thd_main(ptr_t TID)
 137:Source/rme_benchmark.c **** {
 1502              		.loc 1 137 1
 1503              		.cfi_startproc
 1504              		@ args = 0, pretend = 0, frame = 8
 1505              		@ frame_needed = 1, uses_anonymous_args = 0
 1506 0000 00482DE9 		push	{fp, lr}
 1507              		.cfi_def_cfa_offset 8
 1508              		.cfi_offset 11, -8
 1509              		.cfi_offset 14, -4
 1510 0004 04B08DE2 		add	fp, sp, #4
 1511              		.cfi_def_cfa 11, 4
 1512 0008 08D04DE2 		sub	sp, sp, #8
 1513 000c 08000BE5 		str	r0, [fp, #-8]
 138:Source/rme_benchmark.c **** 	USR_DBG_S("\r\n");
 1514              		.loc 1 138 2
 1515 0010 000000E3 		movw	r0, #:lower16:.LC5
 1516 0014 000040E3 		movt	r0, #:upper16:.LC5
 1517 0018 FEFFFFEB 		bl	USR_DBG_S
 139:Source/rme_benchmark.c **** 	USR_DBG_S("\r\n/****************");
 1518              		.loc 1 139 2
 1519 001c 000000E3 		movw	r0, #:lower16:.LC12
 1520 0020 000040E3 		movt	r0, #:upper16:.LC12
 1521 0024 FEFFFFEB 		bl	USR_DBG_S
 140:Source/rme_benchmark.c **** 	USR_DBG_S("begin RME_Same_Prc_Thd_Sig_Test_Thd_main");
 1522              		.loc 1 140 2
 1523 0028 000000E3 		movw	r0, #:lower16:.LC13
 1524 002c 000040E3 		movt	r0, #:upper16:.LC13
 1525 0030 FEFFFFEB 		bl	USR_DBG_S
 141:Source/rme_benchmark.c **** 	USR_DBG_S("****************/");
 1526              		.loc 1 141 2
 1527 0034 000000E3 		movw	r0, #:lower16:.LC14
 1528 0038 000040E3 		movt	r0, #:upper16:.LC14
 1529 003c FEFFFFEB 		bl	USR_DBG_S
 142:Source/rme_benchmark.c **** 	USR_DBG_S("\r\nHello this is thread main");
 1530              		.loc 1 142 2
 1531 0040 000000E3 		movw	r0, #:lower16:.LC15
 1532 0044 000040E3 		movt	r0, #:upper16:.LC15
 1533 0048 FEFFFFEB 		bl	USR_DBG_S
 143:Source/rme_benchmark.c **** 	ret_t Retval;
 144:Source/rme_benchmark.c **** 
 145:Source/rme_benchmark.c **** 
 146:Source/rme_benchmark.c **** 	/* send the begin signal */
 147:Source/rme_benchmark.c **** 	RME_Sig_Snd(RME_BOOT_SIG_BENCH);
 1534              		.loc 1 147 2
 1535 004c 0D00A0E3 		mov	r0, #13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 46


 1536 0050 FEFFFFEB 		bl	RME_Sig_Snd
 148:Source/rme_benchmark.c **** 	RME_Thd_Swt(RME_BOOT_BENCH_SEN_THD,0);
 1537              		.loc 1 148 2
 1538 0054 0010A0E3 		mov	r1, #0
 1539 0058 0E00A0E3 		mov	r0, #14
 1540 005c FEFFFFEB 		bl	RME_Thd_Swt
 1541              	.L76:
 149:Source/rme_benchmark.c **** 
 150:Source/rme_benchmark.c **** 	while(1);
 1542              		.loc 1 150 7
 1543 0060 FEFFFFEA 		b	.L76
 1544              		.cfi_endproc
 1545              	.LFE26:
 1547              		.section	.rodata
 1548              		.align	2
 1549              	.LC16:
 1550 01b8 0D0A6372 		.ascii	"\015\012create a signal end point      retval= \000"
 1550      65617465 
 1550      20612073 
 1550      69676E61 
 1550      6C20656E 
 1551              		.section	.text.RME_Same_Prc_Thd_Sig_Testinit,"ax",%progbits
 1552              		.align	2
 1553              		.global	RME_Same_Prc_Thd_Sig_Testinit
 1554              		.syntax unified
 1555              		.arm
 1557              	RME_Same_Prc_Thd_Sig_Testinit:
 1558              	.LFB27:
 151:Source/rme_benchmark.c **** }
 152:Source/rme_benchmark.c **** /* Function:RME_Same_Prc_Thd_Switch_Testinit *************************************
 153:Source/rme_benchmark.c **** Description : The same-process thread signal send and receive test code.
 154:Source/rme_benchmark.c **** Input       : None.
 155:Source/rme_benchmark.c **** Output      : None.
 156:Source/rme_benchmark.c **** Return      : None.
 157:Source/rme_benchmark.c **** ******************************************************************************/
 158:Source/rme_benchmark.c **** void RME_Same_Prc_Thd_Sig_Testinit(void)
 159:Source/rme_benchmark.c **** {
 1559              		.loc 1 159 1
 1560              		.cfi_startproc
 1561              		@ args = 0, pretend = 0, frame = 8
 1562              		@ frame_needed = 1, uses_anonymous_args = 0
 1563 0000 00482DE9 		push	{fp, lr}
 1564              		.cfi_def_cfa_offset 8
 1565              		.cfi_offset 11, -8
 1566              		.cfi_offset 14, -4
 1567 0004 04B08DE2 		add	fp, sp, #4
 1568              		.cfi_def_cfa 11, 4
 1569 0008 18D04DE2 		sub	sp, sp, #24
 160:Source/rme_benchmark.c **** 	ret_t Retval;
 161:Source/rme_benchmark.c **** 
 162:Source/rme_benchmark.c **** 	/* create a signal end point */
 163:Source/rme_benchmark.c **** 	Retval=RME_Sig_Crt(RME_BOOT_INIT_CPT,RME_BOOT_SIG_BENCH);
 1570              		.loc 1 163 9
 1571 000c 0D10A0E3 		mov	r1, #13
 1572 0010 0000A0E3 		mov	r0, #0
 1573 0014 FEFFFFEB 		bl	RME_Sig_Crt
 1574 0018 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 47


 164:Source/rme_benchmark.c **** 	USR_DBG_S("\r\ncreate a signal end point      retval= ");
 1575              		.loc 1 164 2
 1576 001c 000000E3 		movw	r0, #:lower16:.LC16
 1577 0020 000040E3 		movt	r0, #:upper16:.LC16
 1578 0024 FEFFFFEB 		bl	USR_DBG_S
 165:Source/rme_benchmark.c **** 	USR_DBG_I(Retval);
 1579              		.loc 1 165 2
 1580 0028 08001BE5 		ldr	r0, [fp, #-8]
 1581 002c FEFFFFEB 		bl	USR_DBG_I
 166:Source/rme_benchmark.c **** 	/* create signal test thread */
 167:Source/rme_benchmark.c **** 	//void RME_Thd_Create(cid_t Cap_Thd,ptr_t Tid,ptr_t Prc,ptr_t Entry,ptr_t Raddr,cid_t Cap_Sig,ptr_
 168:Source/rme_benchmark.c **** 	RME_Thd_Create(RME_BOOT_BENCH_RCV_THD,RME_TID_4,5,(ptr_t)RME_Same_Prc_Thd_Sig_Test_Thd_recv,
 1582              		.loc 1 168 2
 1583 0030 002000E3 		movw	r2, #:lower16:RME_Same_Prc_Thd_Sig_Test_Thd_recv
 1584 0034 002040E3 		movt	r2, #:upper16:RME_Same_Prc_Thd_Sig_Test_Thd_recv
 1585 0038 003000E3 		movw	r3, #:lower16:Cur_addr
 1586 003c 003040E3 		movt	r3, #:upper16:Cur_addr
 1587 0040 003093E5 		ldr	r3, [r3]
 1588 0044 B0109FE5 		ldr	r1, .L78
 1589 0048 0C108DE5 		str	r1, [sp, #12]
 1590 004c 0611E0E3 		mvn	r1, #-2147483647
 1591 0050 08108DE5 		str	r1, [sp, #8]
 1592 0054 0D10A0E3 		mov	r1, #13
 1593 0058 04108DE5 		str	r1, [sp, #4]
 1594 005c 00308DE5 		str	r3, [sp]
 1595 0060 0230A0E1 		mov	r3, r2
 1596 0064 0520A0E3 		mov	r2, #5
 1597 0068 0410A0E3 		mov	r1, #4
 1598 006c 0F00A0E3 		mov	r0, #15
 1599 0070 FEFFFFEB 		bl	RME_Thd_Create
 169:Source/rme_benchmark.c ****                    Cur_addr,RME_BOOT_SIG_BENCH,RME_THD_INF_TIME,(ptr_t)&RME_Stack3[2000]);
 170:Source/rme_benchmark.c **** 	Cur_addr+=512;
 1600              		.loc 1 170 10
 1601 0074 003000E3 		movw	r3, #:lower16:Cur_addr
 1602 0078 003040E3 		movt	r3, #:upper16:Cur_addr
 1603 007c 003093E5 		ldr	r3, [r3]
 1604 0080 022C83E2 		add	r2, r3, #512
 1605 0084 003000E3 		movw	r3, #:lower16:Cur_addr
 1606 0088 003040E3 		movt	r3, #:upper16:Cur_addr
 1607 008c 002083E5 		str	r2, [r3]
 171:Source/rme_benchmark.c **** 	RME_Thd_Create(RME_BOOT_BENCH_SEN_THD,RME_TID_3,4,(ptr_t)RME_Same_Prc_Thd_Sig_Test_Thd_send,
 1608              		.loc 1 171 2
 1609 0090 002000E3 		movw	r2, #:lower16:RME_Same_Prc_Thd_Sig_Test_Thd_send
 1610 0094 002040E3 		movt	r2, #:upper16:RME_Same_Prc_Thd_Sig_Test_Thd_send
 1611 0098 003000E3 		movw	r3, #:lower16:Cur_addr
 1612 009c 003040E3 		movt	r3, #:upper16:Cur_addr
 1613 00a0 003093E5 		ldr	r3, [r3]
 1614 00a4 54109FE5 		ldr	r1, .L78+4
 1615 00a8 0C108DE5 		str	r1, [sp, #12]
 1616 00ac 0611E0E3 		mvn	r1, #-2147483647
 1617 00b0 08108DE5 		str	r1, [sp, #8]
 1618 00b4 0D10A0E3 		mov	r1, #13
 1619 00b8 04108DE5 		str	r1, [sp, #4]
 1620 00bc 00308DE5 		str	r3, [sp]
 1621 00c0 0230A0E1 		mov	r3, r2
 1622 00c4 0420A0E3 		mov	r2, #4
 1623 00c8 0310A0E3 		mov	r1, #3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 48


 1624 00cc 0E00A0E3 		mov	r0, #14
 1625 00d0 FEFFFFEB 		bl	RME_Thd_Create
 172:Source/rme_benchmark.c **** 				   Cur_addr,RME_BOOT_SIG_BENCH,RME_THD_INF_TIME,(ptr_t)&RME_Stack2[2000]);
 173:Source/rme_benchmark.c **** 	Cur_addr+=512;
 1626              		.loc 1 173 10
 1627 00d4 003000E3 		movw	r3, #:lower16:Cur_addr
 1628 00d8 003040E3 		movt	r3, #:upper16:Cur_addr
 1629 00dc 003093E5 		ldr	r3, [r3]
 1630 00e0 022C83E2 		add	r2, r3, #512
 1631 00e4 003000E3 		movw	r3, #:lower16:Cur_addr
 1632 00e8 003040E3 		movt	r3, #:upper16:Cur_addr
 1633 00ec 002083E5 		str	r2, [r3]
 174:Source/rme_benchmark.c **** }
 1634              		.loc 1 174 1
 1635 00f0 00F020E3 		nop
 1636 00f4 04D04BE2 		sub	sp, fp, #4
 1637              		.cfi_def_cfa 13, 8
 1638              		@ sp needed
 1639 00f8 0088BDE8 		pop	{fp, pc}
 1640              	.L79:
 1641              		.align	2
 1642              	.L78:
 1643 00fc 401F0000 		.word	RME_Stack3+8000
 1644 0100 401F0000 		.word	RME_Stack2+8000
 1645              		.cfi_endproc
 1646              	.LFE27:
 1648              		.section	.rodata
 1649 01e2 0000     		.align	2
 1650              	.LC17:
 1651 01e4 0D0A2073 		.ascii	"\015\012 swt 10000 times time= \000"
 1651      77742031 
 1651      30303030 
 1651      2074696D 
 1651      65732074 
 1652 01fe 0000     		.align	2
 1653              	.LC18:
 1654 0200 0D0A2073 		.ascii	"\015\012 swt 1 times time= \000"
 1654      77742031 
 1654      2074696D 
 1654      65732074 
 1654      696D653D 
 1655 0216 0000     		.align	2
 1656              	.LC19:
 1657 0218 0D0A7465 		.ascii	"\015\012test done \000"
 1657      73742064 
 1657      6F6E6520 
 1657      00
 1658              		.section	.text.RME_Same_Prc_Thd_Switch_Test,"ax",%progbits
 1659              		.align	2
 1660              		.global	RME_Same_Prc_Thd_Switch_Test
 1661              		.syntax unified
 1662              		.arm
 1664              	RME_Same_Prc_Thd_Switch_Test:
 1665              	.LFB28:
 175:Source/rme_benchmark.c **** 
 176:Source/rme_benchmark.c **** /* Function:RME_Same_Prc_Thd_Switch_Test *************************************
 177:Source/rme_benchmark.c **** Description : The same-process thread switch test code.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 49


 178:Source/rme_benchmark.c **** Input       : None.
 179:Source/rme_benchmark.c **** Output      : None.
 180:Source/rme_benchmark.c **** Return      : None.
 181:Source/rme_benchmark.c **** ******************************************************************************/
 182:Source/rme_benchmark.c **** void RME_Same_Prc_Thd_Switch_Test(void)
 183:Source/rme_benchmark.c **** {
 1666              		.loc 1 183 1
 1667              		.cfi_startproc
 1668              		@ args = 0, pretend = 0, frame = 16
 1669              		@ frame_needed = 1, uses_anonymous_args = 0
 1670 0000 00482DE9 		push	{fp, lr}
 1671              		.cfi_def_cfa_offset 8
 1672              		.cfi_offset 11, -8
 1673              		.cfi_offset 14, -4
 1674 0004 04B08DE2 		add	fp, sp, #4
 1675              		.cfi_def_cfa 11, 4
 1676 0008 20D04DE2 		sub	sp, sp, #32
 184:Source/rme_benchmark.c **** 	/*USR_DBG_S("\r\n/****************");
 185:Source/rme_benchmark.c **** 	USR_DBG_S("begin RME_Same_Prc_Thd_Switch_Test");
 186:Source/rme_benchmark.c ****     /* Intra-process thread switching time */
 187:Source/rme_benchmark.c ****     ret_t Retval;
 188:Source/rme_benchmark.c ****     cnt_t Count;
 189:Source/rme_benchmark.c ****     ptr_t Stack_Addr;
 190:Source/rme_benchmark.c ****     ptr_t Temp;
 191:Source/rme_benchmark.c ****     /* Initialize the thread's stack before entering it */
 192:Source/rme_benchmark.c ****     Stack_Addr=(ptr_t)&RME_Stack1[2000];/* _RME_Stack_Init((ptr_t)(&RME_Stack[2047]),
 1677              		.loc 1 192 15
 1678 000c 7C319FE5 		ldr	r3, .L84
 1679 0010 0C300BE5 		str	r3, [fp, #-12]
 193:Source/rme_benchmark.c ****                                (ptr_t)RME_Thd_Stub,
 194:Source/rme_benchmark.c ****                                1, 2, 3, 4); */
 195:Source/rme_benchmark.c **** 
 196:Source/rme_benchmark.c ****     /*USR_DBG_S("\r\n(ptr_t)(&RME_Stack[2047])= ");
 197:Source/rme_benchmark.c ****     USR_DBG_H((ptr_t)(&RME_Stack1[2047]));
 198:Source/rme_benchmark.c ****     USR_DBG_S("\r\nInitialize the thread's stack Stack_Addr= ");
 199:Source/rme_benchmark.c ****     USR_DBG_H(Stack_Addr);*/
 200:Source/rme_benchmark.c **** 
 201:Source/rme_benchmark.c ****     /* There are still many bugs in the kernel. Need a white-box test to guarantee
 202:Source/rme_benchmark.c ****      * that it is free of bugs. Find a scheme to do that */
 203:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_CRT,RME_BOOT_INIT_CPT,
 204:Source/rme_benchmark.c ****                       RME_PARAM_D1(RME_BOOT_INIT_KOM)|RME_PARAM_D0(RME_BOOT_BENCH_THD),
 205:Source/rme_benchmark.c ****                       RME_PARAM_D1(RME_BOOT_INIT_PRC)|RME_PARAM_D0(31),
 206:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_KOM_FRONTIER);*/
 207:Source/rme_benchmark.c ****     Retval=RME_Thd_Crt(RME_BOOT_INIT_CPT,RME_BOOT_INIT_KOM,RME_BOOT_BENCH_THD,
 1680              		.loc 1 207 12
 1681 0014 0030A0E3 		mov	r3, #0
 1682 0018 08308DE5 		str	r3, [sp, #8]
 1683 001c 0239A0E3 		mov	r3, #32768
 1684 0020 04308DE5 		str	r3, [sp, #4]
 1685 0024 1F30A0E3 		mov	r3, #31
 1686 0028 00308DE5 		str	r3, [sp]
 1687 002c 0230A0E3 		mov	r3, #2
 1688 0030 0820A0E3 		mov	r2, #8
 1689 0034 0510A0E3 		mov	r1, #5
 1690 0038 0000A0E3 		mov	r0, #0
 1691 003c FEFFFFEB 		bl	RME_Thd_Crt
 1692 0040 10000BE5 		str	r0, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 50


 208:Source/rme_benchmark.c ****                        RME_BOOT_INIT_PRC,RME_THD_PRIO_MAX,RME_BOOT_BENCH_KOM_FRONTIER,0);
 209:Source/rme_benchmark.c ****     //USR_DBG_S("\r\ncreate a thread      retval= ");
 210:Source/rme_benchmark.c ****     //USR_DBG_I(Retval);
 211:Source/rme_benchmark.c **** 
 212:Source/rme_benchmark.c ****     /* Bind the thread to the processor */
 213:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_SCHED_BIND,RME_BOOT_BENCH_THD,
 214:Source/rme_benchmark.c ****     		          RME_PARAM_D1(RME_BOOT_INIT_THD)|RME_PARAM_D0(RME_CID_NULL),
 215:Source/rme_benchmark.c **** 					  RME_PARAM_D1(RME_TID_2)|RME_PARAM_D0(RME_BOOT_INIT_PRC),
 216:Source/rme_benchmark.c **** 					  RME_BOOT_HYPER_KOM_VADDR);*/
 217:Source/rme_benchmark.c ****     Retval=RME_Thd_Sched_Bind(RME_BOOT_BENCH_THD,RME_BOOT_INIT_THD,RME_CID_NULL,
 1693              		.loc 1 217 12
 1694 0044 0030A0E3 		mov	r3, #0
 1695 0048 04308DE5 		str	r3, [sp, #4]
 1696 004c 0030A0E3 		mov	r3, #0
 1697 0050 00308DE5 		str	r3, [sp]
 1698 0054 0230A0E3 		mov	r3, #2
 1699 0058 0229A0E3 		mov	r2, #32768
 1700 005c 0310A0E3 		mov	r1, #3
 1701 0060 0800A0E3 		mov	r0, #8
 1702 0064 FEFFFFEB 		bl	RME_Thd_Sched_Bind
 1703 0068 10000BE5 		str	r0, [fp, #-16]
 218:Source/rme_benchmark.c ****                               RME_TID_2,0,RME_BOOT_HYPER_KOM_VADDR);
 219:Source/rme_benchmark.c ****     //USR_DBG_S("\r\nBind the thread to the processor retval= ");
 220:Source/rme_benchmark.c ****     //USR_DBG_I(Retval);
 221:Source/rme_benchmark.c ****     extern void RME_Deadloop(void);
 222:Source/rme_benchmark.c ****     /* Set the execution information */
 223:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_EXEC_SET,RME_BOOT_BENCH_THD,
 224:Source/rme_benchmark.c **** 	         	 	 (ptr_t)RME_Same_Prc_Thd_Switch_Test_Thd,
 225:Source/rme_benchmark.c ****     		         //(ptr_t)RME_Deadloop,
 226:Source/rme_benchmark.c **** 					 Stack_Addr,RME_TID_2);*/
 227:Source/rme_benchmark.c ****     Retval=RME_Thd_Exec_Set(RME_BOOT_BENCH_THD,(ptr_t)RME_Same_Prc_Thd_Switch_Test_Thd,Stack_Addr,R
 1704              		.loc 1 227 12
 1705 006c 001000E3 		movw	r1, #:lower16:RME_Same_Prc_Thd_Switch_Test_Thd
 1706 0070 001040E3 		movt	r1, #:upper16:RME_Same_Prc_Thd_Switch_Test_Thd
 1707 0074 0230A0E3 		mov	r3, #2
 1708 0078 0C201BE5 		ldr	r2, [fp, #-12]
 1709 007c 0800A0E3 		mov	r0, #8
 1710 0080 FEFFFFEB 		bl	RME_Thd_Exec_Set
 1711 0084 10000BE5 		str	r0, [fp, #-16]
 228:Source/rme_benchmark.c ****     //RME_Stack[2000]=1234;
 229:Source/rme_benchmark.c ****     //USR_DBG_S("\r\nSet the execution information retval= ");
 230:Source/rme_benchmark.c ****     //USR_DBG_I(Retval);
 231:Source/rme_benchmark.c ****     //USR_DBG_S("\r\n");
 232:Source/rme_benchmark.c ****     /* Delegate some timeslice to it */
 233:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_TIME_XFER,RME_BOOT_BENCH_THD,
 234:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_THD,
 235:Source/rme_benchmark.c ****                       RME_BOOT_INIT_THD,
 236:Source/rme_benchmark.c ****                       10000000);*/
 237:Source/rme_benchmark.c ****     Retval=RME_Thd_Time_Xfer(RME_BOOT_BENCH_THD,RME_BOOT_INIT_THD,RME_THD_INF_TIME);
 1712              		.loc 1 237 12
 1713 0088 0621E0E3 		mvn	r2, #-2147483647
 1714 008c 0310A0E3 		mov	r1, #3
 1715 0090 0800A0E3 		mov	r0, #8
 1716 0094 FEFFFFEB 		bl	RME_Thd_Time_Xfer
 1717 0098 10000BE5 		str	r0, [fp, #-16]
 238:Source/rme_benchmark.c **** 
 239:Source/rme_benchmark.c ****     //Retval=RME_Thd_Time_Xfer(RME_BOOT_BENCH_THD,RME_BOOT_INIT_THD,1000);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 51


 240:Source/rme_benchmark.c ****     //USR_DBG_S("\r\nDelegate some timeslice to it retval= ");
 241:Source/rme_benchmark.c ****          //USR_DBG_I(Retval);
 242:Source/rme_benchmark.c **** 
 243:Source/rme_benchmark.c ****     Retval=RME_Thd_Swt(RME_BOOT_BENCH_THD,0);
 1718              		.loc 1 243 12
 1719 009c 0010A0E3 		mov	r1, #0
 1720 00a0 0800A0E3 		mov	r0, #8
 1721 00a4 FEFFFFEB 		bl	RME_Thd_Swt
 1722 00a8 10000BE5 		str	r0, [fp, #-16]
 244:Source/rme_benchmark.c ****     /*USR_DBG_S("\r\nTry to switch to that thread - should fail  retval= ");
 245:Source/rme_benchmark.c ****     USR_DBG_I(Retval);*/
 246:Source/rme_benchmark.c ****     /* Test result: intra-process ctxsw 358cycles/1.657us, frt w/mpu 163cycles/0.754us,
 247:Source/rme_benchmark.c ****     * composite 324. opted max:323
 248:Source/rme_benchmark.c ****     * all:33.0
 249:Source/rme_benchmark.c ****     * empty: 4.09 - 0.409us, most time spent on internals
 250:Source/rme_benchmark.c ****     * w/selections: 7.15 - maybe no need to check frozen cap from the proc.
 251:Source/rme_benchmark.c ****     * w/checkings:10.926 - 317us.
 252:Source/rme_benchmark.c ****     * total:16.57
 253:Source/rme_benchmark.c ****     * 16.2us now, after cleaning up two bad things
 254:Source/rme_benchmark.c ****     * 14.7us after CPUID optimizations. The quiescence hardly worked.
 255:Source/rme_benchmark.c ****     * no cache - 3 times slower, mainly due to the flash. ART does not really help.
 256:Source/rme_benchmark.c ****     * Performance cannot be further optimized anymore without compiler intrinsics.
 257:Source/rme_benchmark.c ****     * Something terribly wrong with systick. 38 second wrapwround
 258:Source/rme_benchmark.c ****     * This configuration, CPU works at 216MHz, correct, but the 
 259:Source/rme_benchmark.c ****     * The TSC is always 8 cycles between reads.
 260:Source/rme_benchmark.c ****     */
 261:Source/rme_benchmark.c ****     //_RME_Tsc_Init();
 262:Source/rme_benchmark.c ****     //for(Count=0;Count<10000;Count++)
 263:Source/rme_benchmark.c ****     start=get_time();
 1723              		.loc 1 263 11
 1724 00ac FEFFFFEB 		bl	get_time
 1725 00b0 0020A0E1 		mov	r2, r0
 1726              		.loc 1 263 10 discriminator 1
 1727 00b4 003000E3 		movw	r3, #:lower16:start
 1728 00b8 003040E3 		movt	r3, #:upper16:start
 1729 00bc 002083E5 		str	r2, [r3]
 264:Source/rme_benchmark.c ****     for(Count=0;Count<10000;Count++)
 1730              		.loc 1 264 14
 1731 00c0 0030A0E3 		mov	r3, #0
 1732 00c4 08300BE5 		str	r3, [fp, #-8]
 1733              		.loc 1 264 5
 1734 00c8 050000EA 		b	.L81
 1735              	.L82:
 265:Source/rme_benchmark.c ****     {
 266:Source/rme_benchmark.c ****          RME_Thd_Swt(RME_BOOT_BENCH_THD,0);
 1736              		.loc 1 266 10
 1737 00cc 0010A0E3 		mov	r1, #0
 1738 00d0 0800A0E3 		mov	r0, #8
 1739 00d4 FEFFFFEB 		bl	RME_Thd_Swt
 264:Source/rme_benchmark.c ****     for(Count=0;Count<10000;Count++)
 1740              		.loc 1 264 34 discriminator 3
 1741 00d8 08301BE5 		ldr	r3, [fp, #-8]
 1742 00dc 013083E2 		add	r3, r3, #1
 1743 00e0 08300BE5 		str	r3, [fp, #-8]
 1744              	.L81:
 264:Source/rme_benchmark.c ****     for(Count=0;Count<10000;Count++)
 1745              		.loc 1 264 22 discriminator 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 52


 1746 00e4 08301BE5 		ldr	r3, [fp, #-8]
 1747 00e8 0F2702E3 		movw	r2, #9999
 1748 00ec 020053E1 		cmp	r3, r2
 1749 00f0 F5FFFFDA 		ble	.L82
 267:Source/rme_benchmark.c ****         //Temp=RME_TSC();
 268:Source/rme_benchmark.c ****         /*Retval=RME_CAP_OP(RME_SVC_THD_SWT,0,
 269:Source/rme_benchmark.c ****                           RME_BOOT_BENCH_THD,
 270:Source/rme_benchmark.c ****                           0,
 271:Source/rme_benchmark.c ****                           0);*/
 272:Source/rme_benchmark.c ****         //Retval=RME_Thd_Swt(RME_BOOT_BENCH_THD,0);
 273:Source/rme_benchmark.c ****         //Temp=RME_TSC()-Temp;
 274:Source/rme_benchmark.c ****        // Time[Count]=Temp-8;
 275:Source/rme_benchmark.c ****         //USR_DBG_S("\r\nTry to switch to that thread  retval= ");
 276:Source/rme_benchmark.c ****         //USR_DBG_I(Retval);
 277:Source/rme_benchmark.c ****     }
 278:Source/rme_benchmark.c ****     
 279:Source/rme_benchmark.c ****     end=get_time();
 1750              		.loc 1 279 9
 1751 00f4 FEFFFFEB 		bl	get_time
 1752 00f8 0020A0E1 		mov	r2, r0
 1753              		.loc 1 279 8 discriminator 1
 1754 00fc 003000E3 		movw	r3, #:lower16:end
 1755 0100 003040E3 		movt	r3, #:upper16:end
 1756 0104 002083E5 		str	r2, [r3]
 280:Source/rme_benchmark.c ****     USR_DBG_S("\r\n swt 10000 times time= ");
 1757              		.loc 1 280 5
 1758 0108 000000E3 		movw	r0, #:lower16:.LC17
 1759 010c 000040E3 		movt	r0, #:upper16:.LC17
 1760 0110 FEFFFFEB 		bl	USR_DBG_S
 281:Source/rme_benchmark.c ****     USR_DBG_I((end-start)*2);
 1761              		.loc 1 281 19
 1762 0114 003000E3 		movw	r3, #:lower16:end
 1763 0118 003040E3 		movt	r3, #:upper16:end
 1764 011c 002093E5 		ldr	r2, [r3]
 1765 0120 003000E3 		movw	r3, #:lower16:start
 1766 0124 003040E3 		movt	r3, #:upper16:start
 1767 0128 003093E5 		ldr	r3, [r3]
 1768 012c 033042E0 		sub	r3, r2, r3
 1769              		.loc 1 281 26
 1770 0130 8330A0E1 		lsl	r3, r3, #1
 1771              		.loc 1 281 5
 1772 0134 0300A0E1 		mov	r0, r3
 1773 0138 FEFFFFEB 		bl	USR_DBG_I
 282:Source/rme_benchmark.c ****     USR_DBG_S("\r\n swt 1 times time= ");
 1774              		.loc 1 282 5
 1775 013c 000000E3 		movw	r0, #:lower16:.LC18
 1776 0140 000040E3 		movt	r0, #:upper16:.LC18
 1777 0144 FEFFFFEB 		bl	USR_DBG_S
 283:Source/rme_benchmark.c ****     USR_DBG_I((end-start)/20000*2);
 1778              		.loc 1 283 19
 1779 0148 003000E3 		movw	r3, #:lower16:end
 1780 014c 003040E3 		movt	r3, #:upper16:end
 1781 0150 002093E5 		ldr	r2, [r3]
 1782 0154 003000E3 		movw	r3, #:lower16:start
 1783 0158 003040E3 		movt	r3, #:upper16:start
 1784 015c 003093E5 		ldr	r3, [r3]
 1785 0160 032042E0 		sub	r2, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 53


 1786              		.loc 1 283 26
 1787 0164 593701E3 		movw	r3, #5977
 1788 0168 B7314DE3 		movt	r3, 53687
 1789 016c 932283E0 		umull	r2, r3, r3, r2
 1790 0170 2337A0E1 		lsr	r3, r3, #14
 1791              		.loc 1 283 32
 1792 0174 8330A0E1 		lsl	r3, r3, #1
 1793              		.loc 1 283 5
 1794 0178 0300A0E1 		mov	r0, r3
 1795 017c FEFFFFEB 		bl	USR_DBG_I
 284:Source/rme_benchmark.c ****     USR_DBG_S("\r\ntest done ");
 1796              		.loc 1 284 5
 1797 0180 000000E3 		movw	r0, #:lower16:.LC19
 1798 0184 000040E3 		movt	r0, #:upper16:.LC19
 1799 0188 FEFFFFEB 		bl	USR_DBG_S
 1800              	.L83:
 285:Source/rme_benchmark.c **** 
 286:Source/rme_benchmark.c ****     // test sig_snd/sig_rcv
 287:Source/rme_benchmark.c **** 
 288:Source/rme_benchmark.c **** 
 289:Source/rme_benchmark.c **** 
 290:Source/rme_benchmark.c ****     while(1);
 1801              		.loc 1 290 10
 1802 018c FEFFFFEA 		b	.L83
 1803              	.L85:
 1804              		.align	2
 1805              	.L84:
 1806 0190 401F0000 		.word	RME_Stack1+8000
 1807              		.cfi_endproc
 1808              	.LFE28:
 1810              		.section	.text.RME_Diff_Prc_Thd_Switch_Test_Thd,"ax",%progbits
 1811              		.align	2
 1812              		.global	RME_Diff_Prc_Thd_Switch_Test_Thd
 1813              		.syntax unified
 1814              		.arm
 1816              	RME_Diff_Prc_Thd_Switch_Test_Thd:
 1817              	.LFB29:
 291:Source/rme_benchmark.c **** }
 292:Source/rme_benchmark.c **** /* End Function:RME_Same_Prc_Thd_Switch_Test ********************************/
 293:Source/rme_benchmark.c **** 
 294:Source/rme_benchmark.c **** /* Function:RME_Diff_Prc_Thd_Switch_Test_Thd *********************************
 295:Source/rme_benchmark.c **** Description : The thread for testing same-process thread switching performance.
 296:Source/rme_benchmark.c **** Input       : None.
 297:Source/rme_benchmark.c **** Output      : None.
 298:Source/rme_benchmark.c **** Return      : None.
 299:Source/rme_benchmark.c **** ******************************************************************************/
 300:Source/rme_benchmark.c **** void RME_Diff_Prc_Thd_Switch_Test_Thd(ptr_t Param1, ptr_t Param2, ptr_t Param3, ptr_t Param4)
 301:Source/rme_benchmark.c **** {
 1818              		.loc 1 301 1
 1819              		.cfi_startproc
 1820              		@ args = 0, pretend = 0, frame = 24
 1821              		@ frame_needed = 1, uses_anonymous_args = 0
 1822 0000 00482DE9 		push	{fp, lr}
 1823              		.cfi_def_cfa_offset 8
 1824              		.cfi_offset 11, -8
 1825              		.cfi_offset 14, -4
 1826 0004 04B08DE2 		add	fp, sp, #4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 54


 1827              		.cfi_def_cfa 11, 4
 1828 0008 18D04DE2 		sub	sp, sp, #24
 1829 000c 10000BE5 		str	r0, [fp, #-16]
 1830 0010 14100BE5 		str	r1, [fp, #-20]
 1831 0014 18200BE5 		str	r2, [fp, #-24]
 1832 0018 1C300BE5 		str	r3, [fp, #-28]
 1833              	.L87:
 302:Source/rme_benchmark.c ****     ret_t Retval;
 303:Source/rme_benchmark.c ****     /* Now we switch back to the init thread, immediately */
 304:Source/rme_benchmark.c ****     while(1)
 305:Source/rme_benchmark.c ****     {
 306:Source/rme_benchmark.c ****         /*Retval=RME_CAP_OP(RME_SVC_THD_SWT,0,
 307:Source/rme_benchmark.c ****                           RME_BOOT_INIT_THD,
 308:Source/rme_benchmark.c ****                           0,
 309:Source/rme_benchmark.c ****                           0);*/
 310:Source/rme_benchmark.c ****         Retval=RME_Thd_Swt(RME_BOOT_INIT_THD,0);
 1834              		.loc 1 310 16 discriminator 1
 1835 001c 0010A0E3 		mov	r1, #0
 1836 0020 0300A0E3 		mov	r0, #3
 1837 0024 FEFFFFEB 		bl	RME_Thd_Swt
 1838 0028 08000BE5 		str	r0, [fp, #-8]
 1839              		.loc 1 310 15
 1840 002c FAFFFFEA 		b	.L87
 1841              		.cfi_endproc
 1842              	.LFE29:
 1844              		.section	.text.RME_Diff_Prc_Thd_Switch_Test,"ax",%progbits
 1845              		.align	2
 1846              		.global	RME_Diff_Prc_Thd_Switch_Test
 1847              		.syntax unified
 1848              		.arm
 1850              	RME_Diff_Prc_Thd_Switch_Test:
 1851              	.LFB30:
 311:Source/rme_benchmark.c ****     }
 312:Source/rme_benchmark.c **** }
 313:Source/rme_benchmark.c **** /* End Function:RME_Diff_Prc_Thd_Switch_Test_Thd ****************************/
 314:Source/rme_benchmark.c **** 
 315:Source/rme_benchmark.c **** /* Function:RME_Diff_Prc_Thd_Switch_Test *************************************
 316:Source/rme_benchmark.c **** Description : The same-process thread switch test code.
 317:Source/rme_benchmark.c **** Input       : None.
 318:Source/rme_benchmark.c **** Output      : None.
 319:Source/rme_benchmark.c **** Return      : None.
 320:Source/rme_benchmark.c **** ******************************************************************************/
 321:Source/rme_benchmark.c **** void RME_Diff_Prc_Thd_Switch_Test(void)
 322:Source/rme_benchmark.c **** {
 1852              		.loc 1 322 1
 1853              		.cfi_startproc
 1854              		@ args = 0, pretend = 0, frame = 16
 1855              		@ frame_needed = 1, uses_anonymous_args = 0
 1856 0000 00482DE9 		push	{fp, lr}
 1857              		.cfi_def_cfa_offset 8
 1858              		.cfi_offset 11, -8
 1859              		.cfi_offset 14, -4
 1860 0004 04B08DE2 		add	fp, sp, #4
 1861              		.cfi_def_cfa 11, 4
 1862 0008 18D04DE2 		sub	sp, sp, #24
 323:Source/rme_benchmark.c ****     /* Intra-process thread switching time */
 324:Source/rme_benchmark.c ****     ret_t Retval;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 55


 325:Source/rme_benchmark.c ****     cnt_t Count;
 326:Source/rme_benchmark.c ****     ptr_t Stack_Addr;
 327:Source/rme_benchmark.c ****     ptr_t Temp;
 328:Source/rme_benchmark.c ****     ptr_t Frontier;
 329:Source/rme_benchmark.c ****     
 330:Source/rme_benchmark.c ****     Frontier=RME_BOOT_BENCH_KOM_FRONTIER;
 1863              		.loc 1 330 13
 1864 000c 0239A0E3 		mov	r3, #32768
 1865 0010 0C300BE5 		str	r3, [fp, #-12]
 331:Source/rme_benchmark.c ****     /* Initialize the thread's stack before entering it */
 332:Source/rme_benchmark.c ****     Stack_Addr=_RME_Stack_Init((ptr_t)(&RME_Stack1[2047]),
 1866              		.loc 1 332 16
 1867 0014 54009FE5 		ldr	r0, .L92
 1868 0018 001000E3 		movw	r1, #:lower16:RME_Thd_Stub
 1869 001c 001040E3 		movt	r1, #:upper16:RME_Thd_Stub
 1870 0020 0430A0E3 		mov	r3, #4
 1871 0024 04308DE5 		str	r3, [sp, #4]
 1872 0028 0330A0E3 		mov	r3, #3
 1873 002c 00308DE5 		str	r3, [sp]
 1874 0030 0230A0E3 		mov	r3, #2
 1875 0034 0120A0E3 		mov	r2, #1
 1876 0038 FEFFFFEB 		bl	_RME_Stack_Init
 1877 003c 10000BE5 		str	r0, [fp, #-16]
 333:Source/rme_benchmark.c ****                                (ptr_t)RME_Thd_Stub,
 334:Source/rme_benchmark.c ****                                1, 2, 3, 4);
 335:Source/rme_benchmark.c ****     
 336:Source/rme_benchmark.c ****     /* Create the page table for the whole address space range */
 337:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_PGT_CRT,RME_BOOT_INIT_CPT,
 338:Source/rme_benchmark.c ****                       RME_PARAM_D1(RME_BOOT_INIT_KOM)|RME_PARAM_Q1(RME_BOOT_BENCH_PGT_TOP)|
 339:Source/rme_benchmark.c ****                       RME_PARAM_O1(29)|RME_PARAM_O0(3),
 340:Source/rme_benchmark.c ****                       Frontier,
 341:Source/rme_benchmark.c ****                       1);*/
 342:Source/rme_benchmark.c **** //    Frontier+=;
 343:Source/rme_benchmark.c **** //    /* Create the page table for the SRAM range */
 344:Source/rme_benchmark.c **** //    Retval=RME_CAP_OP(RME_SVC_PGT_CRT,RME_BOOT_INIT_CPT,
 345:Source/rme_benchmark.c **** //                      RME_PARAM_D1(RME_BOOT_INIT_KOM)|RME_PARAM_Q1(RME_BOOT_BENCH_PGT_SRAM)|
 346:Source/rme_benchmark.c **** //                      RME_PARAM_O1(16)|RME_PARAM_O0(3),
 347:Source/rme_benchmark.c **** //                      Frontier,
 348:Source/rme_benchmark.c **** //                      0x20000001);*/
 349:Source/rme_benchmark.c **** //    Frontier+=;
 350:Source/rme_benchmark.c **** //    /* Map the pages into the top-level and the second-level */
 351:Source/rme_benchmark.c **** //    RME_CAP_OP(RME_SVC_PGT_ADD,0,
 352:Source/rme_benchmark.c **** //               RME_PARAM_Q1(RME_BOOT_BENCH_PGT_TOP)|0,
 353:Source/rme_benchmark.c **** //               RME_PARAM_D1(RME_BOOT_INIT_PGT)|0,
 354:Source/rme_benchmark.c **** //               |0)*/
 355:Source/rme_benchmark.c ****                       
 356:Source/rme_benchmark.c ****                   
 357:Source/rme_benchmark.c ****     
 358:Source/rme_benchmark.c ****     
 359:Source/rme_benchmark.c ****     
 360:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_CRT,RME_BOOT_INIT_CPT,
 361:Source/rme_benchmark.c ****                       RME_PARAM_D1(RME_BOOT_INIT_KOM)|RME_PARAM_D0(RME_BOOT_BENCH_THD),
 362:Source/rme_benchmark.c ****                       RME_PARAM_D1(RME_BOOT_INIT_PRC)|RME_PARAM_D0(31),
 363:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_KOM_FRONTIER);*/
 364:Source/rme_benchmark.c ****     
 365:Source/rme_benchmark.c ****     /* Bind the thread to the processor */
 366:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_SCHED_BIND,0,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 56


 367:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_THD,
 368:Source/rme_benchmark.c ****                       RME_BOOT_INIT_THD,
 369:Source/rme_benchmark.c ****                       0);*/
 370:Source/rme_benchmark.c ****     
 371:Source/rme_benchmark.c ****     /* Set the execution information */
 372:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_EXEC_SET,0,
 373:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_THD,
 374:Source/rme_benchmark.c ****                       (ptr_t)RME_Same_Prc_Thd_Switch_Test_Thd,
 375:Source/rme_benchmark.c ****                       Stack_Addr);*/
 376:Source/rme_benchmark.c ****                       
 377:Source/rme_benchmark.c ****     /* Delegate some timeslice to it */
 378:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_TIME_XFER,0,
 379:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_THD,
 380:Source/rme_benchmark.c ****                       RME_BOOT_INIT_THD,
 381:Source/rme_benchmark.c ****                       10000000);*/
 382:Source/rme_benchmark.c ****     
 383:Source/rme_benchmark.c ****     /* Try to switch to that thread - should fail */
 384:Source/rme_benchmark.c ****     /*Retval=RME_CAP_OP(RME_SVC_THD_SWT,0,
 385:Source/rme_benchmark.c ****                       RME_BOOT_BENCH_THD,
 386:Source/rme_benchmark.c ****                       0,
 387:Source/rme_benchmark.c ****                       0);*/
 388:Source/rme_benchmark.c ****     /* Test result: intra-process ctxsw 358cycles/1.657us, frt w/mpu 163cycles/0.754us,
 389:Source/rme_benchmark.c ****     * composite 324. opted max:323
 390:Source/rme_benchmark.c ****     * all:33.0
 391:Source/rme_benchmark.c ****     * empty: 4.09 - 0.409us, most time spent on internals
 392:Source/rme_benchmark.c ****     * w/selections: 7.15 - maybe no need to check frozen cap from the proc.
 393:Source/rme_benchmark.c ****     * w/checkings:10.926 - 317us.
 394:Source/rme_benchmark.c ****     * total:16.57
 395:Source/rme_benchmark.c ****     * 16.2us now, after cleaning up two bad things
 396:Source/rme_benchmark.c ****     * 14.7us after CPUID optimizations. The quiescence hardly worked.
 397:Source/rme_benchmark.c ****     * no cache - 3 times slower, mainly due to the flash. ART does not really help.
 398:Source/rme_benchmark.c ****     * Performance cannot be further optimized anymore without compiler intrinsics.
 399:Source/rme_benchmark.c ****     * Something terribly wrong with systick. 38 second wrapwround
 400:Source/rme_benchmark.c ****     * This configuration, CPU works at 216MHz, correct, but the 
 401:Source/rme_benchmark.c ****     * The TSC is always 8 cycles between reads.
 402:Source/rme_benchmark.c ****     */
 403:Source/rme_benchmark.c ****     _RME_Tsc_Init();
 1878              		.loc 1 403 5
 1879 0040 FEFFFFEB 		bl	_RME_Tsc_Init
 404:Source/rme_benchmark.c ****     for(Count=0;Count<10000;Count++)
 1880              		.loc 1 404 14
 1881 0044 0030A0E3 		mov	r3, #0
 1882 0048 08300BE5 		str	r3, [fp, #-8]
 1883              		.loc 1 404 5
 1884 004c 020000EA 		b	.L89
 1885              	.L90:
 1886              		.loc 1 404 34 discriminator 3
 1887 0050 08301BE5 		ldr	r3, [fp, #-8]
 1888 0054 013083E2 		add	r3, r3, #1
 1889 0058 08300BE5 		str	r3, [fp, #-8]
 1890              	.L89:
 1891              		.loc 1 404 22 discriminator 1
 1892 005c 08301BE5 		ldr	r3, [fp, #-8]
 1893 0060 0F2702E3 		movw	r2, #9999
 1894 0064 020053E1 		cmp	r3, r2
 1895 0068 F8FFFFDA 		ble	.L90
 1896              	.L91:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 57


 405:Source/rme_benchmark.c ****     {
 406:Source/rme_benchmark.c ****         //Temp=RME_TSC();
 407:Source/rme_benchmark.c ****         /*Retval=RME_CAP_OP(RME_SVC_THD_SWT,0,
 408:Source/rme_benchmark.c ****                           RME_BOOT_BENCH_THD,
 409:Source/rme_benchmark.c ****                           0,
 410:Source/rme_benchmark.c ****                           0);*/
 411:Source/rme_benchmark.c ****         //Temp=RME_TSC()-Temp;
 412:Source/rme_benchmark.c ****         //Time[Count]=Temp-8;
 413:Source/rme_benchmark.c ****     }
 414:Source/rme_benchmark.c **** 
 415:Source/rme_benchmark.c **** 
 416:Source/rme_benchmark.c ****     while(1);
 1897              		.loc 1 416 10
 1898 006c FEFFFFEA 		b	.L91
 1899              	.L93:
 1900              		.align	2
 1901              	.L92:
 1902 0070 FC1F0000 		.word	RME_Stack1+8188
 1903              		.cfi_endproc
 1904              	.LFE30:
 1906              		.section	.rodata
 1907 0225 000000   		.align	2
 1908              	.LC20:
 1909 0228 200D0A43 		.ascii	" \015\012Cur_addr= \000"
 1909      75725F61 
 1909      6464723D 
 1909      2000
 1910 0236 0000     		.align	2
 1911              	.LC21:
 1912 0238 0D0A6372 		.ascii	"\015\012create benchmark page table  retval= \000"
 1912      65617465 
 1912      2062656E 
 1912      63686D61 
 1912      726B2070 
 1913              		.align	2
 1914              	.LC22:
 1915 0260 0D0A4669 		.ascii	"\015\012First section's first entry \000"
 1915      72737420 
 1915      73656374 
 1915      696F6E27 
 1915      73206669 
 1916 027f 00       		.align	2
 1917              	.LC23:
 1918 0280 20402000 		.ascii	" @ \000"
 1919              		.align	2
 1920              	.LC24:
 1921 0284 0D0A4669 		.ascii	"\015\012First section's 0x080th entry \000"
 1921      72737420 
 1921      73656374 
 1921      696F6E27 
 1921      73203078 
 1922 02a5 000000   		.align	2
 1923              	.LC25:
 1924 02a8 0D0A5365 		.ascii	"\015\012Second section's first entry \000"
 1924      636F6E64 
 1924      20736563 
 1924      74696F6E 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 58


 1924      27732066 
 1925              		.align	2
 1926              	.LC26:
 1927 02c8 0D0A5468 		.ascii	"\015\012Third section's first entry \000"
 1927      69726420 
 1927      73656374 
 1927      696F6E27 
 1927      73206669 
 1928 02e7 00       		.align	2
 1929              	.LC27:
 1930 02e8 0D0A2063 		.ascii	"\015\012 create benchmark prc  retval= \000"
 1930      72656174 
 1930      65206265 
 1930      6E63686D 
 1930      61726B20 
 1931 030a 0000     		.align	2
 1932              	.LC28:
 1933 030c 0D0A2073 		.ascii	"\015\012 switch to new prc  retval= \000"
 1933      77697463 
 1933      6820746F 
 1933      206E6577 
 1933      20707263 
 1934              		.section	.text.RME_Same_Prc_Switch_Test,"ax",%progbits
 1935              		.align	2
 1936              		.global	RME_Same_Prc_Switch_Test
 1937              		.syntax unified
 1938              		.arm
 1940              	RME_Same_Prc_Switch_Test:
 1941              	.LFB31:
 417:Source/rme_benchmark.c **** }
 418:Source/rme_benchmark.c **** /* End Function:RME_Diff_Prc_Thd_Switch_Test ********************************/
 419:Source/rme_benchmark.c **** 
 420:Source/rme_benchmark.c **** /* Function:RME_Same_Prc_Switch_Test *************************************
 421:Source/rme_benchmark.c **** Description : The same-process switch test code.
 422:Source/rme_benchmark.c **** Input       : None.
 423:Source/rme_benchmark.c **** Output      : None.
 424:Source/rme_benchmark.c **** Return      : None.
 425:Source/rme_benchmark.c **** ******************************************************************************/
 426:Source/rme_benchmark.c **** void RME_Same_Prc_Switch_Test(void)
 427:Source/rme_benchmark.c **** {
 1942              		.loc 1 427 1
 1943              		.cfi_startproc
 1944              		@ args = 0, pretend = 0, frame = 8
 1945              		@ frame_needed = 1, uses_anonymous_args = 0
 1946 0000 00482DE9 		push	{fp, lr}
 1947              		.cfi_def_cfa_offset 8
 1948              		.cfi_offset 11, -8
 1949              		.cfi_offset 14, -4
 1950 0004 04B08DE2 		add	fp, sp, #4
 1951              		.cfi_def_cfa 11, 4
 1952 0008 18D04DE2 		sub	sp, sp, #24
 428:Source/rme_benchmark.c **** 	//ret_t RME_Pgt_Crt(cid_t Cap_Cpt,cid_t Cap_Kom,cid_t Cap_Pgt,
 429:Source/rme_benchmark.c **** 	//ptr_t Raddr,ptr_t Base,
 430:Source/rme_benchmark.c ****     //ptr_t Is_Top,
 431:Source/rme_benchmark.c ****     //ptr_t Size_Order,
 432:Source/rme_benchmark.c ****     //ptr_t Num_Order)
 433:Source/rme_benchmark.c **** 	// create benchmark page table
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 59


 434:Source/rme_benchmark.c **** 	ret_t Retval;
 435:Source/rme_benchmark.c **** 	ptr_t Count;
 436:Source/rme_benchmark.c **** 	Cur_addr=RME_BOOT_BENCH_PGT_RADDR;
 1953              		.loc 1 436 10
 1954 000c 003000E3 		movw	r3, #:lower16:Cur_addr
 1955 0010 003040E3 		movt	r3, #:upper16:Cur_addr
 1956 0014 0628A0E3 		mov	r2, #393216
 1957 0018 002083E5 		str	r2, [r3]
 437:Source/rme_benchmark.c **** 	USR_DBG_S(" \r\nCur_addr= ");
 1958              		.loc 1 437 2
 1959 001c 000000E3 		movw	r0, #:lower16:.LC20
 1960 0020 000040E3 		movt	r0, #:upper16:.LC20
 1961 0024 FEFFFFEB 		bl	USR_DBG_S
 438:Source/rme_benchmark.c ****     USR_DBG_H(Cur_addr);
 1962              		.loc 1 438 5
 1963 0028 003000E3 		movw	r3, #:lower16:Cur_addr
 1964 002c 003040E3 		movt	r3, #:upper16:Cur_addr
 1965 0030 003093E5 		ldr	r3, [r3]
 1966 0034 0300A0E1 		mov	r0, r3
 1967 0038 FEFFFFEB 		bl	USR_DBG_H
 439:Source/rme_benchmark.c **** 	Retval=RME_Pgt_Crt(RME_BOOT_INIT_CPT,RME_BOOT_INIT_KOM,RME_BOOT_BENCH_PGT,
 1968              		.loc 1 439 9
 1969 003c 003000E3 		movw	r3, #:lower16:Cur_addr
 1970 0040 003040E3 		movt	r3, #:upper16:Cur_addr
 1971 0044 003093E5 		ldr	r3, [r3]
 1972 0048 0C20A0E3 		mov	r2, #12
 1973 004c 0C208DE5 		str	r2, [sp, #12]
 1974 0050 1420A0E3 		mov	r2, #20
 1975 0054 08208DE5 		str	r2, [sp, #8]
 1976 0058 0120A0E3 		mov	r2, #1
 1977 005c 04208DE5 		str	r2, [sp, #4]
 1978 0060 0020A0E3 		mov	r2, #0
 1979 0064 00208DE5 		str	r2, [sp]
 1980 0068 0920A0E3 		mov	r2, #9
 1981 006c 0510A0E3 		mov	r1, #5
 1982 0070 0000A0E3 		mov	r0, #0
 1983 0074 FEFFFFEB 		bl	RME_Pgt_Crt
 1984 0078 0C000BE5 		str	r0, [fp, #-12]
 440:Source/rme_benchmark.c **** 			    	   Cur_addr,0x00000000U,RME_PGT_TOP,RME_PGT_SIZE_1M,RME_PGT_NUM_4K);
 441:Source/rme_benchmark.c **** 	USR_DBG_S("\r\ncreate benchmark page table  retval= ");
 1985              		.loc 1 441 2
 1986 007c 000000E3 		movw	r0, #:lower16:.LC21
 1987 0080 000040E3 		movt	r0, #:upper16:.LC21
 1988 0084 FEFFFFEB 		bl	USR_DBG_S
 442:Source/rme_benchmark.c **** 	USR_DBG_I(Retval);
 1989              		.loc 1 442 2
 1990 0088 0C001BE5 		ldr	r0, [fp, #-12]
 1991 008c FEFFFFEB 		bl	USR_DBG_I
 443:Source/rme_benchmark.c **** 	// add page to benchmark pgt
 444:Source/rme_benchmark.c **** 	for(Count=0U;Count<0x400U;Count++)
 1992              		.loc 1 444 11
 1993 0090 0030A0E3 		mov	r3, #0
 1994 0094 08300BE5 		str	r3, [fp, #-8]
 1995              		.loc 1 444 2
 1996 0098 0C0000EA 		b	.L95
 1997              	.L96:
 445:Source/rme_benchmark.c **** 	    {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 60


 446:Source/rme_benchmark.c **** 		Retval=RME_Pgt_Add(RME_BOOT_BENCH_PGT,Count,RME_PGT_ALL_DYN,
 1998              		.loc 1 446 10
 1999 009c 0030A0E3 		mov	r3, #0
 2000 00a0 04308DE5 		str	r3, [sp, #4]
 2001 00a4 08301BE5 		ldr	r3, [fp, #-8]
 2002 00a8 00308DE5 		str	r3, [sp]
 2003 00ac 0130A0E3 		mov	r3, #1
 2004 00b0 1F20A0E3 		mov	r2, #31
 2005 00b4 08101BE5 		ldr	r1, [fp, #-8]
 2006 00b8 0900A0E3 		mov	r0, #9
 2007 00bc FEFFFFEB 		bl	RME_Pgt_Add
 2008 00c0 0C000BE5 		str	r0, [fp, #-12]
 444:Source/rme_benchmark.c **** 	    {
 2009              		.loc 1 444 33 discriminator 3
 2010 00c4 08301BE5 		ldr	r3, [fp, #-8]
 2011 00c8 013083E2 		add	r3, r3, #1
 2012 00cc 08300BE5 		str	r3, [fp, #-8]
 2013              	.L95:
 444:Source/rme_benchmark.c **** 	    {
 2014              		.loc 1 444 20 discriminator 1
 2015 00d0 08301BE5 		ldr	r3, [fp, #-8]
 2016 00d4 010B53E3 		cmp	r3, #1024
 2017 00d8 EFFFFF3A 		bcc	.L96
 447:Source/rme_benchmark.c **** 										 RME_BOOT_INIT_PGT,
 448:Source/rme_benchmark.c **** 										 Count,
 449:Source/rme_benchmark.c **** 										 0);
 450:Source/rme_benchmark.c **** 		    /*USR_DBG_S("\r\nadd page to benchmark pgt  retval= ");
 451:Source/rme_benchmark.c **** 			USR_DBG_I(Retval);*/
 452:Source/rme_benchmark.c **** 	    }
 453:Source/rme_benchmark.c **** 		/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 454:Source/rme_benchmark.c **** 	    for(Count=0U;Count<0x200U;Count++)
 2018              		.loc 1 454 15
 2019 00dc 0030A0E3 		mov	r3, #0
 2020 00e0 08300BE5 		str	r3, [fp, #-8]
 2021              		.loc 1 454 6
 2022 00e4 0E0000EA 		b	.L97
 2023              	.L98:
 455:Source/rme_benchmark.c **** 	    {
 456:Source/rme_benchmark.c **** 	    	Retval=RME_Pgt_Add(RME_BOOT_BENCH_PGT,(Count+0x400U),
 2024              		.loc 1 456 14
 2025 00e8 08301BE5 		ldr	r3, [fp, #-8]
 2026 00ec 011B83E2 		add	r1, r3, #1024
 2027 00f0 08301BE5 		ldr	r3, [fp, #-8]
 2028 00f4 013B83E2 		add	r3, r3, #1024
 2029 00f8 0020A0E3 		mov	r2, #0
 2030 00fc 04208DE5 		str	r2, [sp, #4]
 2031 0100 00308DE5 		str	r3, [sp]
 2032 0104 0130A0E3 		mov	r3, #1
 2033 0108 0320A0E3 		mov	r2, #3
 2034 010c 0900A0E3 		mov	r0, #9
 2035 0110 FEFFFFEB 		bl	RME_Pgt_Add
 2036 0114 0C000BE5 		str	r0, [fp, #-12]
 454:Source/rme_benchmark.c **** 	    {
 2037              		.loc 1 454 37 discriminator 3
 2038 0118 08301BE5 		ldr	r3, [fp, #-8]
 2039 011c 013083E2 		add	r3, r3, #1
 2040 0120 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 61


 2041              	.L97:
 454:Source/rme_benchmark.c **** 	    {
 2042              		.loc 1 454 24 discriminator 1
 2043 0124 08301BE5 		ldr	r3, [fp, #-8]
 2044 0128 020C53E3 		cmp	r3, #512
 2045 012c EDFFFF3A 		bcc	.L98
 457:Source/rme_benchmark.c **** 										 RME_PGT_READ|RME_PGT_WRITE,
 458:Source/rme_benchmark.c **** 										 RME_BOOT_INIT_PGT,
 459:Source/rme_benchmark.c **** 										 (Count+0x400U),
 460:Source/rme_benchmark.c **** 										 0);
 461:Source/rme_benchmark.c **** 			/*USR_DBG_S("\r\nadd page to benchmark pgt  retval= ");
 462:Source/rme_benchmark.c **** 						USR_DBG_I(Retval);*/
 463:Source/rme_benchmark.c **** 	    }
 464:Source/rme_benchmark.c **** 
 465:Source/rme_benchmark.c **** 	    /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 466:Source/rme_benchmark.c **** 	    for(Count=0U;Count<0x200U;Count++)
 2046              		.loc 1 466 15
 2047 0130 0030A0E3 		mov	r3, #0
 2048 0134 08300BE5 		str	r3, [fp, #-8]
 2049              		.loc 1 466 6
 2050 0138 0E0000EA 		b	.L99
 2051              	.L100:
 467:Source/rme_benchmark.c **** 	    {
 468:Source/rme_benchmark.c **** 	    	Retval=RME_Pgt_Add(RME_BOOT_BENCH_PGT,(Count+0x600U),
 2052              		.loc 1 468 14
 2053 013c 08301BE5 		ldr	r3, [fp, #-8]
 2054 0140 061C83E2 		add	r1, r3, #1536
 2055 0144 08301BE5 		ldr	r3, [fp, #-8]
 2056 0148 063C83E2 		add	r3, r3, #1536
 2057 014c 0020A0E3 		mov	r2, #0
 2058 0150 04208DE5 		str	r2, [sp, #4]
 2059 0154 00308DE5 		str	r3, [sp]
 2060 0158 0130A0E3 		mov	r3, #1
 2061 015c 0320A0E3 		mov	r2, #3
 2062 0160 0900A0E3 		mov	r0, #9
 2063 0164 FEFFFFEB 		bl	RME_Pgt_Add
 2064 0168 0C000BE5 		str	r0, [fp, #-12]
 466:Source/rme_benchmark.c **** 	    {
 2065              		.loc 1 466 37 discriminator 3
 2066 016c 08301BE5 		ldr	r3, [fp, #-8]
 2067 0170 013083E2 		add	r3, r3, #1
 2068 0174 08300BE5 		str	r3, [fp, #-8]
 2069              	.L99:
 466:Source/rme_benchmark.c **** 	    {
 2070              		.loc 1 466 24 discriminator 1
 2071 0178 08301BE5 		ldr	r3, [fp, #-8]
 2072 017c 020C53E3 		cmp	r3, #512
 2073 0180 EDFFFF3A 		bcc	.L100
 469:Source/rme_benchmark.c **** 	    								 RME_PGT_READ|RME_PGT_WRITE,
 470:Source/rme_benchmark.c **** 										 RME_BOOT_INIT_PGT,
 471:Source/rme_benchmark.c **** 										 (Count+0x600U),
 472:Source/rme_benchmark.c **** 										 0);
 473:Source/rme_benchmark.c **** 			/*USR_DBG_S("\r\nadd page to benchmark pgt  retval= ");
 474:Source/rme_benchmark.c **** 									USR_DBG_I(Retval);*/
 475:Source/rme_benchmark.c **** 	    }
 476:Source/rme_benchmark.c **** 	    USR_DBG_S("\r\nFirst section's first entry ");
 2074              		.loc 1 476 6
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 62


 2075 0184 000000E3 		movw	r0, #:lower16:.LC22
 2076 0188 000040E3 		movt	r0, #:upper16:.LC22
 2077 018c FEFFFFEB 		bl	USR_DBG_S
 477:Source/rme_benchmark.c **** 	    USR_DBG_H(RME_A7A_REG(Cur_addr+RME_KOM_VA_BASE));
 2078              		.loc 1 477 16
 2079 0190 003000E3 		movw	r3, #:lower16:Cur_addr
 2080 0194 003040E3 		movt	r3, #:upper16:Cur_addr
 2081 0198 003093E5 		ldr	r3, [r3]
 2082 019c 813483E2 		add	r3, r3, #-2130706432
 2083              		.loc 1 477 6
 2084 01a0 003093E5 		ldr	r3, [r3]
 2085 01a4 0300A0E1 		mov	r0, r3
 2086 01a8 FEFFFFEB 		bl	USR_DBG_H
 478:Source/rme_benchmark.c **** 	    USR_DBG_S(" @ ");
 2087              		.loc 1 478 6
 2088 01ac 000000E3 		movw	r0, #:lower16:.LC23
 2089 01b0 000040E3 		movt	r0, #:upper16:.LC23
 2090 01b4 FEFFFFEB 		bl	USR_DBG_S
 479:Source/rme_benchmark.c **** 	    USR_DBG_H(Cur_addr+RME_KOM_VA_BASE);
 2091              		.loc 1 479 6
 2092 01b8 003000E3 		movw	r3, #:lower16:Cur_addr
 2093 01bc 003040E3 		movt	r3, #:upper16:Cur_addr
 2094 01c0 003093E5 		ldr	r3, [r3]
 2095 01c4 813483E2 		add	r3, r3, #-2130706432
 2096 01c8 0300A0E1 		mov	r0, r3
 2097 01cc FEFFFFEB 		bl	USR_DBG_H
 480:Source/rme_benchmark.c **** 
 481:Source/rme_benchmark.c **** 	    USR_DBG_S("\r\nFirst section's 0x080th entry ");
 2098              		.loc 1 481 6
 2099 01d0 000000E3 		movw	r0, #:lower16:.LC24
 2100 01d4 000040E3 		movt	r0, #:upper16:.LC24
 2101 01d8 FEFFFFEB 		bl	USR_DBG_S
 482:Source/rme_benchmark.c **** 	    USR_DBG_H(RME_A7A_REG(Cur_addr+0x080*RME_WORD_BYTE+RME_KOM_VA_BASE));
 2102              		.loc 1 482 16
 2103 01dc 003000E3 		movw	r3, #:lower16:Cur_addr
 2104 01e0 003040E3 		movt	r3, #:upper16:Cur_addr
 2105 01e4 003093E5 		ldr	r3, [r3]
 2106 01e8 813483E2 		add	r3, r3, #-2130706432
 2107 01ec 023C83E2 		add	r3, r3, #512
 2108              		.loc 1 482 6
 2109 01f0 003093E5 		ldr	r3, [r3]
 2110 01f4 0300A0E1 		mov	r0, r3
 2111 01f8 FEFFFFEB 		bl	USR_DBG_H
 483:Source/rme_benchmark.c **** 	    USR_DBG_S(" @ ");
 2112              		.loc 1 483 6
 2113 01fc 000000E3 		movw	r0, #:lower16:.LC23
 2114 0200 000040E3 		movt	r0, #:upper16:.LC23
 2115 0204 FEFFFFEB 		bl	USR_DBG_S
 484:Source/rme_benchmark.c **** 	    USR_DBG_H(Cur_addr+0x080*RME_WORD_BYTE+RME_KOM_VA_BASE);
 2116              		.loc 1 484 6
 2117 0208 003000E3 		movw	r3, #:lower16:Cur_addr
 2118 020c 003040E3 		movt	r3, #:upper16:Cur_addr
 2119 0210 003093E5 		ldr	r3, [r3]
 2120 0214 813483E2 		add	r3, r3, #-2130706432
 2121 0218 023C83E2 		add	r3, r3, #512
 2122 021c 0300A0E1 		mov	r0, r3
 2123 0220 FEFFFFEB 		bl	USR_DBG_H
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 63


 485:Source/rme_benchmark.c **** 
 486:Source/rme_benchmark.c **** 	    USR_DBG_S("\r\nSecond section's first entry ");
 2124              		.loc 1 486 6
 2125 0224 000000E3 		movw	r0, #:lower16:.LC25
 2126 0228 000040E3 		movt	r0, #:upper16:.LC25
 2127 022c FEFFFFEB 		bl	USR_DBG_S
 487:Source/rme_benchmark.c **** 	    USR_DBG_H(RME_A7A_REG(Cur_addr+0x400*RME_WORD_BYTE+RME_KOM_VA_BASE));
 2128              		.loc 1 487 16
 2129 0230 003000E3 		movw	r3, #:lower16:Cur_addr
 2130 0234 003040E3 		movt	r3, #:upper16:Cur_addr
 2131 0238 003093E5 		ldr	r3, [r3]
 2132 023c 813483E2 		add	r3, r3, #-2130706432
 2133 0240 013A83E2 		add	r3, r3, #4096
 2134              		.loc 1 487 6
 2135 0244 003093E5 		ldr	r3, [r3]
 2136 0248 0300A0E1 		mov	r0, r3
 2137 024c FEFFFFEB 		bl	USR_DBG_H
 488:Source/rme_benchmark.c **** 	    USR_DBG_S(" @ ");
 2138              		.loc 1 488 6
 2139 0250 000000E3 		movw	r0, #:lower16:.LC23
 2140 0254 000040E3 		movt	r0, #:upper16:.LC23
 2141 0258 FEFFFFEB 		bl	USR_DBG_S
 489:Source/rme_benchmark.c **** 	    USR_DBG_H(Cur_addr+0x400*RME_WORD_BYTE+RME_KOM_VA_BASE);
 2142              		.loc 1 489 6
 2143 025c 003000E3 		movw	r3, #:lower16:Cur_addr
 2144 0260 003040E3 		movt	r3, #:upper16:Cur_addr
 2145 0264 003093E5 		ldr	r3, [r3]
 2146 0268 813483E2 		add	r3, r3, #-2130706432
 2147 026c 013A83E2 		add	r3, r3, #4096
 2148 0270 0300A0E1 		mov	r0, r3
 2149 0274 FEFFFFEB 		bl	USR_DBG_H
 490:Source/rme_benchmark.c **** 
 491:Source/rme_benchmark.c **** 	    USR_DBG_S("\r\nThird section's first entry ");
 2150              		.loc 1 491 6
 2151 0278 000000E3 		movw	r0, #:lower16:.LC26
 2152 027c 000040E3 		movt	r0, #:upper16:.LC26
 2153 0280 FEFFFFEB 		bl	USR_DBG_S
 492:Source/rme_benchmark.c **** 	    USR_DBG_H(RME_A7A_REG(Cur_addr+0x600*RME_WORD_BYTE+RME_KOM_VA_BASE));
 2154              		.loc 1 492 16
 2155 0284 003000E3 		movw	r3, #:lower16:Cur_addr
 2156 0288 003040E3 		movt	r3, #:upper16:Cur_addr
 2157 028c 003093E5 		ldr	r3, [r3]
 2158 0290 813483E2 		add	r3, r3, #-2130706432
 2159 0294 063B83E2 		add	r3, r3, #6144
 2160              		.loc 1 492 6
 2161 0298 003093E5 		ldr	r3, [r3]
 2162 029c 0300A0E1 		mov	r0, r3
 2163 02a0 FEFFFFEB 		bl	USR_DBG_H
 493:Source/rme_benchmark.c **** 	    USR_DBG_S(" @ ");
 2164              		.loc 1 493 6
 2165 02a4 000000E3 		movw	r0, #:lower16:.LC23
 2166 02a8 000040E3 		movt	r0, #:upper16:.LC23
 2167 02ac FEFFFFEB 		bl	USR_DBG_S
 494:Source/rme_benchmark.c **** 	    USR_DBG_H(Cur_addr+0x600*RME_WORD_BYTE+RME_KOM_VA_BASE);
 2168              		.loc 1 494 6
 2169 02b0 003000E3 		movw	r3, #:lower16:Cur_addr
 2170 02b4 003040E3 		movt	r3, #:upper16:Cur_addr
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 64


 2171 02b8 003093E5 		ldr	r3, [r3]
 2172 02bc 813483E2 		add	r3, r3, #-2130706432
 2173 02c0 063B83E2 		add	r3, r3, #6144
 2174 02c4 0300A0E1 		mov	r0, r3
 2175 02c8 FEFFFFEB 		bl	USR_DBG_H
 495:Source/rme_benchmark.c **** 
 496:Source/rme_benchmark.c **** 	    /*USR_DBG_S("\r\nKernel pgtbl's 80th entry ");
 497:Source/rme_benchmark.c **** 	    USR_DBG_H(RME_A7A_REG(((ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE));
 498:Source/rme_benchmark.c **** 	    USR_DBG_S(" @ ");
 499:Source/rme_benchmark.c **** 	    USR_DBG_H(((ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE);*/
 500:Source/rme_benchmark.c **** 	// create benchmark prc
 501:Source/rme_benchmark.c **** 	    Retval=RME_Prc_Crt(RME_BOOT_INIT_CPT,RME_BOOT_BENCH_PRC,RME_BOOT_INIT_CPT,
 2176              		.loc 1 501 13
 2177 02cc 0930A0E3 		mov	r3, #9
 2178 02d0 0020A0E3 		mov	r2, #0
 2179 02d4 1110A0E3 		mov	r1, #17
 2180 02d8 0000A0E3 		mov	r0, #0
 2181 02dc FEFFFFEB 		bl	RME_Prc_Crt
 2182 02e0 0C000BE5 		str	r0, [fp, #-12]
 502:Source/rme_benchmark.c **** 	    				   RME_BOOT_BENCH_PGT);
 503:Source/rme_benchmark.c **** 	    USR_DBG_S("\r\n create benchmark prc  retval= ");
 2183              		.loc 1 503 6
 2184 02e4 000000E3 		movw	r0, #:lower16:.LC27
 2185 02e8 000040E3 		movt	r0, #:upper16:.LC27
 2186 02ec FEFFFFEB 		bl	USR_DBG_S
 504:Source/rme_benchmark.c **** 	    						USR_DBG_I(Retval);
 2187              		.loc 1 504 12
 2188 02f0 0C001BE5 		ldr	r0, [fp, #-12]
 2189 02f4 FEFFFFEB 		bl	USR_DBG_I
 505:Source/rme_benchmark.c **** 	// create new thread
 506:Source/rme_benchmark.c **** //void RME_Thd_Create(cid_t Cap_Thd,ptr_t Tid,ptr_t Prio,ptr_t Entry,ptr_t Raddr,cid_t Cap_Sig,ptr_
 507:Source/rme_benchmark.c **** 	    		RME_Thd_Create(RME_BOOT_BENCH_THD,RME_TID_4,0,
 2190              		.loc 1 507 8
 2191 02f8 003000E3 		movw	r3, #:lower16:RME_Same_Prc_Thd_Switch_Test_Thd
 2192 02fc 003040E3 		movt	r3, #:upper16:RME_Same_Prc_Thd_Switch_Test_Thd
 2193 0300 58209FE5 		ldr	r2, .L101
 2194 0304 0C208DE5 		str	r2, [sp, #12]
 2195 0308 0621E0E3 		mvn	r2, #-2147483647
 2196 030c 08208DE5 		str	r2, [sp, #8]
 2197 0310 0229A0E3 		mov	r2, #32768
 2198 0314 04208DE5 		str	r2, [sp, #4]
 2199 0318 0229A0E3 		mov	r2, #32768
 2200 031c 00208DE5 		str	r2, [sp]
 2201 0320 0020A0E3 		mov	r2, #0
 2202 0324 0410A0E3 		mov	r1, #4
 2203 0328 0800A0E3 		mov	r0, #8
 2204 032c FEFFFFEB 		bl	RME_Thd_Create
 508:Source/rme_benchmark.c **** 	    		(ptr_t)RME_Same_Prc_Thd_Switch_Test_Thd,
 509:Source/rme_benchmark.c **** 				RME_BOOT_BENCH_KOM_FRONTIER,
 510:Source/rme_benchmark.c **** 				RME_CID_NULL,RME_THD_INF_TIME,
 511:Source/rme_benchmark.c **** 				(ptr_t)&RME_Stack3[2000]);
 512:Source/rme_benchmark.c **** 
 513:Source/rme_benchmark.c **** 
 514:Source/rme_benchmark.c **** 	// switch to new prc
 515:Source/rme_benchmark.c **** 	    	    Retval=RME_Thd_Swt(RME_BOOT_BENCH_THD,0);
 2205              		.loc 1 515 18
 2206 0330 0010A0E3 		mov	r1, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 65


 2207 0334 0800A0E3 		mov	r0, #8
 2208 0338 FEFFFFEB 		bl	RME_Thd_Swt
 2209 033c 0C000BE5 		str	r0, [fp, #-12]
 516:Source/rme_benchmark.c **** 	    	    USR_DBG_S("\r\n switch to new prc  retval= ");
 2210              		.loc 1 516 11
 2211 0340 000000E3 		movw	r0, #:lower16:.LC28
 2212 0344 000040E3 		movt	r0, #:upper16:.LC28
 2213 0348 FEFFFFEB 		bl	USR_DBG_S
 517:Source/rme_benchmark.c **** 	    	    USR_DBG_I(Retval);
 2214              		.loc 1 517 11
 2215 034c 0C001BE5 		ldr	r0, [fp, #-12]
 2216 0350 FEFFFFEB 		bl	USR_DBG_I
 518:Source/rme_benchmark.c **** }
 2217              		.loc 1 518 1
 2218 0354 00F020E3 		nop
 2219 0358 04D04BE2 		sub	sp, fp, #4
 2220              		.cfi_def_cfa 13, 8
 2221              		@ sp needed
 2222 035c 0088BDE8 		pop	{fp, pc}
 2223              	.L102:
 2224              		.align	2
 2225              	.L101:
 2226 0360 401F0000 		.word	RME_Stack3+8000
 2227              		.cfi_endproc
 2228              	.LFE31:
 2230              		.section	.rodata
 2231 032b 00       		.align	2
 2232              	.LC29:
 2233 032c 0D0A5465 		.ascii	"\015\012Test begin!\000"
 2233      73742062 
 2233      6567696E 
 2233      2100
 2234 033a 0000     		.align	2
 2235              	.LC30:
 2236 033c 0D0A5465 		.ascii	"\015\012Test done!\000"
 2236      73742064 
 2236      6F6E6521 
 2236      00
 2237              		.section	.text.RME_Benchmark,"ax",%progbits
 2238              		.align	2
 2239              		.global	RME_Benchmark
 2240              		.syntax unified
 2241              		.arm
 2243              	RME_Benchmark:
 2244              	.LFB32:
 519:Source/rme_benchmark.c **** 
 520:Source/rme_benchmark.c **** /* Function:RME_Benchmark *****************************************************
 521:Source/rme_benchmark.c **** Description : The benchmark entry, also the init thread.
 522:Source/rme_benchmark.c **** Input       : None.
 523:Source/rme_benchmark.c **** Output      : None.
 524:Source/rme_benchmark.c **** Return      : None.
 525:Source/rme_benchmark.c **** ******************************************************************************/
 526:Source/rme_benchmark.c **** void RME_Benchmark(void)
 527:Source/rme_benchmark.c **** {
 2245              		.loc 1 527 1
 2246              		.cfi_startproc
 2247              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 66


 2248              		@ frame_needed = 1, uses_anonymous_args = 0
 2249 0000 00482DE9 		push	{fp, lr}
 2250              		.cfi_def_cfa_offset 8
 2251              		.cfi_offset 11, -8
 2252              		.cfi_offset 14, -4
 2253 0004 04B08DE2 		add	fp, sp, #4
 2254              		.cfi_def_cfa 11, 4
 528:Source/rme_benchmark.c **** 	Cur_addr=RME_BOOT_BENCH_KOM_FRONTIER;
 2255              		.loc 1 528 10
 2256 0008 003000E3 		movw	r3, #:lower16:Cur_addr
 2257 000c 003040E3 		movt	r3, #:upper16:Cur_addr
 2258 0010 0229A0E3 		mov	r2, #32768
 2259 0014 002083E5 		str	r2, [r3]
 529:Source/rme_benchmark.c ****     USR_DBG_S("\r\nTest begin!");
 2260              		.loc 1 529 5
 2261 0018 000000E3 		movw	r0, #:lower16:.LC29
 2262 001c 000040E3 		movt	r0, #:upper16:.LC29
 2263 0020 FEFFFFEB 		bl	USR_DBG_S
 530:Source/rme_benchmark.c **** 
 531:Source/rme_benchmark.c ****     //RME_Same_Prc_Thd_Sig_Testinit();
 532:Source/rme_benchmark.c ****     //RME_Same_Prc_Thd_Switch_Test();
 533:Source/rme_benchmark.c ****     RME_Same_Prc_Switch_Test();
 2264              		.loc 1 533 5
 2265 0024 FEFFFFEB 		bl	RME_Same_Prc_Switch_Test
 534:Source/rme_benchmark.c ****     USR_DBG_S("\r\nTest done!");
 2266              		.loc 1 534 5
 2267 0028 000000E3 		movw	r0, #:lower16:.LC30
 2268 002c 000040E3 		movt	r0, #:upper16:.LC30
 2269 0030 FEFFFFEB 		bl	USR_DBG_S
 2270              	.L104:
 535:Source/rme_benchmark.c ****     while(1);
 2271              		.loc 1 535 10
 2272 0034 FEFFFFEA 		b	.L104
 2273              		.cfi_endproc
 2274              	.LFE32:
 2276              		.text
 2277              	.Letext0:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 67


DEFINED SYMBOLS
                            *ABS*:00000000 rme_benchmark.c
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:25     .bss.RME_Stack1:00000000 RME_Stack1
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:22     .bss.RME_Stack1:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:32     .bss.RME_Stack2:00000000 RME_Stack2
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:29     .bss.RME_Stack2:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:39     .bss.RME_Stack3:00000000 RME_Stack3
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:36     .bss.RME_Stack3:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:46     .bss.RME_Stack4:00000000 RME_Stack4
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:43     .bss.RME_Stack4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:53     .bss.RME_Stack5:00000000 RME_Stack5
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:50     .bss.RME_Stack5:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:60     .bss.Time:00000000 Time
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:57     .bss.Time:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:67     .bss.RME_Bench_Buf:00000000 RME_Bench_Buf
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:64     .bss.RME_Bench_Buf:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:70     .text.__USR_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:75     .text.__USR_Putchar:00000000 __USR_Putchar
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:119    .text.USR_DBG_I:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:124    .text.USR_DBG_I:00000000 USR_DBG_I
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:274    .text.USR_DBG_H:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:279    .text.USR_DBG_H:00000000 USR_DBG_H
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:395    .text.USR_DBG_S:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:400    .text.USR_DBG_S:00000000 USR_DBG_S
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:462    .text.get_time:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:467    .text.get_time:00000000 get_time
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:501    .text.RME_Thd_Crt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:506    .text.RME_Thd_Crt:00000000 RME_Thd_Crt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:553    .text.RME_Thd_Exec_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:558    .text.RME_Thd_Exec_Set:00000000 RME_Thd_Exec_Set
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:593    .text.RME_Thd_Time_Xfer:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:598    .text.RME_Thd_Time_Xfer:00000000 RME_Thd_Time_Xfer
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:631    .text.RME_Thd_Sched_Bind:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:636    .text.RME_Thd_Sched_Bind:00000000 RME_Thd_Sched_Bind
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:679    .text.RME_Thd_Swt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:684    .text.RME_Thd_Swt:00000000 RME_Thd_Swt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:716    .text.RME_Sig_Crt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:721    .text.RME_Sig_Crt:00000000 RME_Sig_Crt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:754    .text.RME_Sig_Del:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:759    .text.RME_Sig_Del:00000000 RME_Sig_Del
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:792    .text.RME_Sig_Snd:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:797    .text.RME_Sig_Snd:00000000 RME_Sig_Snd
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:828    .text.RME_Sig_Rcv:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:833    .text.RME_Sig_Rcv:00000000 RME_Sig_Rcv
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:865    .text.RME_Prc_Crt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:870    .text.RME_Prc_Crt:00000000 RME_Prc_Crt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:905    .text.RME_Prc_Del:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:910    .text.RME_Prc_Del:00000000 RME_Prc_Del
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:943    .text.RME_Prc_Cpt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:948    .text.RME_Prc_Cpt:00000000 RME_Prc_Cpt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:980    .text.RME_Prc_Pgt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:985    .text.RME_Prc_Pgt:00000000 RME_Prc_Pgt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1017   .text.RME_Pgt_Crt:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1022   .text.RME_Pgt_Crt:00000000 RME_Pgt_Crt
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1070   .text.RME_Pgt_Del:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1075   .text.RME_Pgt_Del:00000000 RME_Pgt_Del
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1108   .text.RME_Pgt_Add:00000000 $a
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 68


C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1113   .text.RME_Pgt_Add:00000000 RME_Pgt_Add
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1161   .bss.Cur_addr:00000000 Cur_addr
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1158   .bss.Cur_addr:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1168   .bss.start:00000000 start
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1165   .bss.start:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1175   .bss.end:00000000 end
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1172   .bss.end:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1178   .text._RME_Tsc_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1183   .text._RME_Tsc_Init:00000000 _RME_Tsc_Init
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1208   .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1209   .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1212   .text.RME_Same_Prc_Thd_Switch_Test_Thd:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1217   .text.RME_Same_Prc_Thd_Switch_Test_Thd:00000000 RME_Same_Prc_Thd_Switch_Test_Thd
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1252   .rodata:0000001c .LC1
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1255   .rodata:0000003c .LC2
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1258   .rodata:0000005c .LC3
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1261   .rodata:00000088 .LC4
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1264   .rodata:000000b4 .LC5
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1267   .rodata:000000b8 .LC6
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1270   .text.RME_Thd_Create:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1275   .text.RME_Thd_Create:00000000 RME_Thd_Create
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1383   .rodata:000000e4 .LC7
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1386   .rodata:000000fc .LC8
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1389   .text.RME_Same_Prc_Thd_Sig_Test_Thd_send:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1394   .text.RME_Same_Prc_Thd_Sig_Test_Thd_send:00000000 RME_Same_Prc_Thd_Sig_Test_Thd_send
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1425   .rodata:00000104 .LC9
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1428   .rodata:00000120 .LC10
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1431   .rodata:0000013c .LC11
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1434   .text.RME_Same_Prc_Thd_Sig_Test_Thd_recv:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1439   .text.RME_Same_Prc_Thd_Sig_Test_Thd_recv:00000000 RME_Same_Prc_Thd_Sig_Test_Thd_recv
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1483   .rodata:00000148 .LC12
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1486   .rodata:0000015c .LC13
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1489   .rodata:00000188 .LC14
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1492   .rodata:0000019c .LC15
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1495   .text.RME_Same_Prc_Thd_Sig_Test_Thd_main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1500   .text.RME_Same_Prc_Thd_Sig_Test_Thd_main:00000000 RME_Same_Prc_Thd_Sig_Test_Thd_main
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1549   .rodata:000001b8 .LC16
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1552   .text.RME_Same_Prc_Thd_Sig_Testinit:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1557   .text.RME_Same_Prc_Thd_Sig_Testinit:00000000 RME_Same_Prc_Thd_Sig_Testinit
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1643   .text.RME_Same_Prc_Thd_Sig_Testinit:000000fc $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1650   .rodata:000001e4 .LC17
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1653   .rodata:00000200 .LC18
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1656   .rodata:00000218 .LC19
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1659   .text.RME_Same_Prc_Thd_Switch_Test:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1664   .text.RME_Same_Prc_Thd_Switch_Test:00000000 RME_Same_Prc_Thd_Switch_Test
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1806   .text.RME_Same_Prc_Thd_Switch_Test:00000190 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1811   .text.RME_Diff_Prc_Thd_Switch_Test_Thd:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1816   .text.RME_Diff_Prc_Thd_Switch_Test_Thd:00000000 RME_Diff_Prc_Thd_Switch_Test_Thd
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1845   .text.RME_Diff_Prc_Thd_Switch_Test:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1850   .text.RME_Diff_Prc_Thd_Switch_Test:00000000 RME_Diff_Prc_Thd_Switch_Test
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1902   .text.RME_Diff_Prc_Thd_Switch_Test:00000070 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1908   .rodata:00000228 .LC20
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1911   .rodata:00000238 .LC21
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1914   .rodata:00000260 .LC22
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1917   .rodata:00000280 .LC23
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1920   .rodata:00000284 .LC24
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1923   .rodata:000002a8 .LC25
ARM GAS  C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s 			page 69


C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1926   .rodata:000002c8 .LC26
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1929   .rodata:000002e8 .LC27
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1932   .rodata:0000030c .LC28
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1935   .text.RME_Same_Prc_Switch_Test:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:1940   .text.RME_Same_Prc_Switch_Test:00000000 RME_Same_Prc_Switch_Test
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:2226   .text.RME_Same_Prc_Switch_Test:00000360 $d
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:2232   .rodata:0000032c .LC29
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:2235   .rodata:0000033c .LC30
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:2238   .text.RME_Benchmark:00000000 $a
C:\Users\even\AppData\Local\Temp\ccmD8Iqh.s:2243   .text.RME_Benchmark:00000000 RME_Benchmark
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme.h.11.105c42759f88404be372052d8d99e5e6
                           .group:00000000 wm4.benchmark.h.4.93cac077a28578f1e0d65251d1506cef

UNDEFINED SYMBOLS
__aeabi_idiv
__aeabi_idivmod
RME_Svc
RME_Thd_Stub
_RME_Stack_Init
